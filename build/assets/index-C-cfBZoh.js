function rw(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function np(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sw(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),n}var lf={exports:{}},ra={},cf={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function RC(){if(uy)return Ve;uy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=g&&L[g]||L["@@iterator"],typeof L=="function"?L:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function j(L,O,H){this.props=L,this.context=O,this.refs=_,this.updater=H||b}j.prototype.isReactComponent={},j.prototype.setState=function(L,O){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,O,"setState")},j.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function C(){}C.prototype=j.prototype;function T(L,O,H){this.props=L,this.context=O,this.refs=_,this.updater=H||b}var E=T.prototype=new C;E.constructor=T,S(E,j.prototype),E.isPureReactComponent=!0;var N=Array.isArray,P=Object.prototype.hasOwnProperty,I={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function F(L,O,H){var Y,q={},le=null,ee=null;if(O!=null)for(Y in O.ref!==void 0&&(ee=O.ref),O.key!==void 0&&(le=""+O.key),O)P.call(O,Y)&&!D.hasOwnProperty(Y)&&(q[Y]=O[Y]);var de=arguments.length-2;if(de===1)q.children=H;else if(1<de){for(var ke=Array(de),ze=0;ze<de;ze++)ke[ze]=arguments[ze+2];q.children=ke}if(L&&L.defaultProps)for(Y in de=L.defaultProps,de)q[Y]===void 0&&(q[Y]=de[Y]);return{$$typeof:t,type:L,key:le,ref:ee,props:q,_owner:I.current}}function B(L,O){return{$$typeof:t,type:L.type,key:O,ref:L.ref,props:L.props,_owner:L._owner}}function V(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function Z(L){var O={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(H){return O[H]})}var Q=/\/+/g;function re(L,O){return typeof L=="object"&&L!==null&&L.key!=null?Z(""+L.key):O.toString(36)}function fe(L,O,H,Y,q){var le=typeof L;(le==="undefined"||le==="boolean")&&(L=null);var ee=!1;if(L===null)ee=!0;else switch(le){case"string":case"number":ee=!0;break;case"object":switch(L.$$typeof){case t:case e:ee=!0}}if(ee)return ee=L,q=q(ee),L=Y===""?"."+re(ee,0):Y,N(q)?(H="",L!=null&&(H=L.replace(Q,"$&/")+"/"),fe(q,O,H,"",function(ze){return ze})):q!=null&&(V(q)&&(q=B(q,H+(!q.key||ee&&ee.key===q.key?"":(""+q.key).replace(Q,"$&/")+"/")+L)),O.push(q)),1;if(ee=0,Y=Y===""?".":Y+":",N(L))for(var de=0;de<L.length;de++){le=L[de];var ke=Y+re(le,de);ee+=fe(le,O,H,ke,q)}else if(ke=x(L),typeof ke=="function")for(L=ke.call(L),de=0;!(le=L.next()).done;)le=le.value,ke=Y+re(le,de++),ee+=fe(le,O,H,ke,q);else if(le==="object")throw O=String(L),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return ee}function ve(L,O,H){if(L==null)return L;var Y=[],q=0;return fe(L,Y,"","",function(le){return O.call(H,le,q++)}),Y}function K(L){if(L._status===-1){var O=L._result;O=O(),O.then(function(H){(L._status===0||L._status===-1)&&(L._status=1,L._result=H)},function(H){(L._status===0||L._status===-1)&&(L._status=2,L._result=H)}),L._status===-1&&(L._status=0,L._result=O)}if(L._status===1)return L._result.default;throw L._result}var X={current:null},R={transition:null},W={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:R,ReactCurrentOwner:I};function J(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:ve,forEach:function(L,O,H){ve(L,function(){O.apply(this,arguments)},H)},count:function(L){var O=0;return ve(L,function(){O++}),O},toArray:function(L){return ve(L,function(O){return O})||[]},only:function(L){if(!V(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ve.Component=j,Ve.Fragment=n,Ve.Profiler=i,Ve.PureComponent=T,Ve.StrictMode=s,Ve.Suspense=p,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,Ve.act=J,Ve.cloneElement=function(L,O,H){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Y=S({},L.props),q=L.key,le=L.ref,ee=L._owner;if(O!=null){if(O.ref!==void 0&&(le=O.ref,ee=I.current),O.key!==void 0&&(q=""+O.key),L.type&&L.type.defaultProps)var de=L.type.defaultProps;for(ke in O)P.call(O,ke)&&!D.hasOwnProperty(ke)&&(Y[ke]=O[ke]===void 0&&de!==void 0?de[ke]:O[ke])}var ke=arguments.length-2;if(ke===1)Y.children=H;else if(1<ke){de=Array(ke);for(var ze=0;ze<ke;ze++)de[ze]=arguments[ze+2];Y.children=de}return{$$typeof:t,type:L.type,key:q,ref:le,props:Y,_owner:ee}},Ve.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},Ve.createElement=F,Ve.createFactory=function(L){var O=F.bind(null,L);return O.type=L,O},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(L){return{$$typeof:d,render:L}},Ve.isValidElement=V,Ve.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:K}},Ve.memo=function(L,O){return{$$typeof:h,type:L,compare:O===void 0?null:O}},Ve.startTransition=function(L){var O=R.transition;R.transition={};try{L()}finally{R.transition=O}},Ve.unstable_act=J,Ve.useCallback=function(L,O){return X.current.useCallback(L,O)},Ve.useContext=function(L){return X.current.useContext(L)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(L){return X.current.useDeferredValue(L)},Ve.useEffect=function(L,O){return X.current.useEffect(L,O)},Ve.useId=function(){return X.current.useId()},Ve.useImperativeHandle=function(L,O,H){return X.current.useImperativeHandle(L,O,H)},Ve.useInsertionEffect=function(L,O){return X.current.useInsertionEffect(L,O)},Ve.useLayoutEffect=function(L,O){return X.current.useLayoutEffect(L,O)},Ve.useMemo=function(L,O){return X.current.useMemo(L,O)},Ve.useReducer=function(L,O,H){return X.current.useReducer(L,O,H)},Ve.useRef=function(L){return X.current.useRef(L)},Ve.useState=function(L){return X.current.useState(L)},Ve.useSyncExternalStore=function(L,O,H){return X.current.useSyncExternalStore(L,O,H)},Ve.useTransition=function(){return X.current.useTransition()},Ve.version="18.3.1",Ve}var dy;function rp(){return dy||(dy=1,cf.exports=RC()),cf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function OC(){if(fy)return ra;fy=1;var t=rp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,p,h){var m,g={},x=null,b=null;h!==void 0&&(x=""+h),p.key!==void 0&&(x=""+p.key),p.ref!==void 0&&(b=p.ref);for(m in p)s.call(p,m)&&!a.hasOwnProperty(m)&&(g[m]=p[m]);if(d&&d.defaultProps)for(m in p=d.defaultProps,p)g[m]===void 0&&(g[m]=p[m]);return{$$typeof:e,type:d,key:x,ref:b,props:g,_owner:i.current}}return ra.Fragment=n,ra.jsx=l,ra.jsxs=l,ra}var hy;function IC(){return hy||(hy=1,lf.exports=OC()),lf.exports}var u=IC(),tc={},uf={exports:{}},mn={},df={exports:{}},ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function MC(){return py||(py=1,(function(t){function e(R,W){var J=R.length;R.push(W);e:for(;0<J;){var L=J-1>>>1,O=R[L];if(0<i(O,W))R[L]=W,R[J]=O,J=L;else break e}}function n(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var W=R[0],J=R.pop();if(J!==W){R[0]=J;e:for(var L=0,O=R.length,H=O>>>1;L<H;){var Y=2*(L+1)-1,q=R[Y],le=Y+1,ee=R[le];if(0>i(q,J))le<O&&0>i(ee,q)?(R[L]=ee,R[le]=J,L=le):(R[L]=q,R[Y]=J,L=Y);else if(le<O&&0>i(ee,J))R[L]=ee,R[le]=J,L=le;else break e}}return W}function i(R,W){var J=R.sortIndex-W.sortIndex;return J!==0?J:R.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var p=[],h=[],m=1,g=null,x=3,b=!1,S=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(R){for(var W=n(h);W!==null;){if(W.callback===null)s(h);else if(W.startTime<=R)s(h),W.sortIndex=W.expirationTime,e(p,W);else break;W=n(h)}}function N(R){if(_=!1,E(R),!S)if(n(p)!==null)S=!0,K(P);else{var W=n(h);W!==null&&X(N,W.startTime-R)}}function P(R,W){S=!1,_&&(_=!1,C(F),F=-1),b=!0;var J=x;try{for(E(W),g=n(p);g!==null&&(!(g.expirationTime>W)||R&&!Z());){var L=g.callback;if(typeof L=="function"){g.callback=null,x=g.priorityLevel;var O=L(g.expirationTime<=W);W=t.unstable_now(),typeof O=="function"?g.callback=O:g===n(p)&&s(p),E(W)}else s(p);g=n(p)}if(g!==null)var H=!0;else{var Y=n(h);Y!==null&&X(N,Y.startTime-W),H=!1}return H}finally{g=null,x=J,b=!1}}var I=!1,D=null,F=-1,B=5,V=-1;function Z(){return!(t.unstable_now()-V<B)}function Q(){if(D!==null){var R=t.unstable_now();V=R;var W=!0;try{W=D(!0,R)}finally{W?re():(I=!1,D=null)}}else I=!1}var re;if(typeof T=="function")re=function(){T(Q)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ve=fe.port2;fe.port1.onmessage=Q,re=function(){ve.postMessage(null)}}else re=function(){j(Q,0)};function K(R){D=R,I||(I=!0,re())}function X(R,W){F=j(function(){R(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){S||b||(S=!0,K(P))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(R){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var J=x;x=W;try{return R()}finally{x=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,W){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var J=x;x=R;try{return W()}finally{x=J}},t.unstable_scheduleCallback=function(R,W,J){var L=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?L+J:L):J=L,R){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=J+O,R={id:m++,callback:W,priorityLevel:R,startTime:J,expirationTime:O,sortIndex:-1},J>L?(R.sortIndex=J,e(h,R),n(p)===null&&R===n(h)&&(_?(C(F),F=-1):_=!0,X(N,J-L))):(R.sortIndex=O,e(p,R),S||b||(S=!0,K(P))),R},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(R){var W=x;return function(){var J=x;x=W;try{return R.apply(this,arguments)}finally{x=J}}}})(ff)),ff}var my;function DC(){return my||(my=1,df.exports=MC()),df.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function LC(){if(gy)return mn;gy=1;var t=rp(),e=DC();function n(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function a(r,o){l(r,o),l(r+"Capture",o)}function l(r,o){for(i[r]=o,r=0;r<o.length;r++)s.add(o[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function x(r){return p.call(g,r)?!0:p.call(m,r)?!1:h.test(r)?g[r]=!0:(m[r]=!0,!1)}function b(r,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function S(r,o,c,f){if(o===null||typeof o>"u"||b(r,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function _(r,o,c,f,v,y,k){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=v,this.mustUseProperty=c,this.propertyName=r,this.type=o,this.sanitizeURL=y,this.removeEmptyString=k}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new _(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];j[o]=new _(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new _(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new _(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new _(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new _(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new _(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new _(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new _(r,5,!1,r.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function T(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(C,T);j[o]=new _(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(C,T);j[o]=new _(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(C,T);j[o]=new _(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new _(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new _(r,1,!1,r.toLowerCase(),null,!0,!0)});function E(r,o,c,f){var v=j.hasOwnProperty(o)?j[o]:null;(v!==null?v.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,c,v,f)&&(c=null),f||v===null?x(o)&&(c===null?r.removeAttribute(o):r.setAttribute(o,""+c)):v.mustUseProperty?r[v.propertyName]=c===null?v.type===3?!1:"":c:(o=v.attributeName,f=v.attributeNamespace,c===null?r.removeAttribute(o):(v=v.type,c=v===3||v===4&&c===!0?"":""+c,f?r.setAttributeNS(f,o,c):r.setAttribute(o,c))))}var N=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),I=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),Z=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),R=Symbol.iterator;function W(r){return r===null||typeof r!="object"?null:(r=R&&r[R]||r["@@iterator"],typeof r=="function"?r:null)}var J=Object.assign,L;function O(r){if(L===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);L=o&&o[1]||""}return`
`+L+r}var H=!1;function Y(r,o){if(!r||H)return"";H=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var f=G}Reflect.construct(r,[],o)}else{try{o.call()}catch(G){f=G}r.call(o.prototype)}else{try{throw Error()}catch(G){f=G}r()}}catch(G){if(G&&f&&typeof G.stack=="string"){for(var v=G.stack.split(`
`),y=f.stack.split(`
`),k=v.length-1,A=y.length-1;1<=k&&0<=A&&v[k]!==y[A];)A--;for(;1<=k&&0<=A;k--,A--)if(v[k]!==y[A]){if(k!==1||A!==1)do if(k--,A--,0>A||v[k]!==y[A]){var M=`
`+v[k].replace(" at new "," at ");return r.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",r.displayName)),M}while(1<=k&&0<=A);break}}}finally{H=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?O(r):""}function q(r){switch(r.tag){case 5:return O(r.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return r=Y(r.type,!1),r;case 11:return r=Y(r.type.render,!1),r;case 1:return r=Y(r.type,!0),r;default:return""}}function le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case I:return"Portal";case B:return"Profiler";case F:return"StrictMode";case re:return"Suspense";case fe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Z:return(r.displayName||"Context")+".Consumer";case V:return(r._context.displayName||"Context")+".Provider";case Q:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ve:return o=r.displayName||null,o!==null?o:le(r.type)||"Memo";case K:o=r._payload,r=r._init;try{return le(r(o))}catch{}}return null}function ee(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(o);case 8:return o===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function de(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ke(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ze(r){var o=ke(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,y=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return v.call(this)},set:function(k){f=""+k,y.call(this,k)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function rt(r){r._valueTracker||(r._valueTracker=ze(r))}function pe(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return r&&(f=ke(r)?r.checked?"true":"false":r.value),r=f,r!==c?(o.setValue(r),!0):!1}function Ke(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function yt(r,o){var c=o.checked;return J({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function Pn(r,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=de(o.value!=null?o.value:c),r._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ft(r,o){o=o.checked,o!=null&&E(r,"checked",o,!1)}function Gt(r,o){Ft(r,o);var c=de(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?Vt(r,o.type,c):o.hasOwnProperty("defaultValue")&&Vt(r,o.type,de(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function xn(r,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,c||o===r.value||(r.value=o),r.defaultValue=o}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function Vt(r,o,c){(o!=="number"||Ke(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var Hn=Array.isArray;function ae(r,o,c,f){if(r=r.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<r.length;c++)v=o.hasOwnProperty("$"+r[c].value),r[c].selected!==v&&(r[c].selected=v),v&&f&&(r[c].defaultSelected=!0)}else{for(c=""+de(c),o=null,v=0;v<r.length;v++){if(r[v].value===c){r[v].selected=!0,f&&(r[v].defaultSelected=!0);return}o!==null||r[v].disabled||(o=r[v])}o!==null&&(o.selected=!0)}}function be(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return J({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Me(r,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(Hn(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}r._wrapperState={initialValue:de(c)}}function We(r,o){var c=de(o.value),f=de(o.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),o.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),f!=null&&(r.defaultValue=""+f)}function xt(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function Ge(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function et(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?Ge(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ue,oe=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,v){MSApp.execUnsafeLocalFunction(function(){return r(o,c,f,v)})}:r})(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(Ue=Ue||document.createElement("div"),Ue.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ue.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function Pe(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var Le={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Je=["Webkit","ms","Moz","O"];Object.keys(Le).forEach(function(r){Je.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),Le[o]=Le[r]})});function st(r,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Le.hasOwnProperty(r)&&Le[r]?(""+o).trim():o+"px"}function Fe(r,o){r=r.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,v=st(c,o[c],f);c==="float"&&(c="cssFloat"),f?r.setProperty(c,v):r[c]=v}}var qt=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yt(r,o){if(o){if(qt[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Bt(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nt=null;function Xe(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ot=null,Ut=null,It=null;function An(r){if(r=Ui(r)){if(typeof Ot!="function")throw Error(n(280));var o=r.stateNode;o&&(o=gl(o),Ot(r.stateNode,r.type,o))}}function Ae(r){Ut?It?It.push(r):It=[r]:Ut=r}function wt(){if(Ut){var r=Ut,o=It;if(It=Ut=null,An(r),o)for(r=0;r<o.length;r++)An(o[r])}}function Nt(r,o){return r(o)}function Jt(){}var Br=!1;function kt(r,o,c){if(Br)return r(o,c);Br=!0;try{return Nt(r,o,c)}finally{Br=!1,(Ut!==null||It!==null)&&(Jt(),wt())}}function Mt(r,o){var c=r.stateNode;if(c===null)return null;var f=gl(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Ur=!1;if(d)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch{Ur=!1}function wn(r,o,c,f,v,y,k,A,M){var G=Array.prototype.slice.call(arguments,3);try{o.apply(c,G)}catch(se){this.onError(se)}}var zr=!1,Rn=null,_i=!1,Cu=null,Fk={onError:function(r){zr=!0,Rn=r}};function Vk(r,o,c,f,v,y,k,A,M){zr=!1,Rn=null,wn.apply(Fk,arguments)}function Bk(r,o,c,f,v,y,k,A,M){if(Vk.apply(this,arguments),zr){if(zr){var G=Rn;zr=!1,Rn=null}else throw Error(n(198));_i||(_i=!0,Cu=G)}}function ks(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function Om(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function Im(r){if(ks(r)!==r)throw Error(n(188))}function Uk(r){var o=r.alternate;if(!o){if(o=ks(r),o===null)throw Error(n(188));return o!==r?null:r}for(var c=r,f=o;;){var v=c.return;if(v===null)break;var y=v.alternate;if(y===null){if(f=v.return,f!==null){c=f;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===c)return Im(v),r;if(y===f)return Im(v),o;y=y.sibling}throw Error(n(188))}if(c.return!==f.return)c=v,f=y;else{for(var k=!1,A=v.child;A;){if(A===c){k=!0,c=v,f=y;break}if(A===f){k=!0,f=v,c=y;break}A=A.sibling}if(!k){for(A=y.child;A;){if(A===c){k=!0,c=y,f=v;break}if(A===f){k=!0,f=y,c=v;break}A=A.sibling}if(!k)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?r:o}function Mm(r){return r=Uk(r),r!==null?Dm(r):null}function Dm(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=Dm(r);if(o!==null)return o;r=r.sibling}return null}var Lm=e.unstable_scheduleCallback,$m=e.unstable_cancelCallback,zk=e.unstable_shouldYield,Wk=e.unstable_requestPaint,bt=e.unstable_now,Hk=e.unstable_getCurrentPriorityLevel,Eu=e.unstable_ImmediatePriority,Fm=e.unstable_UserBlockingPriority,Ja=e.unstable_NormalPriority,Kk=e.unstable_LowPriority,Vm=e.unstable_IdlePriority,Xa=null,lr=null;function Gk(r){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Xa,r,void 0,(r.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:Jk,qk=Math.log,Yk=Math.LN2;function Jk(r){return r>>>=0,r===0?32:31-(qk(r)/Yk|0)|0}var Qa=64,Za=4194304;function ki(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function el(r,o){var c=r.pendingLanes;if(c===0)return 0;var f=0,v=r.suspendedLanes,y=r.pingedLanes,k=c&268435455;if(k!==0){var A=k&~v;A!==0?f=ki(A):(y&=k,y!==0&&(f=ki(y)))}else k=c&~v,k!==0?f=ki(k):y!==0&&(f=ki(y));if(f===0)return 0;if(o!==0&&o!==f&&(o&v)===0&&(v=f&-f,y=o&-o,v>=y||v===16&&(y&4194240)!==0))return o;if((f&4)!==0&&(f|=c&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=f;0<o;)c=31-Kn(o),v=1<<c,f|=r[c],o&=~v;return f}function Xk(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qk(r,o){for(var c=r.suspendedLanes,f=r.pingedLanes,v=r.expirationTimes,y=r.pendingLanes;0<y;){var k=31-Kn(y),A=1<<k,M=v[k];M===-1?((A&c)===0||(A&f)!==0)&&(v[k]=Xk(A,o)):M<=o&&(r.expiredLanes|=A),y&=~A}}function Nu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Bm(){var r=Qa;return Qa<<=1,(Qa&4194240)===0&&(Qa=64),r}function Tu(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function ji(r,o,c){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-Kn(o),r[o]=c}function Zk(r,o){var c=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<c;){var v=31-Kn(c),y=1<<v;o[v]=0,f[v]=-1,r[v]=-1,c&=~y}}function Pu(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var f=31-Kn(c),v=1<<f;v&o|r[f]&o&&(r[f]|=o),c&=~v}}var tt=0;function Um(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var zm,Au,Wm,Hm,Km,Ru=!1,tl=[],Wr=null,Hr=null,Kr=null,Ci=new Map,Ei=new Map,Gr=[],ej="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gm(r,o){switch(r){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Ci.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ei.delete(o.pointerId)}}function Ni(r,o,c,f,v,y){return r===null||r.nativeEvent!==y?(r={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[v]},o!==null&&(o=Ui(o),o!==null&&Au(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),r)}function tj(r,o,c,f,v){switch(o){case"focusin":return Wr=Ni(Wr,r,o,c,f,v),!0;case"dragenter":return Hr=Ni(Hr,r,o,c,f,v),!0;case"mouseover":return Kr=Ni(Kr,r,o,c,f,v),!0;case"pointerover":var y=v.pointerId;return Ci.set(y,Ni(Ci.get(y)||null,r,o,c,f,v)),!0;case"gotpointercapture":return y=v.pointerId,Ei.set(y,Ni(Ei.get(y)||null,r,o,c,f,v)),!0}return!1}function qm(r){var o=js(r.target);if(o!==null){var c=ks(o);if(c!==null){if(o=c.tag,o===13){if(o=Om(c),o!==null){r.blockedOn=o,Km(r.priority,function(){Wm(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function nl(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=Iu(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);nt=f,c.target.dispatchEvent(f),nt=null}else return o=Ui(c),o!==null&&Au(o),r.blockedOn=c,!1;o.shift()}return!0}function Ym(r,o,c){nl(r)&&c.delete(o)}function nj(){Ru=!1,Wr!==null&&nl(Wr)&&(Wr=null),Hr!==null&&nl(Hr)&&(Hr=null),Kr!==null&&nl(Kr)&&(Kr=null),Ci.forEach(Ym),Ei.forEach(Ym)}function Ti(r,o){r.blockedOn===o&&(r.blockedOn=null,Ru||(Ru=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nj)))}function Pi(r){function o(v){return Ti(v,r)}if(0<tl.length){Ti(tl[0],r);for(var c=1;c<tl.length;c++){var f=tl[c];f.blockedOn===r&&(f.blockedOn=null)}}for(Wr!==null&&Ti(Wr,r),Hr!==null&&Ti(Hr,r),Kr!==null&&Ti(Kr,r),Ci.forEach(o),Ei.forEach(o),c=0;c<Gr.length;c++)f=Gr[c],f.blockedOn===r&&(f.blockedOn=null);for(;0<Gr.length&&(c=Gr[0],c.blockedOn===null);)qm(c),c.blockedOn===null&&Gr.shift()}var lo=N.ReactCurrentBatchConfig,rl=!0;function rj(r,o,c,f){var v=tt,y=lo.transition;lo.transition=null;try{tt=1,Ou(r,o,c,f)}finally{tt=v,lo.transition=y}}function sj(r,o,c,f){var v=tt,y=lo.transition;lo.transition=null;try{tt=4,Ou(r,o,c,f)}finally{tt=v,lo.transition=y}}function Ou(r,o,c,f){if(rl){var v=Iu(r,o,c,f);if(v===null)Xu(r,o,f,sl,c),Gm(r,f);else if(tj(v,r,o,c,f))f.stopPropagation();else if(Gm(r,f),o&4&&-1<ej.indexOf(r)){for(;v!==null;){var y=Ui(v);if(y!==null&&zm(y),y=Iu(r,o,c,f),y===null&&Xu(r,o,f,sl,c),y===v)break;v=y}v!==null&&f.stopPropagation()}else Xu(r,o,f,null,c)}}var sl=null;function Iu(r,o,c,f){if(sl=null,r=Xe(f),r=js(r),r!==null)if(o=ks(r),o===null)r=null;else if(c=o.tag,c===13){if(r=Om(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return sl=r,null}function Jm(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hk()){case Eu:return 1;case Fm:return 4;case Ja:case Kk:return 16;case Vm:return 536870912;default:return 16}default:return 16}}var qr=null,Mu=null,ol=null;function Xm(){if(ol)return ol;var r,o=Mu,c=o.length,f,v="value"in qr?qr.value:qr.textContent,y=v.length;for(r=0;r<c&&o[r]===v[r];r++);var k=c-r;for(f=1;f<=k&&o[c-f]===v[y-f];f++);return ol=v.slice(r,1<f?1-f:void 0)}function il(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function al(){return!0}function Qm(){return!1}function bn(r){function o(c,f,v,y,k){this._reactName=c,this._targetInst=v,this.type=f,this.nativeEvent=y,this.target=k,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(c=r[A],this[A]=c?c(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?al:Qm,this.isPropagationStopped=Qm,this}return J(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),o}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=bn(co),Ai=J({},co,{view:0,detail:0}),oj=bn(Ai),Lu,$u,Ri,ll=J({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ri&&(Ri&&r.type==="mousemove"?(Lu=r.screenX-Ri.screenX,$u=r.screenY-Ri.screenY):$u=Lu=0,Ri=r),Lu)},movementY:function(r){return"movementY"in r?r.movementY:$u}}),Zm=bn(ll),ij=J({},ll,{dataTransfer:0}),aj=bn(ij),lj=J({},Ai,{relatedTarget:0}),Fu=bn(lj),cj=J({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),uj=bn(cj),dj=J({},co,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),fj=bn(dj),hj=J({},co,{data:0}),eg=bn(hj),pj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vj(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=gj[r])?!!o[r]:!1}function Vu(){return vj}var yj=J({},Ai,{key:function(r){if(r.key){var o=pj[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=il(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?mj[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vu,charCode:function(r){return r.type==="keypress"?il(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?il(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),xj=bn(yj),wj=J({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tg=bn(wj),bj=J({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vu}),Sj=bn(bj),_j=J({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),kj=bn(_j),jj=J({},ll,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Cj=bn(jj),Ej=[9,13,27,32],Bu=d&&"CompositionEvent"in window,Oi=null;d&&"documentMode"in document&&(Oi=document.documentMode);var Nj=d&&"TextEvent"in window&&!Oi,ng=d&&(!Bu||Oi&&8<Oi&&11>=Oi),rg=" ",sg=!1;function og(r,o){switch(r){case"keyup":return Ej.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ig(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var uo=!1;function Tj(r,o){switch(r){case"compositionend":return ig(o);case"keypress":return o.which!==32?null:(sg=!0,rg);case"textInput":return r=o.data,r===rg&&sg?null:r;default:return null}}function Pj(r,o){if(uo)return r==="compositionend"||!Bu&&og(r,o)?(r=Xm(),ol=Mu=qr=null,uo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ng&&o.locale!=="ko"?null:o.data;default:return null}}var Aj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Aj[r.type]:o==="textarea"}function lg(r,o,c,f){Ae(f),o=hl(o,"onChange"),0<o.length&&(c=new Du("onChange","change",null,c,f),r.push({event:c,listeners:o}))}var Ii=null,Mi=null;function Rj(r){Cg(r,0)}function cl(r){var o=go(r);if(pe(o))return r}function Oj(r,o){if(r==="change")return o}var cg=!1;if(d){var Uu;if(d){var zu="oninput"in document;if(!zu){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),zu=typeof ug.oninput=="function"}Uu=zu}else Uu=!1;cg=Uu&&(!document.documentMode||9<document.documentMode)}function dg(){Ii&&(Ii.detachEvent("onpropertychange",fg),Mi=Ii=null)}function fg(r){if(r.propertyName==="value"&&cl(Mi)){var o=[];lg(o,Mi,r,Xe(r)),kt(Rj,o)}}function Ij(r,o,c){r==="focusin"?(dg(),Ii=o,Mi=c,Ii.attachEvent("onpropertychange",fg)):r==="focusout"&&dg()}function Mj(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return cl(Mi)}function Dj(r,o){if(r==="click")return cl(o)}function Lj(r,o){if(r==="input"||r==="change")return cl(o)}function $j(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Gn=typeof Object.is=="function"?Object.is:$j;function Di(r,o){if(Gn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var v=c[f];if(!p.call(o,v)||!Gn(r[v],o[v]))return!1}return!0}function hg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function pg(r,o){var c=hg(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=o&&f>=o)return{node:c,offset:o-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=hg(c)}}function mg(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?mg(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function gg(){for(var r=window,o=Ke();o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=Ke(r.document)}return o}function Wu(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function Fj(r){var o=gg(),c=r.focusedElem,f=r.selectionRange;if(o!==c&&c&&c.ownerDocument&&mg(c.ownerDocument.documentElement,c)){if(f!==null&&Wu(c)){if(o=f.start,r=f.end,r===void 0&&(r=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(r,c.value.length);else if(r=(o=c.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var v=c.textContent.length,y=Math.min(f.start,v);f=f.end===void 0?y:Math.min(f.end,v),!r.extend&&y>f&&(v=f,f=y,y=v),v=pg(c,y);var k=pg(c,f);v&&k&&(r.rangeCount!==1||r.anchorNode!==v.node||r.anchorOffset!==v.offset||r.focusNode!==k.node||r.focusOffset!==k.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),r.removeAllRanges(),y>f?(r.addRange(o),r.extend(k.node,k.offset)):(o.setEnd(k.node,k.offset),r.addRange(o)))}}for(o=[],r=c;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)r=o[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Vj=d&&"documentMode"in document&&11>=document.documentMode,fo=null,Hu=null,Li=null,Ku=!1;function vg(r,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ku||fo==null||fo!==Ke(f)||(f=fo,"selectionStart"in f&&Wu(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Li&&Di(Li,f)||(Li=f,f=hl(Hu,"onSelect"),0<f.length&&(o=new Du("onSelect","select",null,o,c),r.push({event:o,listeners:f}),o.target=fo)))}function ul(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var ho={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionend:ul("Transition","TransitionEnd")},Gu={},yg={};d&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function dl(r){if(Gu[r])return Gu[r];if(!ho[r])return r;var o=ho[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in yg)return Gu[r]=o[c];return r}var xg=dl("animationend"),wg=dl("animationiteration"),bg=dl("animationstart"),Sg=dl("transitionend"),_g=new Map,kg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(r,o){_g.set(r,o),a(o,[r])}for(var qu=0;qu<kg.length;qu++){var Yu=kg[qu],Bj=Yu.toLowerCase(),Uj=Yu[0].toUpperCase()+Yu.slice(1);Yr(Bj,"on"+Uj)}Yr(xg,"onAnimationEnd"),Yr(wg,"onAnimationIteration"),Yr(bg,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(Sg,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zj=new Set("cancel close invalid load scroll toggle".split(" ").concat($i));function jg(r,o,c){var f=r.type||"unknown-event";r.currentTarget=c,Bk(f,o,void 0,r),r.currentTarget=null}function Cg(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],v=f.event;f=f.listeners;e:{var y=void 0;if(o)for(var k=f.length-1;0<=k;k--){var A=f[k],M=A.instance,G=A.currentTarget;if(A=A.listener,M!==y&&v.isPropagationStopped())break e;jg(v,A,G),y=M}else for(k=0;k<f.length;k++){if(A=f[k],M=A.instance,G=A.currentTarget,A=A.listener,M!==y&&v.isPropagationStopped())break e;jg(v,A,G),y=M}}}if(_i)throw r=Cu,_i=!1,Cu=null,r}function at(r,o){var c=o[rd];c===void 0&&(c=o[rd]=new Set);var f=r+"__bubble";c.has(f)||(Eg(o,r,2,!1),c.add(f))}function Ju(r,o,c){var f=0;o&&(f|=4),Eg(c,r,f,o)}var fl="_reactListening"+Math.random().toString(36).slice(2);function Fi(r){if(!r[fl]){r[fl]=!0,s.forEach(function(c){c!=="selectionchange"&&(zj.has(c)||Ju(c,!1,r),Ju(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[fl]||(o[fl]=!0,Ju("selectionchange",!1,o))}}function Eg(r,o,c,f){switch(Jm(o)){case 1:var v=rj;break;case 4:v=sj;break;default:v=Ou}c=v.bind(null,o,c,r),v=void 0,!Ur||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),f?v!==void 0?r.addEventListener(o,c,{capture:!0,passive:v}):r.addEventListener(o,c,!0):v!==void 0?r.addEventListener(o,c,{passive:v}):r.addEventListener(o,c,!1)}function Xu(r,o,c,f,v){var y=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var A=f.stateNode.containerInfo;if(A===v||A.nodeType===8&&A.parentNode===v)break;if(k===4)for(k=f.return;k!==null;){var M=k.tag;if((M===3||M===4)&&(M=k.stateNode.containerInfo,M===v||M.nodeType===8&&M.parentNode===v))return;k=k.return}for(;A!==null;){if(k=js(A),k===null)return;if(M=k.tag,M===5||M===6){f=y=k;continue e}A=A.parentNode}}f=f.return}kt(function(){var G=y,se=Xe(c),ie=[];e:{var ne=_g.get(r);if(ne!==void 0){var he=Du,ye=r;switch(r){case"keypress":if(il(c)===0)break e;case"keydown":case"keyup":he=xj;break;case"focusin":ye="focus",he=Fu;break;case"focusout":ye="blur",he=Fu;break;case"beforeblur":case"afterblur":he=Fu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=aj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Sj;break;case xg:case wg:case bg:he=uj;break;case Sg:he=kj;break;case"scroll":he=oj;break;case"wheel":he=Cj;break;case"copy":case"cut":case"paste":he=fj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=tg}var Se=(o&4)!==0,St=!Se&&r==="scroll",U=Se?ne!==null?ne+"Capture":null:ne;Se=[];for(var $=G,z;$!==null;){z=$;var ce=z.stateNode;if(z.tag===5&&ce!==null&&(z=ce,U!==null&&(ce=Mt($,U),ce!=null&&Se.push(Vi($,ce,z)))),St)break;$=$.return}0<Se.length&&(ne=new he(ne,ye,null,c,se),ie.push({event:ne,listeners:Se}))}}if((o&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",he=r==="mouseout"||r==="pointerout",ne&&c!==nt&&(ye=c.relatedTarget||c.fromElement)&&(js(ye)||ye[_r]))break e;if((he||ne)&&(ne=se.window===se?se:(ne=se.ownerDocument)?ne.defaultView||ne.parentWindow:window,he?(ye=c.relatedTarget||c.toElement,he=G,ye=ye?js(ye):null,ye!==null&&(St=ks(ye),ye!==St||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(he=null,ye=G),he!==ye)){if(Se=Zm,ce="onMouseLeave",U="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(Se=tg,ce="onPointerLeave",U="onPointerEnter",$="pointer"),St=he==null?ne:go(he),z=ye==null?ne:go(ye),ne=new Se(ce,$+"leave",he,c,se),ne.target=St,ne.relatedTarget=z,ce=null,js(se)===G&&(Se=new Se(U,$+"enter",ye,c,se),Se.target=z,Se.relatedTarget=St,ce=Se),St=ce,he&&ye)t:{for(Se=he,U=ye,$=0,z=Se;z;z=po(z))$++;for(z=0,ce=U;ce;ce=po(ce))z++;for(;0<$-z;)Se=po(Se),$--;for(;0<z-$;)U=po(U),z--;for(;$--;){if(Se===U||U!==null&&Se===U.alternate)break t;Se=po(Se),U=po(U)}Se=null}else Se=null;he!==null&&Ng(ie,ne,he,Se,!1),ye!==null&&St!==null&&Ng(ie,St,ye,Se,!0)}}e:{if(ne=G?go(G):window,he=ne.nodeName&&ne.nodeName.toLowerCase(),he==="select"||he==="input"&&ne.type==="file")var je=Oj;else if(ag(ne))if(cg)je=Lj;else{je=Mj;var Ne=Ij}else(he=ne.nodeName)&&he.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(je=Dj);if(je&&(je=je(r,G))){lg(ie,je,c,se);break e}Ne&&Ne(r,ne,G),r==="focusout"&&(Ne=ne._wrapperState)&&Ne.controlled&&ne.type==="number"&&Vt(ne,"number",ne.value)}switch(Ne=G?go(G):window,r){case"focusin":(ag(Ne)||Ne.contentEditable==="true")&&(fo=Ne,Hu=G,Li=null);break;case"focusout":Li=Hu=fo=null;break;case"mousedown":Ku=!0;break;case"contextmenu":case"mouseup":case"dragend":Ku=!1,vg(ie,c,se);break;case"selectionchange":if(Vj)break;case"keydown":case"keyup":vg(ie,c,se)}var Te;if(Bu)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else uo?og(r,c)&&(Ie="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ie="onCompositionStart");Ie&&(ng&&c.locale!=="ko"&&(uo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&uo&&(Te=Xm()):(qr=se,Mu="value"in qr?qr.value:qr.textContent,uo=!0)),Ne=hl(G,Ie),0<Ne.length&&(Ie=new eg(Ie,r,null,c,se),ie.push({event:Ie,listeners:Ne}),Te?Ie.data=Te:(Te=ig(c),Te!==null&&(Ie.data=Te)))),(Te=Nj?Tj(r,c):Pj(r,c))&&(G=hl(G,"onBeforeInput"),0<G.length&&(se=new eg("onBeforeInput","beforeinput",null,c,se),ie.push({event:se,listeners:G}),se.data=Te))}Cg(ie,o)})}function Vi(r,o,c){return{instance:r,listener:o,currentTarget:c}}function hl(r,o){for(var c=o+"Capture",f=[];r!==null;){var v=r,y=v.stateNode;v.tag===5&&y!==null&&(v=y,y=Mt(r,c),y!=null&&f.unshift(Vi(r,y,v)),y=Mt(r,o),y!=null&&f.push(Vi(r,y,v))),r=r.return}return f}function po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Ng(r,o,c,f,v){for(var y=o._reactName,k=[];c!==null&&c!==f;){var A=c,M=A.alternate,G=A.stateNode;if(M!==null&&M===f)break;A.tag===5&&G!==null&&(A=G,v?(M=Mt(c,y),M!=null&&k.unshift(Vi(c,M,A))):v||(M=Mt(c,y),M!=null&&k.push(Vi(c,M,A)))),c=c.return}k.length!==0&&r.push({event:o,listeners:k})}var Wj=/\r\n?/g,Hj=/\u0000|\uFFFD/g;function Tg(r){return(typeof r=="string"?r:""+r).replace(Wj,`
`).replace(Hj,"")}function pl(r,o,c){if(o=Tg(o),Tg(r)!==o&&c)throw Error(n(425))}function ml(){}var Qu=null,Zu=null;function ed(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var td=typeof setTimeout=="function"?setTimeout:void 0,Kj=typeof clearTimeout=="function"?clearTimeout:void 0,Pg=typeof Promise=="function"?Promise:void 0,Gj=typeof queueMicrotask=="function"?queueMicrotask:typeof Pg<"u"?function(r){return Pg.resolve(null).then(r).catch(qj)}:td;function qj(r){setTimeout(function(){throw r})}function nd(r,o){var c=o,f=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(f===0){r.removeChild(v),Pi(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=v}while(c);Pi(o)}function Jr(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function Ag(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}var mo=Math.random().toString(36).slice(2),cr="__reactFiber$"+mo,Bi="__reactProps$"+mo,_r="__reactContainer$"+mo,rd="__reactEvents$"+mo,Yj="__reactListeners$"+mo,Jj="__reactHandles$"+mo;function js(r){var o=r[cr];if(o)return o;for(var c=r.parentNode;c;){if(o=c[_r]||c[cr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=Ag(r);r!==null;){if(c=r[cr])return c;r=Ag(r)}return o}r=c,c=r.parentNode}return null}function Ui(r){return r=r[cr]||r[_r],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function go(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function gl(r){return r[Bi]||null}var sd=[],vo=-1;function Xr(r){return{current:r}}function lt(r){0>vo||(r.current=sd[vo],sd[vo]=null,vo--)}function ot(r,o){vo++,sd[vo]=r.current,r.current=o}var Qr={},Xt=Xr(Qr),un=Xr(!1),Cs=Qr;function yo(r,o){var c=r.type.contextTypes;if(!c)return Qr;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var v={},y;for(y in c)v[y]=o[y];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=v),v}function dn(r){return r=r.childContextTypes,r!=null}function vl(){lt(un),lt(Xt)}function Rg(r,o,c){if(Xt.current!==Qr)throw Error(n(168));ot(Xt,o),ot(un,c)}function Og(r,o,c){var f=r.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var v in f)if(!(v in o))throw Error(n(108,ee(r)||"Unknown",v));return J({},c,f)}function yl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Qr,Cs=Xt.current,ot(Xt,r),ot(un,un.current),!0}function Ig(r,o,c){var f=r.stateNode;if(!f)throw Error(n(169));c?(r=Og(r,o,Cs),f.__reactInternalMemoizedMergedChildContext=r,lt(un),lt(Xt),ot(Xt,r)):lt(un),ot(un,c)}var kr=null,xl=!1,od=!1;function Mg(r){kr===null?kr=[r]:kr.push(r)}function Xj(r){xl=!0,Mg(r)}function Zr(){if(!od&&kr!==null){od=!0;var r=0,o=tt;try{var c=kr;for(tt=1;r<c.length;r++){var f=c[r];do f=f(!0);while(f!==null)}kr=null,xl=!1}catch(v){throw kr!==null&&(kr=kr.slice(r+1)),Lm(Eu,Zr),v}finally{tt=o,od=!1}}return null}var xo=[],wo=0,wl=null,bl=0,On=[],In=0,Es=null,jr=1,Cr="";function Ns(r,o){xo[wo++]=bl,xo[wo++]=wl,wl=r,bl=o}function Dg(r,o,c){On[In++]=jr,On[In++]=Cr,On[In++]=Es,Es=r;var f=jr;r=Cr;var v=32-Kn(f)-1;f&=~(1<<v),c+=1;var y=32-Kn(o)+v;if(30<y){var k=v-v%5;y=(f&(1<<k)-1).toString(32),f>>=k,v-=k,jr=1<<32-Kn(o)+v|c<<v|f,Cr=y+r}else jr=1<<y|c<<v|f,Cr=r}function id(r){r.return!==null&&(Ns(r,1),Dg(r,1,0))}function ad(r){for(;r===wl;)wl=xo[--wo],xo[wo]=null,bl=xo[--wo],xo[wo]=null;for(;r===Es;)Es=On[--In],On[In]=null,Cr=On[--In],On[In]=null,jr=On[--In],On[In]=null}var Sn=null,_n=null,ct=!1,qn=null;function Lg(r,o){var c=$n(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=r,o=r.deletions,o===null?(r.deletions=[c],r.flags|=16):o.push(c)}function $g(r,o){switch(r.tag){case 5:var c=r.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,Sn=r,_n=Jr(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,Sn=r,_n=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Es!==null?{id:jr,overflow:Cr}:null,r.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=$n(18,null,null,0),c.stateNode=o,c.return=r,r.child=c,Sn=r,_n=null,!0):!1;default:return!1}}function ld(r){return(r.mode&1)!==0&&(r.flags&128)===0}function cd(r){if(ct){var o=_n;if(o){var c=o;if(!$g(r,o)){if(ld(r))throw Error(n(418));o=Jr(c.nextSibling);var f=Sn;o&&$g(r,o)?Lg(f,c):(r.flags=r.flags&-4097|2,ct=!1,Sn=r)}}else{if(ld(r))throw Error(n(418));r.flags=r.flags&-4097|2,ct=!1,Sn=r}}}function Fg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Sn=r}function Sl(r){if(r!==Sn)return!1;if(!ct)return Fg(r),ct=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!ed(r.type,r.memoizedProps)),o&&(o=_n)){if(ld(r))throw Vg(),Error(n(418));for(;o;)Lg(r,o),o=Jr(o.nextSibling)}if(Fg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(o===0){_n=Jr(r.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}r=r.nextSibling}_n=null}}else _n=Sn?Jr(r.stateNode.nextSibling):null;return!0}function Vg(){for(var r=_n;r;)r=Jr(r.nextSibling)}function bo(){_n=Sn=null,ct=!1}function ud(r){qn===null?qn=[r]:qn.push(r)}var Qj=N.ReactCurrentBatchConfig;function zi(r,o,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,r));var v=f,y=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(k){var A=v.refs;k===null?delete A[y]:A[y]=k},o._stringRef=y,o)}if(typeof r!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,r))}return r}function _l(r,o){throw r=Object.prototype.toString.call(o),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function Bg(r){var o=r._init;return o(r._payload)}function Ug(r){function o(U,$){if(r){var z=U.deletions;z===null?(U.deletions=[$],U.flags|=16):z.push($)}}function c(U,$){if(!r)return null;for(;$!==null;)o(U,$),$=$.sibling;return null}function f(U,$){for(U=new Map;$!==null;)$.key!==null?U.set($.key,$):U.set($.index,$),$=$.sibling;return U}function v(U,$){return U=as(U,$),U.index=0,U.sibling=null,U}function y(U,$,z){return U.index=z,r?(z=U.alternate,z!==null?(z=z.index,z<$?(U.flags|=2,$):z):(U.flags|=2,$)):(U.flags|=1048576,$)}function k(U){return r&&U.alternate===null&&(U.flags|=2),U}function A(U,$,z,ce){return $===null||$.tag!==6?($=tf(z,U.mode,ce),$.return=U,$):($=v($,z),$.return=U,$)}function M(U,$,z,ce){var je=z.type;return je===D?se(U,$,z.props.children,ce,z.key):$!==null&&($.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===K&&Bg(je)===$.type)?(ce=v($,z.props),ce.ref=zi(U,$,z),ce.return=U,ce):(ce=Gl(z.type,z.key,z.props,null,U.mode,ce),ce.ref=zi(U,$,z),ce.return=U,ce)}function G(U,$,z,ce){return $===null||$.tag!==4||$.stateNode.containerInfo!==z.containerInfo||$.stateNode.implementation!==z.implementation?($=nf(z,U.mode,ce),$.return=U,$):($=v($,z.children||[]),$.return=U,$)}function se(U,$,z,ce,je){return $===null||$.tag!==7?($=Ds(z,U.mode,ce,je),$.return=U,$):($=v($,z),$.return=U,$)}function ie(U,$,z){if(typeof $=="string"&&$!==""||typeof $=="number")return $=tf(""+$,U.mode,z),$.return=U,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case P:return z=Gl($.type,$.key,$.props,null,U.mode,z),z.ref=zi(U,null,$),z.return=U,z;case I:return $=nf($,U.mode,z),$.return=U,$;case K:var ce=$._init;return ie(U,ce($._payload),z)}if(Hn($)||W($))return $=Ds($,U.mode,z,null),$.return=U,$;_l(U,$)}return null}function ne(U,$,z,ce){var je=$!==null?$.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return je!==null?null:A(U,$,""+z,ce);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===je?M(U,$,z,ce):null;case I:return z.key===je?G(U,$,z,ce):null;case K:return je=z._init,ne(U,$,je(z._payload),ce)}if(Hn(z)||W(z))return je!==null?null:se(U,$,z,ce,null);_l(U,z)}return null}function he(U,$,z,ce,je){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return U=U.get(z)||null,A($,U,""+ce,je);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case P:return U=U.get(ce.key===null?z:ce.key)||null,M($,U,ce,je);case I:return U=U.get(ce.key===null?z:ce.key)||null,G($,U,ce,je);case K:var Ne=ce._init;return he(U,$,z,Ne(ce._payload),je)}if(Hn(ce)||W(ce))return U=U.get(z)||null,se($,U,ce,je,null);_l($,ce)}return null}function ye(U,$,z,ce){for(var je=null,Ne=null,Te=$,Ie=$=0,$t=null;Te!==null&&Ie<z.length;Ie++){Te.index>Ie?($t=Te,Te=null):$t=Te.sibling;var Qe=ne(U,Te,z[Ie],ce);if(Qe===null){Te===null&&(Te=$t);break}r&&Te&&Qe.alternate===null&&o(U,Te),$=y(Qe,$,Ie),Ne===null?je=Qe:Ne.sibling=Qe,Ne=Qe,Te=$t}if(Ie===z.length)return c(U,Te),ct&&Ns(U,Ie),je;if(Te===null){for(;Ie<z.length;Ie++)Te=ie(U,z[Ie],ce),Te!==null&&($=y(Te,$,Ie),Ne===null?je=Te:Ne.sibling=Te,Ne=Te);return ct&&Ns(U,Ie),je}for(Te=f(U,Te);Ie<z.length;Ie++)$t=he(Te,U,Ie,z[Ie],ce),$t!==null&&(r&&$t.alternate!==null&&Te.delete($t.key===null?Ie:$t.key),$=y($t,$,Ie),Ne===null?je=$t:Ne.sibling=$t,Ne=$t);return r&&Te.forEach(function(ls){return o(U,ls)}),ct&&Ns(U,Ie),je}function Se(U,$,z,ce){var je=W(z);if(typeof je!="function")throw Error(n(150));if(z=je.call(z),z==null)throw Error(n(151));for(var Ne=je=null,Te=$,Ie=$=0,$t=null,Qe=z.next();Te!==null&&!Qe.done;Ie++,Qe=z.next()){Te.index>Ie?($t=Te,Te=null):$t=Te.sibling;var ls=ne(U,Te,Qe.value,ce);if(ls===null){Te===null&&(Te=$t);break}r&&Te&&ls.alternate===null&&o(U,Te),$=y(ls,$,Ie),Ne===null?je=ls:Ne.sibling=ls,Ne=ls,Te=$t}if(Qe.done)return c(U,Te),ct&&Ns(U,Ie),je;if(Te===null){for(;!Qe.done;Ie++,Qe=z.next())Qe=ie(U,Qe.value,ce),Qe!==null&&($=y(Qe,$,Ie),Ne===null?je=Qe:Ne.sibling=Qe,Ne=Qe);return ct&&Ns(U,Ie),je}for(Te=f(U,Te);!Qe.done;Ie++,Qe=z.next())Qe=he(Te,U,Ie,Qe.value,ce),Qe!==null&&(r&&Qe.alternate!==null&&Te.delete(Qe.key===null?Ie:Qe.key),$=y(Qe,$,Ie),Ne===null?je=Qe:Ne.sibling=Qe,Ne=Qe);return r&&Te.forEach(function(AC){return o(U,AC)}),ct&&Ns(U,Ie),je}function St(U,$,z,ce){if(typeof z=="object"&&z!==null&&z.type===D&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:e:{for(var je=z.key,Ne=$;Ne!==null;){if(Ne.key===je){if(je=z.type,je===D){if(Ne.tag===7){c(U,Ne.sibling),$=v(Ne,z.props.children),$.return=U,U=$;break e}}else if(Ne.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===K&&Bg(je)===Ne.type){c(U,Ne.sibling),$=v(Ne,z.props),$.ref=zi(U,Ne,z),$.return=U,U=$;break e}c(U,Ne);break}else o(U,Ne);Ne=Ne.sibling}z.type===D?($=Ds(z.props.children,U.mode,ce,z.key),$.return=U,U=$):(ce=Gl(z.type,z.key,z.props,null,U.mode,ce),ce.ref=zi(U,$,z),ce.return=U,U=ce)}return k(U);case I:e:{for(Ne=z.key;$!==null;){if($.key===Ne)if($.tag===4&&$.stateNode.containerInfo===z.containerInfo&&$.stateNode.implementation===z.implementation){c(U,$.sibling),$=v($,z.children||[]),$.return=U,U=$;break e}else{c(U,$);break}else o(U,$);$=$.sibling}$=nf(z,U.mode,ce),$.return=U,U=$}return k(U);case K:return Ne=z._init,St(U,$,Ne(z._payload),ce)}if(Hn(z))return ye(U,$,z,ce);if(W(z))return Se(U,$,z,ce);_l(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,$!==null&&$.tag===6?(c(U,$.sibling),$=v($,z),$.return=U,U=$):(c(U,$),$=tf(z,U.mode,ce),$.return=U,U=$),k(U)):c(U,$)}return St}var So=Ug(!0),zg=Ug(!1),kl=Xr(null),jl=null,_o=null,dd=null;function fd(){dd=_o=jl=null}function hd(r){var o=kl.current;lt(kl),r._currentValue=o}function pd(r,o,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===c)break;r=r.return}}function ko(r,o){jl=r,dd=_o=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&o)!==0&&(fn=!0),r.firstContext=null)}function Mn(r){var o=r._currentValue;if(dd!==r)if(r={context:r,memoizedValue:o,next:null},_o===null){if(jl===null)throw Error(n(308));_o=r,jl.dependencies={lanes:0,firstContext:r}}else _o=_o.next=r;return o}var Ts=null;function md(r){Ts===null?Ts=[r]:Ts.push(r)}function Wg(r,o,c,f){var v=o.interleaved;return v===null?(c.next=c,md(o)):(c.next=v.next,v.next=c),o.interleaved=c,Er(r,f)}function Er(r,o){r.lanes|=o;var c=r.alternate;for(c!==null&&(c.lanes|=o),c=r,r=r.return;r!==null;)r.childLanes|=o,c=r.alternate,c!==null&&(c.childLanes|=o),c=r,r=r.return;return c.tag===3?c.stateNode:null}var es=!1;function gd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hg(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Nr(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function ts(r,o,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Ye&2)!==0){var v=f.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),f.pending=o,Er(r,c)}return v=f.interleaved,v===null?(o.next=o,md(f)):(o.next=v.next,v.next=o),f.interleaved=o,Er(r,c)}function Cl(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,Pu(r,c)}}function Kg(r,o){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var v=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var k={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?v=y=k:y=y.next=k,c=c.next}while(c!==null);y===null?v=y=o:y=y.next=o}else v=y=o;c={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:f.shared,effects:f.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}function El(r,o,c,f){var v=r.updateQueue;es=!1;var y=v.firstBaseUpdate,k=v.lastBaseUpdate,A=v.shared.pending;if(A!==null){v.shared.pending=null;var M=A,G=M.next;M.next=null,k===null?y=G:k.next=G,k=M;var se=r.alternate;se!==null&&(se=se.updateQueue,A=se.lastBaseUpdate,A!==k&&(A===null?se.firstBaseUpdate=G:A.next=G,se.lastBaseUpdate=M))}if(y!==null){var ie=v.baseState;k=0,se=G=M=null,A=y;do{var ne=A.lane,he=A.eventTime;if((f&ne)===ne){se!==null&&(se=se.next={eventTime:he,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ye=r,Se=A;switch(ne=o,he=c,Se.tag){case 1:if(ye=Se.payload,typeof ye=="function"){ie=ye.call(he,ie,ne);break e}ie=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Se.payload,ne=typeof ye=="function"?ye.call(he,ie,ne):ye,ne==null)break e;ie=J({},ie,ne);break e;case 2:es=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,ne=v.effects,ne===null?v.effects=[A]:ne.push(A))}else he={eventTime:he,lane:ne,tag:A.tag,payload:A.payload,callback:A.callback,next:null},se===null?(G=se=he,M=ie):se=se.next=he,k|=ne;if(A=A.next,A===null){if(A=v.shared.pending,A===null)break;ne=A,A=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);if(se===null&&(M=ie),v.baseState=M,v.firstBaseUpdate=G,v.lastBaseUpdate=se,o=v.shared.interleaved,o!==null){v=o;do k|=v.lane,v=v.next;while(v!==o)}else y===null&&(v.shared.lanes=0);Rs|=k,r.lanes=k,r.memoizedState=ie}}function Gg(r,o,c){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var f=r[o],v=f.callback;if(v!==null){if(f.callback=null,f=c,typeof v!="function")throw Error(n(191,v));v.call(f)}}}var Wi={},ur=Xr(Wi),Hi=Xr(Wi),Ki=Xr(Wi);function Ps(r){if(r===Wi)throw Error(n(174));return r}function vd(r,o){switch(ot(Ki,o),ot(Hi,r),ot(ur,Wi),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:et(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=et(o,r)}lt(ur),ot(ur,o)}function jo(){lt(ur),lt(Hi),lt(Ki)}function qg(r){Ps(Ki.current);var o=Ps(ur.current),c=et(o,r.type);o!==c&&(ot(Hi,r),ot(ur,c))}function yd(r){Hi.current===r&&(lt(ur),lt(Hi))}var dt=Xr(0);function Nl(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var xd=[];function wd(){for(var r=0;r<xd.length;r++)xd[r]._workInProgressVersionPrimary=null;xd.length=0}var Tl=N.ReactCurrentDispatcher,bd=N.ReactCurrentBatchConfig,As=0,ft=null,Tt=null,Dt=null,Pl=!1,Gi=!1,qi=0,Zj=0;function Qt(){throw Error(n(321))}function Sd(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!Gn(r[c],o[c]))return!1;return!0}function _d(r,o,c,f,v,y){if(As=y,ft=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Tl.current=r===null||r.memoizedState===null?rC:sC,r=c(f,v),Gi){y=0;do{if(Gi=!1,qi=0,25<=y)throw Error(n(301));y+=1,Dt=Tt=null,o.updateQueue=null,Tl.current=oC,r=c(f,v)}while(Gi)}if(Tl.current=Ol,o=Tt!==null&&Tt.next!==null,As=0,Dt=Tt=ft=null,Pl=!1,o)throw Error(n(300));return r}function kd(){var r=qi!==0;return qi=0,r}function dr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ft.memoizedState=Dt=r:Dt=Dt.next=r,Dt}function Dn(){if(Tt===null){var r=ft.alternate;r=r!==null?r.memoizedState:null}else r=Tt.next;var o=Dt===null?ft.memoizedState:Dt.next;if(o!==null)Dt=o,Tt=r;else{if(r===null)throw Error(n(310));Tt=r,r={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Dt===null?ft.memoizedState=Dt=r:Dt=Dt.next=r}return Dt}function Yi(r,o){return typeof o=="function"?o(r):o}function jd(r){var o=Dn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var f=Tt,v=f.baseQueue,y=c.pending;if(y!==null){if(v!==null){var k=v.next;v.next=y.next,y.next=k}f.baseQueue=v=y,c.pending=null}if(v!==null){y=v.next,f=f.baseState;var A=k=null,M=null,G=y;do{var se=G.lane;if((As&se)===se)M!==null&&(M=M.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),f=G.hasEagerState?G.eagerState:r(f,G.action);else{var ie={lane:se,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};M===null?(A=M=ie,k=f):M=M.next=ie,ft.lanes|=se,Rs|=se}G=G.next}while(G!==null&&G!==y);M===null?k=f:M.next=A,Gn(f,o.memoizedState)||(fn=!0),o.memoizedState=f,o.baseState=k,o.baseQueue=M,c.lastRenderedState=f}if(r=c.interleaved,r!==null){v=r;do y=v.lane,ft.lanes|=y,Rs|=y,v=v.next;while(v!==r)}else v===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Cd(r){var o=Dn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var f=c.dispatch,v=c.pending,y=o.memoizedState;if(v!==null){c.pending=null;var k=v=v.next;do y=r(y,k.action),k=k.next;while(k!==v);Gn(y,o.memoizedState)||(fn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),c.lastRenderedState=y}return[y,f]}function Yg(){}function Jg(r,o){var c=ft,f=Dn(),v=o(),y=!Gn(f.memoizedState,v);if(y&&(f.memoizedState=v,fn=!0),f=f.queue,Ed(Zg.bind(null,c,f,r),[r]),f.getSnapshot!==o||y||Dt!==null&&Dt.memoizedState.tag&1){if(c.flags|=2048,Ji(9,Qg.bind(null,c,f,v,o),void 0,null),Lt===null)throw Error(n(349));(As&30)!==0||Xg(c,o,v)}return v}function Xg(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function Qg(r,o,c,f){o.value=c,o.getSnapshot=f,ev(o)&&tv(r)}function Zg(r,o,c){return c(function(){ev(o)&&tv(r)})}function ev(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!Gn(r,c)}catch{return!0}}function tv(r){var o=Er(r,1);o!==null&&Qn(o,r,1,-1)}function nv(r){var o=dr();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:r},o.queue=r,r=r.dispatch=nC.bind(null,ft,r),[o.memoizedState,r]}function Ji(r,o,c,f){return r={tag:r,create:o,destroy:c,deps:f,next:null},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.lastEffect=r.next=r):(c=o.lastEffect,c===null?o.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,o.lastEffect=r)),r}function rv(){return Dn().memoizedState}function Al(r,o,c,f){var v=dr();ft.flags|=r,v.memoizedState=Ji(1|o,c,void 0,f===void 0?null:f)}function Rl(r,o,c,f){var v=Dn();f=f===void 0?null:f;var y=void 0;if(Tt!==null){var k=Tt.memoizedState;if(y=k.destroy,f!==null&&Sd(f,k.deps)){v.memoizedState=Ji(o,c,y,f);return}}ft.flags|=r,v.memoizedState=Ji(1|o,c,y,f)}function sv(r,o){return Al(8390656,8,r,o)}function Ed(r,o){return Rl(2048,8,r,o)}function ov(r,o){return Rl(4,2,r,o)}function iv(r,o){return Rl(4,4,r,o)}function av(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function lv(r,o,c){return c=c!=null?c.concat([r]):null,Rl(4,4,av.bind(null,o,r),c)}function Nd(){}function cv(r,o){var c=Dn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Sd(o,f[1])?f[0]:(c.memoizedState=[r,o],r)}function uv(r,o){var c=Dn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Sd(o,f[1])?f[0]:(r=r(),c.memoizedState=[r,o],r)}function dv(r,o,c){return(As&21)===0?(r.baseState&&(r.baseState=!1,fn=!0),r.memoizedState=c):(Gn(c,o)||(c=Bm(),ft.lanes|=c,Rs|=c,r.baseState=!0),o)}function eC(r,o){var c=tt;tt=c!==0&&4>c?c:4,r(!0);var f=bd.transition;bd.transition={};try{r(!1),o()}finally{tt=c,bd.transition=f}}function fv(){return Dn().memoizedState}function tC(r,o,c){var f=os(r);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},hv(r))pv(o,c);else if(c=Wg(r,o,c,f),c!==null){var v=sn();Qn(c,r,f,v),mv(c,o,f)}}function nC(r,o,c){var f=os(r),v={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(hv(r))pv(o,v);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var k=o.lastRenderedState,A=y(k,c);if(v.hasEagerState=!0,v.eagerState=A,Gn(A,k)){var M=o.interleaved;M===null?(v.next=v,md(o)):(v.next=M.next,M.next=v),o.interleaved=v;return}}catch{}finally{}c=Wg(r,o,v,f),c!==null&&(v=sn(),Qn(c,r,f,v),mv(c,o,f))}}function hv(r){var o=r.alternate;return r===ft||o!==null&&o===ft}function pv(r,o){Gi=Pl=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function mv(r,o,c){if((c&4194240)!==0){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,Pu(r,c)}}var Ol={readContext:Mn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},rC={readContext:Mn,useCallback:function(r,o){return dr().memoizedState=[r,o===void 0?null:o],r},useContext:Mn,useEffect:sv,useImperativeHandle:function(r,o,c){return c=c!=null?c.concat([r]):null,Al(4194308,4,av.bind(null,o,r),c)},useLayoutEffect:function(r,o){return Al(4194308,4,r,o)},useInsertionEffect:function(r,o){return Al(4,2,r,o)},useMemo:function(r,o){var c=dr();return o=o===void 0?null:o,r=r(),c.memoizedState=[r,o],r},useReducer:function(r,o,c){var f=dr();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},f.queue=r,r=r.dispatch=tC.bind(null,ft,r),[f.memoizedState,r]},useRef:function(r){var o=dr();return r={current:r},o.memoizedState=r},useState:nv,useDebugValue:Nd,useDeferredValue:function(r){return dr().memoizedState=r},useTransition:function(){var r=nv(!1),o=r[0];return r=eC.bind(null,r[1]),dr().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,c){var f=ft,v=dr();if(ct){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Lt===null)throw Error(n(349));(As&30)!==0||Xg(f,o,c)}v.memoizedState=c;var y={value:c,getSnapshot:o};return v.queue=y,sv(Zg.bind(null,f,y,r),[r]),f.flags|=2048,Ji(9,Qg.bind(null,f,y,c,o),void 0,null),c},useId:function(){var r=dr(),o=Lt.identifierPrefix;if(ct){var c=Cr,f=jr;c=(f&~(1<<32-Kn(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=qi++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=Zj++,o=":"+o+"r"+c.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},sC={readContext:Mn,useCallback:cv,useContext:Mn,useEffect:Ed,useImperativeHandle:lv,useInsertionEffect:ov,useLayoutEffect:iv,useMemo:uv,useReducer:jd,useRef:rv,useState:function(){return jd(Yi)},useDebugValue:Nd,useDeferredValue:function(r){var o=Dn();return dv(o,Tt.memoizedState,r)},useTransition:function(){var r=jd(Yi)[0],o=Dn().memoizedState;return[r,o]},useMutableSource:Yg,useSyncExternalStore:Jg,useId:fv,unstable_isNewReconciler:!1},oC={readContext:Mn,useCallback:cv,useContext:Mn,useEffect:Ed,useImperativeHandle:lv,useInsertionEffect:ov,useLayoutEffect:iv,useMemo:uv,useReducer:Cd,useRef:rv,useState:function(){return Cd(Yi)},useDebugValue:Nd,useDeferredValue:function(r){var o=Dn();return Tt===null?o.memoizedState=r:dv(o,Tt.memoizedState,r)},useTransition:function(){var r=Cd(Yi)[0],o=Dn().memoizedState;return[r,o]},useMutableSource:Yg,useSyncExternalStore:Jg,useId:fv,unstable_isNewReconciler:!1};function Yn(r,o){if(r&&r.defaultProps){o=J({},o),r=r.defaultProps;for(var c in r)o[c]===void 0&&(o[c]=r[c]);return o}return o}function Td(r,o,c,f){o=r.memoizedState,c=c(f,o),c=c==null?o:J({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Il={isMounted:function(r){return(r=r._reactInternals)?ks(r)===r:!1},enqueueSetState:function(r,o,c){r=r._reactInternals;var f=sn(),v=os(r),y=Nr(f,v);y.payload=o,c!=null&&(y.callback=c),o=ts(r,y,v),o!==null&&(Qn(o,r,v,f),Cl(o,r,v))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var f=sn(),v=os(r),y=Nr(f,v);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=ts(r,y,v),o!==null&&(Qn(o,r,v,f),Cl(o,r,v))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=sn(),f=os(r),v=Nr(c,f);v.tag=2,o!=null&&(v.callback=o),o=ts(r,v,f),o!==null&&(Qn(o,r,f,c),Cl(o,r,f))}};function gv(r,o,c,f,v,y,k){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,k):o.prototype&&o.prototype.isPureReactComponent?!Di(c,f)||!Di(v,y):!0}function vv(r,o,c){var f=!1,v=Qr,y=o.contextType;return typeof y=="object"&&y!==null?y=Mn(y):(v=dn(o)?Cs:Xt.current,f=o.contextTypes,y=(f=f!=null)?yo(r,v):Qr),o=new o(c,y),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Il,r.stateNode=o,o._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=v,r.__reactInternalMemoizedMaskedChildContext=y),o}function yv(r,o,c,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==r&&Il.enqueueReplaceState(o,o.state,null)}function Pd(r,o,c,f){var v=r.stateNode;v.props=c,v.state=r.memoizedState,v.refs={},gd(r);var y=o.contextType;typeof y=="object"&&y!==null?v.context=Mn(y):(y=dn(o)?Cs:Xt.current,v.context=yo(r,y)),v.state=r.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Td(r,o,y,c),v.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(o=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),o!==v.state&&Il.enqueueReplaceState(v,v.state,null),El(r,c,v,f),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308)}function Co(r,o){try{var c="",f=o;do c+=q(f),f=f.return;while(f);var v=c}catch(y){v=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:o,stack:v,digest:null}}function Ad(r,o,c){return{value:r,source:null,stack:c??null,digest:o??null}}function Rd(r,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var iC=typeof WeakMap=="function"?WeakMap:Map;function xv(r,o,c){c=Nr(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){Bl||(Bl=!0,Gd=f),Rd(r,o)},c}function wv(r,o,c){c=Nr(-1,c),c.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var v=o.value;c.payload=function(){return f(v)},c.callback=function(){Rd(r,o)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){Rd(r,o),typeof f!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})}),c}function bv(r,o,c){var f=r.pingCache;if(f===null){f=r.pingCache=new iC;var v=new Set;f.set(o,v)}else v=f.get(o),v===void 0&&(v=new Set,f.set(o,v));v.has(c)||(v.add(c),r=wC.bind(null,r,o,c),o.then(r,r))}function Sv(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function _v(r,o,c,f,v){return(r.mode&1)===0?(r===o?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Nr(-1,1),o.tag=2,ts(c,o,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=v,r)}var aC=N.ReactCurrentOwner,fn=!1;function rn(r,o,c,f){o.child=r===null?zg(o,null,c,f):So(o,r.child,c,f)}function kv(r,o,c,f,v){c=c.render;var y=o.ref;return ko(o,v),f=_d(r,o,c,f,y,v),c=kd(),r!==null&&!fn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~v,Tr(r,o,v)):(ct&&c&&id(o),o.flags|=1,rn(r,o,f,v),o.child)}function jv(r,o,c,f,v){if(r===null){var y=c.type;return typeof y=="function"&&!ef(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=y,Cv(r,o,y,f,v)):(r=Gl(c.type,null,f,o,o.mode,v),r.ref=o.ref,r.return=o,o.child=r)}if(y=r.child,(r.lanes&v)===0){var k=y.memoizedProps;if(c=c.compare,c=c!==null?c:Di,c(k,f)&&r.ref===o.ref)return Tr(r,o,v)}return o.flags|=1,r=as(y,f),r.ref=o.ref,r.return=o,o.child=r}function Cv(r,o,c,f,v){if(r!==null){var y=r.memoizedProps;if(Di(y,f)&&r.ref===o.ref)if(fn=!1,o.pendingProps=f=y,(r.lanes&v)!==0)(r.flags&131072)!==0&&(fn=!0);else return o.lanes=r.lanes,Tr(r,o,v)}return Od(r,o,c,f,v)}function Ev(r,o,c){var f=o.pendingProps,v=f.children,y=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(No,kn),kn|=c;else{if((c&1073741824)===0)return r=y!==null?y.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,ot(No,kn),kn|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:c,ot(No,kn),kn|=f}else y!==null?(f=y.baseLanes|c,o.memoizedState=null):f=c,ot(No,kn),kn|=f;return rn(r,o,v,c),o.child}function Nv(r,o){var c=o.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Od(r,o,c,f,v){var y=dn(c)?Cs:Xt.current;return y=yo(o,y),ko(o,v),c=_d(r,o,c,f,y,v),f=kd(),r!==null&&!fn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~v,Tr(r,o,v)):(ct&&f&&id(o),o.flags|=1,rn(r,o,c,v),o.child)}function Tv(r,o,c,f,v){if(dn(c)){var y=!0;yl(o)}else y=!1;if(ko(o,v),o.stateNode===null)Dl(r,o),vv(o,c,f),Pd(o,c,f,v),f=!0;else if(r===null){var k=o.stateNode,A=o.memoizedProps;k.props=A;var M=k.context,G=c.contextType;typeof G=="object"&&G!==null?G=Mn(G):(G=dn(c)?Cs:Xt.current,G=yo(o,G));var se=c.getDerivedStateFromProps,ie=typeof se=="function"||typeof k.getSnapshotBeforeUpdate=="function";ie||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(A!==f||M!==G)&&yv(o,k,f,G),es=!1;var ne=o.memoizedState;k.state=ne,El(o,f,k,v),M=o.memoizedState,A!==f||ne!==M||un.current||es?(typeof se=="function"&&(Td(o,c,se,f),M=o.memoizedState),(A=es||gv(o,c,A,f,ne,M,G))?(ie||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(o.flags|=4194308)):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=M),k.props=f,k.state=M,k.context=G,f=A):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{k=o.stateNode,Hg(r,o),A=o.memoizedProps,G=o.type===o.elementType?A:Yn(o.type,A),k.props=G,ie=o.pendingProps,ne=k.context,M=c.contextType,typeof M=="object"&&M!==null?M=Mn(M):(M=dn(c)?Cs:Xt.current,M=yo(o,M));var he=c.getDerivedStateFromProps;(se=typeof he=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(A!==ie||ne!==M)&&yv(o,k,f,M),es=!1,ne=o.memoizedState,k.state=ne,El(o,f,k,v);var ye=o.memoizedState;A!==ie||ne!==ye||un.current||es?(typeof he=="function"&&(Td(o,c,he,f),ye=o.memoizedState),(G=es||gv(o,c,G,f,ne,ye,M)||!1)?(se||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(f,ye,M),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(f,ye,M)),typeof k.componentDidUpdate=="function"&&(o.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof k.componentDidUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ye),k.props=f,k.state=ye,k.context=M,f=G):(typeof k.componentDidUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(o.flags|=1024),f=!1)}return Id(r,o,c,f,y,v)}function Id(r,o,c,f,v,y){Nv(r,o);var k=(o.flags&128)!==0;if(!f&&!k)return v&&Ig(o,c,!1),Tr(r,o,y);f=o.stateNode,aC.current=o;var A=k&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,r!==null&&k?(o.child=So(o,r.child,null,y),o.child=So(o,null,A,y)):rn(r,o,A,y),o.memoizedState=f.state,v&&Ig(o,c,!0),o.child}function Pv(r){var o=r.stateNode;o.pendingContext?Rg(r,o.pendingContext,o.pendingContext!==o.context):o.context&&Rg(r,o.context,!1),vd(r,o.containerInfo)}function Av(r,o,c,f,v){return bo(),ud(v),o.flags|=256,rn(r,o,c,f),o.child}var Md={dehydrated:null,treeContext:null,retryLane:0};function Dd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Rv(r,o,c){var f=o.pendingProps,v=dt.current,y=!1,k=(o.flags&128)!==0,A;if((A=k)||(A=r!==null&&r.memoizedState===null?!1:(v&2)!==0),A?(y=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(v|=1),ot(dt,v&1),r===null)return cd(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((o.mode&1)===0?o.lanes=1:r.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(k=f.children,r=f.fallback,y?(f=o.mode,y=o.child,k={mode:"hidden",children:k},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=k):y=ql(k,f,0,null),r=Ds(r,f,c,null),y.return=o,r.return=o,y.sibling=r,o.child=y,o.child.memoizedState=Dd(c),o.memoizedState=Md,r):Ld(o,k));if(v=r.memoizedState,v!==null&&(A=v.dehydrated,A!==null))return lC(r,o,k,f,A,v,c);if(y){y=f.fallback,k=o.mode,v=r.child,A=v.sibling;var M={mode:"hidden",children:f.children};return(k&1)===0&&o.child!==v?(f=o.child,f.childLanes=0,f.pendingProps=M,o.deletions=null):(f=as(v,M),f.subtreeFlags=v.subtreeFlags&14680064),A!==null?y=as(A,y):(y=Ds(y,k,c,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,k=r.child.memoizedState,k=k===null?Dd(c):{baseLanes:k.baseLanes|c,cachePool:null,transitions:k.transitions},y.memoizedState=k,y.childLanes=r.childLanes&~c,o.memoizedState=Md,f}return y=r.child,r=y.sibling,f=as(y,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=c),f.return=o,f.sibling=null,r!==null&&(c=o.deletions,c===null?(o.deletions=[r],o.flags|=16):c.push(r)),o.child=f,o.memoizedState=null,f}function Ld(r,o){return o=ql({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function Ml(r,o,c,f){return f!==null&&ud(f),So(o,r.child,null,c),r=Ld(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function lC(r,o,c,f,v,y,k){if(c)return o.flags&256?(o.flags&=-257,f=Ad(Error(n(422))),Ml(r,o,k,f)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(y=f.fallback,v=o.mode,f=ql({mode:"visible",children:f.children},v,0,null),y=Ds(y,v,k,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,(o.mode&1)!==0&&So(o,r.child,null,k),o.child.memoizedState=Dd(k),o.memoizedState=Md,y);if((o.mode&1)===0)return Ml(r,o,k,null);if(v.data==="$!"){if(f=v.nextSibling&&v.nextSibling.dataset,f)var A=f.dgst;return f=A,y=Error(n(419)),f=Ad(y,f,void 0),Ml(r,o,k,f)}if(A=(k&r.childLanes)!==0,fn||A){if(f=Lt,f!==null){switch(k&-k){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(f.suspendedLanes|k))!==0?0:v,v!==0&&v!==y.retryLane&&(y.retryLane=v,Er(r,v),Qn(f,r,v,-1))}return Zd(),f=Ad(Error(n(421))),Ml(r,o,k,f)}return v.data==="$?"?(o.flags|=128,o.child=r.child,o=bC.bind(null,r),v._reactRetry=o,null):(r=y.treeContext,_n=Jr(v.nextSibling),Sn=o,ct=!0,qn=null,r!==null&&(On[In++]=jr,On[In++]=Cr,On[In++]=Es,jr=r.id,Cr=r.overflow,Es=o),o=Ld(o,f.children),o.flags|=4096,o)}function Ov(r,o,c){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),pd(r.return,o,c)}function $d(r,o,c,f,v){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:v}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=c,y.tailMode=v)}function Iv(r,o,c){var f=o.pendingProps,v=f.revealOrder,y=f.tail;if(rn(r,o,f.children,c),f=dt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ov(r,c,o);else if(r.tag===19)Ov(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(ot(dt,f),(o.mode&1)===0)o.memoizedState=null;else switch(v){case"forwards":for(c=o.child,v=null;c!==null;)r=c.alternate,r!==null&&Nl(r)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),$d(o,!1,v,c,y);break;case"backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(r=v.alternate,r!==null&&Nl(r)===null){o.child=v;break}r=v.sibling,v.sibling=c,c=v,v=r}$d(o,!0,c,null,y);break;case"together":$d(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Dl(r,o){(o.mode&1)===0&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function Tr(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),Rs|=o.lanes,(c&o.childLanes)===0)return null;if(r!==null&&o.child!==r.child)throw Error(n(153));if(o.child!==null){for(r=o.child,c=as(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=as(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function cC(r,o,c){switch(o.tag){case 3:Pv(o),bo();break;case 5:qg(o);break;case 1:dn(o.type)&&yl(o);break;case 4:vd(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,v=o.memoizedProps.value;ot(kl,f._currentValue),f._currentValue=v;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(ot(dt,dt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Rv(r,o,c):(ot(dt,dt.current&1),r=Tr(r,o,c),r!==null?r.sibling:null);ot(dt,dt.current&1);break;case 19:if(f=(c&o.childLanes)!==0,(r.flags&128)!==0){if(f)return Iv(r,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ot(dt,dt.current),f)break;return null;case 22:case 23:return o.lanes=0,Ev(r,o,c)}return Tr(r,o,c)}var Mv,Fd,Dv,Lv;Mv=function(r,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Fd=function(){},Dv=function(r,o,c,f){var v=r.memoizedProps;if(v!==f){r=o.stateNode,Ps(ur.current);var y=null;switch(c){case"input":v=yt(r,v),f=yt(r,f),y=[];break;case"select":v=J({},v,{value:void 0}),f=J({},f,{value:void 0}),y=[];break;case"textarea":v=be(r,v),f=be(r,f),y=[];break;default:typeof v.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=ml)}Yt(c,f);var k;c=null;for(G in v)if(!f.hasOwnProperty(G)&&v.hasOwnProperty(G)&&v[G]!=null)if(G==="style"){var A=v[G];for(k in A)A.hasOwnProperty(k)&&(c||(c={}),c[k]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?y||(y=[]):(y=y||[]).push(G,null));for(G in f){var M=f[G];if(A=v?.[G],f.hasOwnProperty(G)&&M!==A&&(M!=null||A!=null))if(G==="style")if(A){for(k in A)!A.hasOwnProperty(k)||M&&M.hasOwnProperty(k)||(c||(c={}),c[k]="");for(k in M)M.hasOwnProperty(k)&&A[k]!==M[k]&&(c||(c={}),c[k]=M[k])}else c||(y||(y=[]),y.push(G,c)),c=M;else G==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,A=A?A.__html:void 0,M!=null&&A!==M&&(y=y||[]).push(G,M)):G==="children"?typeof M!="string"&&typeof M!="number"||(y=y||[]).push(G,""+M):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(i.hasOwnProperty(G)?(M!=null&&G==="onScroll"&&at("scroll",r),y||A===M||(y=[])):(y=y||[]).push(G,M))}c&&(y=y||[]).push("style",c);var G=y;(o.updateQueue=G)&&(o.flags|=4)}},Lv=function(r,o,c,f){c!==f&&(o.flags|=4)};function Xi(r,o){if(!ct)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Zt(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(o)for(var v=r.child;v!==null;)c|=v.lanes|v.childLanes,f|=v.subtreeFlags&14680064,f|=v.flags&14680064,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)c|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=f,r.childLanes=c,o}function uC(r,o,c){var f=o.pendingProps;switch(ad(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(o),null;case 1:return dn(o.type)&&vl(),Zt(o),null;case 3:return f=o.stateNode,jo(),lt(un),lt(Xt),wd(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(Sl(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,qn!==null&&(Jd(qn),qn=null))),Fd(r,o),Zt(o),null;case 5:yd(o);var v=Ps(Ki.current);if(c=o.type,r!==null&&o.stateNode!=null)Dv(r,o,c,f,v),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Zt(o),null}if(r=Ps(ur.current),Sl(o)){f=o.stateNode,c=o.type;var y=o.memoizedProps;switch(f[cr]=o,f[Bi]=y,r=(o.mode&1)!==0,c){case"dialog":at("cancel",f),at("close",f);break;case"iframe":case"object":case"embed":at("load",f);break;case"video":case"audio":for(v=0;v<$i.length;v++)at($i[v],f);break;case"source":at("error",f);break;case"img":case"image":case"link":at("error",f),at("load",f);break;case"details":at("toggle",f);break;case"input":Pn(f,y),at("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},at("invalid",f);break;case"textarea":Me(f,y),at("invalid",f)}Yt(c,y),v=null;for(var k in y)if(y.hasOwnProperty(k)){var A=y[k];k==="children"?typeof A=="string"?f.textContent!==A&&(y.suppressHydrationWarning!==!0&&pl(f.textContent,A,r),v=["children",A]):typeof A=="number"&&f.textContent!==""+A&&(y.suppressHydrationWarning!==!0&&pl(f.textContent,A,r),v=["children",""+A]):i.hasOwnProperty(k)&&A!=null&&k==="onScroll"&&at("scroll",f)}switch(c){case"input":rt(f),xn(f,y,!0);break;case"textarea":rt(f),xt(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=ml)}f=v,o.updateQueue=f,f!==null&&(o.flags|=4)}else{k=v.nodeType===9?v:v.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ge(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=k.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=k.createElement(c,{is:f.is}):(r=k.createElement(c),c==="select"&&(k=r,f.multiple?k.multiple=!0:f.size&&(k.size=f.size))):r=k.createElementNS(r,c),r[cr]=o,r[Bi]=f,Mv(r,o,!1,!1),o.stateNode=r;e:{switch(k=Bt(c,f),c){case"dialog":at("cancel",r),at("close",r),v=f;break;case"iframe":case"object":case"embed":at("load",r),v=f;break;case"video":case"audio":for(v=0;v<$i.length;v++)at($i[v],r);v=f;break;case"source":at("error",r),v=f;break;case"img":case"image":case"link":at("error",r),at("load",r),v=f;break;case"details":at("toggle",r),v=f;break;case"input":Pn(r,f),v=yt(r,f),at("invalid",r);break;case"option":v=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},v=J({},f,{value:void 0}),at("invalid",r);break;case"textarea":Me(r,f),v=be(r,f),at("invalid",r);break;default:v=f}Yt(c,v),A=v;for(y in A)if(A.hasOwnProperty(y)){var M=A[y];y==="style"?Fe(r,M):y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&oe(r,M)):y==="children"?typeof M=="string"?(c!=="textarea"||M!=="")&&Pe(r,M):typeof M=="number"&&Pe(r,""+M):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?M!=null&&y==="onScroll"&&at("scroll",r):M!=null&&E(r,y,M,k))}switch(c){case"input":rt(r),xn(r,f,!1);break;case"textarea":rt(r),xt(r);break;case"option":f.value!=null&&r.setAttribute("value",""+de(f.value));break;case"select":r.multiple=!!f.multiple,y=f.value,y!=null?ae(r,!!f.multiple,y,!1):f.defaultValue!=null&&ae(r,!!f.multiple,f.defaultValue,!0);break;default:typeof v.onClick=="function"&&(r.onclick=ml)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Zt(o),null;case 6:if(r&&o.stateNode!=null)Lv(r,o,r.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(c=Ps(Ki.current),Ps(ur.current),Sl(o)){if(f=o.stateNode,c=o.memoizedProps,f[cr]=o,(y=f.nodeValue!==c)&&(r=Sn,r!==null))switch(r.tag){case 3:pl(f.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&pl(f.nodeValue,c,(r.mode&1)!==0)}y&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[cr]=o,o.stateNode=f}return Zt(o),null;case 13:if(lt(dt),f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ct&&_n!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Vg(),bo(),o.flags|=98560,y=!1;else if(y=Sl(o),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[cr]=o}else bo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Zt(o),y=!1}else qn!==null&&(Jd(qn),qn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(r===null||(dt.current&1)!==0?Pt===0&&(Pt=3):Zd())),o.updateQueue!==null&&(o.flags|=4),Zt(o),null);case 4:return jo(),Fd(r,o),r===null&&Fi(o.stateNode.containerInfo),Zt(o),null;case 10:return hd(o.type._context),Zt(o),null;case 17:return dn(o.type)&&vl(),Zt(o),null;case 19:if(lt(dt),y=o.memoizedState,y===null)return Zt(o),null;if(f=(o.flags&128)!==0,k=y.rendering,k===null)if(f)Xi(y,!1);else{if(Pt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(k=Nl(r),k!==null){for(o.flags|=128,Xi(y,!1),f=k.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)y=c,r=f,y.flags&=14680066,k=y.alternate,k===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=k.childLanes,y.lanes=k.lanes,y.child=k.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=k.memoizedProps,y.memoizedState=k.memoizedState,y.updateQueue=k.updateQueue,y.type=k.type,r=k.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return ot(dt,dt.current&1|2),o.child}r=r.sibling}y.tail!==null&&bt()>To&&(o.flags|=128,f=!0,Xi(y,!1),o.lanes=4194304)}else{if(!f)if(r=Nl(k),r!==null){if(o.flags|=128,f=!0,c=r.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Xi(y,!0),y.tail===null&&y.tailMode==="hidden"&&!k.alternate&&!ct)return Zt(o),null}else 2*bt()-y.renderingStartTime>To&&c!==1073741824&&(o.flags|=128,f=!0,Xi(y,!1),o.lanes=4194304);y.isBackwards?(k.sibling=o.child,o.child=k):(c=y.last,c!==null?c.sibling=k:o.child=k,y.last=k)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=bt(),o.sibling=null,c=dt.current,ot(dt,f?c&1|2:c&1),o):(Zt(o),null);case 22:case 23:return Qd(),f=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(kn&1073741824)!==0&&(Zt(o),o.subtreeFlags&6&&(o.flags|=8192)):Zt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function dC(r,o){switch(ad(o),o.tag){case 1:return dn(o.type)&&vl(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return jo(),lt(un),lt(Xt),wd(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 5:return yd(o),null;case 13:if(lt(dt),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(n(340));bo()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return lt(dt),null;case 4:return jo(),null;case 10:return hd(o.type._context),null;case 22:case 23:return Qd(),null;case 24:return null;default:return null}}var Ll=!1,en=!1,fC=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Eo(r,o){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){gt(r,o,f)}else c.current=null}function Vd(r,o,c){try{c()}catch(f){gt(r,o,f)}}var $v=!1;function hC(r,o){if(Qu=rl,r=gg(),Wu(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var v=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var k=0,A=-1,M=-1,G=0,se=0,ie=r,ne=null;t:for(;;){for(var he;ie!==c||v!==0&&ie.nodeType!==3||(A=k+v),ie!==y||f!==0&&ie.nodeType!==3||(M=k+f),ie.nodeType===3&&(k+=ie.nodeValue.length),(he=ie.firstChild)!==null;)ne=ie,ie=he;for(;;){if(ie===r)break t;if(ne===c&&++G===v&&(A=k),ne===y&&++se===f&&(M=k),(he=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=he}c=A===-1||M===-1?null:{start:A,end:M}}else c=null}c=c||{start:0,end:0}}else c=null;for(Zu={focusedElem:r,selectionRange:c},rl=!1,ge=o;ge!==null;)if(o=ge,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,ge=r;else for(;ge!==null;){o=ge;try{var ye=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var Se=ye.memoizedProps,St=ye.memoizedState,U=o.stateNode,$=U.getSnapshotBeforeUpdate(o.elementType===o.type?Se:Yn(o.type,Se),St);U.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var z=o.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ce){gt(o,o.return,ce)}if(r=o.sibling,r!==null){r.return=o.return,ge=r;break}ge=o.return}return ye=$v,$v=!1,ye}function Qi(r,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&r)===r){var y=v.destroy;v.destroy=void 0,y!==void 0&&Vd(o,c,y)}v=v.next}while(v!==f)}}function $l(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&r)===r){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function Bd(r){var o=r.ref;if(o!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof o=="function"?o(r):o.current=r}}function Fv(r){var o=r.alternate;o!==null&&(r.alternate=null,Fv(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[cr],delete o[Bi],delete o[rd],delete o[Yj],delete o[Jj])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Vv(r){return r.tag===5||r.tag===3||r.tag===4}function Bv(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Vv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ud(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(r,o):c.insertBefore(r,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(r,c)):(o=c,o.appendChild(r)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=ml));else if(f!==4&&(r=r.child,r!==null))for(Ud(r,o,c),r=r.sibling;r!==null;)Ud(r,o,c),r=r.sibling}function zd(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(zd(r,o,c),r=r.sibling;r!==null;)zd(r,o,c),r=r.sibling}var Wt=null,Jn=!1;function ns(r,o,c){for(c=c.child;c!==null;)Uv(r,o,c),c=c.sibling}function Uv(r,o,c){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Xa,c)}catch{}switch(c.tag){case 5:en||Eo(c,o);case 6:var f=Wt,v=Jn;Wt=null,ns(r,o,c),Wt=f,Jn=v,Wt!==null&&(Jn?(r=Wt,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):Wt.removeChild(c.stateNode));break;case 18:Wt!==null&&(Jn?(r=Wt,c=c.stateNode,r.nodeType===8?nd(r.parentNode,c):r.nodeType===1&&nd(r,c),Pi(r)):nd(Wt,c.stateNode));break;case 4:f=Wt,v=Jn,Wt=c.stateNode.containerInfo,Jn=!0,ns(r,o,c),Wt=f,Jn=v;break;case 0:case 11:case 14:case 15:if(!en&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){v=f=f.next;do{var y=v,k=y.destroy;y=y.tag,k!==void 0&&((y&2)!==0||(y&4)!==0)&&Vd(c,o,k),v=v.next}while(v!==f)}ns(r,o,c);break;case 1:if(!en&&(Eo(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(A){gt(c,o,A)}ns(r,o,c);break;case 21:ns(r,o,c);break;case 22:c.mode&1?(en=(f=en)||c.memoizedState!==null,ns(r,o,c),en=f):ns(r,o,c);break;default:ns(r,o,c)}}function zv(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new fC),o.forEach(function(f){var v=SC.bind(null,r,f);c.has(f)||(c.add(f),f.then(v,v))})}}function Xn(r,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var v=c[f];try{var y=r,k=o,A=k;e:for(;A!==null;){switch(A.tag){case 5:Wt=A.stateNode,Jn=!1;break e;case 3:Wt=A.stateNode.containerInfo,Jn=!0;break e;case 4:Wt=A.stateNode.containerInfo,Jn=!0;break e}A=A.return}if(Wt===null)throw Error(n(160));Uv(y,k,v),Wt=null,Jn=!1;var M=v.alternate;M!==null&&(M.return=null),v.return=null}catch(G){gt(v,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Wv(o,r),o=o.sibling}function Wv(r,o){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Xn(o,r),fr(r),f&4){try{Qi(3,r,r.return),$l(3,r)}catch(Se){gt(r,r.return,Se)}try{Qi(5,r,r.return)}catch(Se){gt(r,r.return,Se)}}break;case 1:Xn(o,r),fr(r),f&512&&c!==null&&Eo(c,c.return);break;case 5:if(Xn(o,r),fr(r),f&512&&c!==null&&Eo(c,c.return),r.flags&32){var v=r.stateNode;try{Pe(v,"")}catch(Se){gt(r,r.return,Se)}}if(f&4&&(v=r.stateNode,v!=null)){var y=r.memoizedProps,k=c!==null?c.memoizedProps:y,A=r.type,M=r.updateQueue;if(r.updateQueue=null,M!==null)try{A==="input"&&y.type==="radio"&&y.name!=null&&Ft(v,y),Bt(A,k);var G=Bt(A,y);for(k=0;k<M.length;k+=2){var se=M[k],ie=M[k+1];se==="style"?Fe(v,ie):se==="dangerouslySetInnerHTML"?oe(v,ie):se==="children"?Pe(v,ie):E(v,se,ie,G)}switch(A){case"input":Gt(v,y);break;case"textarea":We(v,y);break;case"select":var ne=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!y.multiple;var he=y.value;he!=null?ae(v,!!y.multiple,he,!1):ne!==!!y.multiple&&(y.defaultValue!=null?ae(v,!!y.multiple,y.defaultValue,!0):ae(v,!!y.multiple,y.multiple?[]:"",!1))}v[Bi]=y}catch(Se){gt(r,r.return,Se)}}break;case 6:if(Xn(o,r),fr(r),f&4){if(r.stateNode===null)throw Error(n(162));v=r.stateNode,y=r.memoizedProps;try{v.nodeValue=y}catch(Se){gt(r,r.return,Se)}}break;case 3:if(Xn(o,r),fr(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Pi(o.containerInfo)}catch(Se){gt(r,r.return,Se)}break;case 4:Xn(o,r),fr(r);break;case 13:Xn(o,r),fr(r),v=r.child,v.flags&8192&&(y=v.memoizedState!==null,v.stateNode.isHidden=y,!y||v.alternate!==null&&v.alternate.memoizedState!==null||(Kd=bt())),f&4&&zv(r);break;case 22:if(se=c!==null&&c.memoizedState!==null,r.mode&1?(en=(G=en)||se,Xn(o,r),en=G):Xn(o,r),fr(r),f&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!se&&(r.mode&1)!==0)for(ge=r,se=r.child;se!==null;){for(ie=ge=se;ge!==null;){switch(ne=ge,he=ne.child,ne.tag){case 0:case 11:case 14:case 15:Qi(4,ne,ne.return);break;case 1:Eo(ne,ne.return);var ye=ne.stateNode;if(typeof ye.componentWillUnmount=="function"){f=ne,c=ne.return;try{o=f,ye.props=o.memoizedProps,ye.state=o.memoizedState,ye.componentWillUnmount()}catch(Se){gt(f,c,Se)}}break;case 5:Eo(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Gv(ie);continue}}he!==null?(he.return=ne,ge=he):Gv(ie)}se=se.sibling}e:for(se=null,ie=r;;){if(ie.tag===5){if(se===null){se=ie;try{v=ie.stateNode,G?(y=v.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(A=ie.stateNode,M=ie.memoizedProps.style,k=M!=null&&M.hasOwnProperty("display")?M.display:null,A.style.display=st("display",k))}catch(Se){gt(r,r.return,Se)}}}else if(ie.tag===6){if(se===null)try{ie.stateNode.nodeValue=G?"":ie.memoizedProps}catch(Se){gt(r,r.return,Se)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===r)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===r)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===r)break e;se===ie&&(se=null),ie=ie.return}se===ie&&(se=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Xn(o,r),fr(r),f&4&&zv(r);break;case 21:break;default:Xn(o,r),fr(r)}}function fr(r){var o=r.flags;if(o&2){try{e:{for(var c=r.return;c!==null;){if(Vv(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var v=f.stateNode;f.flags&32&&(Pe(v,""),f.flags&=-33);var y=Bv(r);zd(r,y,v);break;case 3:case 4:var k=f.stateNode.containerInfo,A=Bv(r);Ud(r,A,k);break;default:throw Error(n(161))}}catch(M){gt(r,r.return,M)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function pC(r,o,c){ge=r,Hv(r)}function Hv(r,o,c){for(var f=(r.mode&1)!==0;ge!==null;){var v=ge,y=v.child;if(v.tag===22&&f){var k=v.memoizedState!==null||Ll;if(!k){var A=v.alternate,M=A!==null&&A.memoizedState!==null||en;A=Ll;var G=en;if(Ll=k,(en=M)&&!G)for(ge=v;ge!==null;)k=ge,M=k.child,k.tag===22&&k.memoizedState!==null?qv(v):M!==null?(M.return=k,ge=M):qv(v);for(;y!==null;)ge=y,Hv(y),y=y.sibling;ge=v,Ll=A,en=G}Kv(r)}else(v.subtreeFlags&8772)!==0&&y!==null?(y.return=v,ge=y):Kv(r)}}function Kv(r){for(;ge!==null;){var o=ge;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:en||$l(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!en)if(c===null)f.componentDidMount();else{var v=o.elementType===o.type?c.memoizedProps:Yn(o.type,c.memoizedProps);f.componentDidUpdate(v,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Gg(o,y,f);break;case 3:var k=o.updateQueue;if(k!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Gg(o,k,c)}break;case 5:var A=o.stateNode;if(c===null&&o.flags&4){c=A;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&c.focus();break;case"img":M.src&&(c.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var se=G.memoizedState;if(se!==null){var ie=se.dehydrated;ie!==null&&Pi(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}en||o.flags&512&&Bd(o)}catch(ne){gt(o,o.return,ne)}}if(o===r){ge=null;break}if(c=o.sibling,c!==null){c.return=o.return,ge=c;break}ge=o.return}}function Gv(r){for(;ge!==null;){var o=ge;if(o===r){ge=null;break}var c=o.sibling;if(c!==null){c.return=o.return,ge=c;break}ge=o.return}}function qv(r){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{$l(4,o)}catch(M){gt(o,c,M)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var v=o.return;try{f.componentDidMount()}catch(M){gt(o,v,M)}}var y=o.return;try{Bd(o)}catch(M){gt(o,y,M)}break;case 5:var k=o.return;try{Bd(o)}catch(M){gt(o,k,M)}}}catch(M){gt(o,o.return,M)}if(o===r){ge=null;break}var A=o.sibling;if(A!==null){A.return=o.return,ge=A;break}ge=o.return}}var mC=Math.ceil,Fl=N.ReactCurrentDispatcher,Wd=N.ReactCurrentOwner,Ln=N.ReactCurrentBatchConfig,Ye=0,Lt=null,jt=null,Ht=0,kn=0,No=Xr(0),Pt=0,Zi=null,Rs=0,Vl=0,Hd=0,ea=null,hn=null,Kd=0,To=1/0,Pr=null,Bl=!1,Gd=null,rs=null,Ul=!1,ss=null,zl=0,ta=0,qd=null,Wl=-1,Hl=0;function sn(){return(Ye&6)!==0?bt():Wl!==-1?Wl:Wl=bt()}function os(r){return(r.mode&1)===0?1:(Ye&2)!==0&&Ht!==0?Ht&-Ht:Qj.transition!==null?(Hl===0&&(Hl=Bm()),Hl):(r=tt,r!==0||(r=window.event,r=r===void 0?16:Jm(r.type)),r)}function Qn(r,o,c,f){if(50<ta)throw ta=0,qd=null,Error(n(185));ji(r,c,f),((Ye&2)===0||r!==Lt)&&(r===Lt&&((Ye&2)===0&&(Vl|=c),Pt===4&&is(r,Ht)),pn(r,f),c===1&&Ye===0&&(o.mode&1)===0&&(To=bt()+500,xl&&Zr()))}function pn(r,o){var c=r.callbackNode;Qk(r,o);var f=el(r,r===Lt?Ht:0);if(f===0)c!==null&&$m(c),r.callbackNode=null,r.callbackPriority=0;else if(o=f&-f,r.callbackPriority!==o){if(c!=null&&$m(c),o===1)r.tag===0?Xj(Jv.bind(null,r)):Mg(Jv.bind(null,r)),Gj(function(){(Ye&6)===0&&Zr()}),c=null;else{switch(Um(f)){case 1:c=Eu;break;case 4:c=Fm;break;case 16:c=Ja;break;case 536870912:c=Vm;break;default:c=Ja}c=sy(c,Yv.bind(null,r))}r.callbackPriority=o,r.callbackNode=c}}function Yv(r,o){if(Wl=-1,Hl=0,(Ye&6)!==0)throw Error(n(327));var c=r.callbackNode;if(Po()&&r.callbackNode!==c)return null;var f=el(r,r===Lt?Ht:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||o)o=Kl(r,f);else{o=f;var v=Ye;Ye|=2;var y=Qv();(Lt!==r||Ht!==o)&&(Pr=null,To=bt()+500,Is(r,o));do try{yC();break}catch(A){Xv(r,A)}while(!0);fd(),Fl.current=y,Ye=v,jt!==null?o=0:(Lt=null,Ht=0,o=Pt)}if(o!==0){if(o===2&&(v=Nu(r),v!==0&&(f=v,o=Yd(r,v))),o===1)throw c=Zi,Is(r,0),is(r,f),pn(r,bt()),c;if(o===6)is(r,f);else{if(v=r.current.alternate,(f&30)===0&&!gC(v)&&(o=Kl(r,f),o===2&&(y=Nu(r),y!==0&&(f=y,o=Yd(r,y))),o===1))throw c=Zi,Is(r,0),is(r,f),pn(r,bt()),c;switch(r.finishedWork=v,r.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:Ms(r,hn,Pr);break;case 3:if(is(r,f),(f&130023424)===f&&(o=Kd+500-bt(),10<o)){if(el(r,0)!==0)break;if(v=r.suspendedLanes,(v&f)!==f){sn(),r.pingedLanes|=r.suspendedLanes&v;break}r.timeoutHandle=td(Ms.bind(null,r,hn,Pr),o);break}Ms(r,hn,Pr);break;case 4:if(is(r,f),(f&4194240)===f)break;for(o=r.eventTimes,v=-1;0<f;){var k=31-Kn(f);y=1<<k,k=o[k],k>v&&(v=k),f&=~y}if(f=v,f=bt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*mC(f/1960))-f,10<f){r.timeoutHandle=td(Ms.bind(null,r,hn,Pr),f);break}Ms(r,hn,Pr);break;case 5:Ms(r,hn,Pr);break;default:throw Error(n(329))}}}return pn(r,bt()),r.callbackNode===c?Yv.bind(null,r):null}function Yd(r,o){var c=ea;return r.current.memoizedState.isDehydrated&&(Is(r,o).flags|=256),r=Kl(r,o),r!==2&&(o=hn,hn=c,o!==null&&Jd(o)),r}function Jd(r){hn===null?hn=r:hn.push.apply(hn,r)}function gC(r){for(var o=r;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var v=c[f],y=v.getSnapshot;v=v.value;try{if(!Gn(y(),v))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function is(r,o){for(o&=~Hd,o&=~Vl,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var c=31-Kn(o),f=1<<c;r[c]=-1,o&=~f}}function Jv(r){if((Ye&6)!==0)throw Error(n(327));Po();var o=el(r,0);if((o&1)===0)return pn(r,bt()),null;var c=Kl(r,o);if(r.tag!==0&&c===2){var f=Nu(r);f!==0&&(o=f,c=Yd(r,f))}if(c===1)throw c=Zi,Is(r,0),is(r,o),pn(r,bt()),c;if(c===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,Ms(r,hn,Pr),pn(r,bt()),null}function Xd(r,o){var c=Ye;Ye|=1;try{return r(o)}finally{Ye=c,Ye===0&&(To=bt()+500,xl&&Zr())}}function Os(r){ss!==null&&ss.tag===0&&(Ye&6)===0&&Po();var o=Ye;Ye|=1;var c=Ln.transition,f=tt;try{if(Ln.transition=null,tt=1,r)return r()}finally{tt=f,Ln.transition=c,Ye=o,(Ye&6)===0&&Zr()}}function Qd(){kn=No.current,lt(No)}function Is(r,o){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,Kj(c)),jt!==null)for(c=jt.return;c!==null;){var f=c;switch(ad(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&vl();break;case 3:jo(),lt(un),lt(Xt),wd();break;case 5:yd(f);break;case 4:jo();break;case 13:lt(dt);break;case 19:lt(dt);break;case 10:hd(f.type._context);break;case 22:case 23:Qd()}c=c.return}if(Lt=r,jt=r=as(r.current,null),Ht=kn=o,Pt=0,Zi=null,Hd=Vl=Rs=0,hn=ea=null,Ts!==null){for(o=0;o<Ts.length;o++)if(c=Ts[o],f=c.interleaved,f!==null){c.interleaved=null;var v=f.next,y=c.pending;if(y!==null){var k=y.next;y.next=v,f.next=k}c.pending=f}Ts=null}return r}function Xv(r,o){do{var c=jt;try{if(fd(),Tl.current=Ol,Pl){for(var f=ft.memoizedState;f!==null;){var v=f.queue;v!==null&&(v.pending=null),f=f.next}Pl=!1}if(As=0,Dt=Tt=ft=null,Gi=!1,qi=0,Wd.current=null,c===null||c.return===null){Pt=1,Zi=o,jt=null;break}e:{var y=r,k=c.return,A=c,M=o;if(o=Ht,A.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var G=M,se=A,ie=se.tag;if((se.mode&1)===0&&(ie===0||ie===11||ie===15)){var ne=se.alternate;ne?(se.updateQueue=ne.updateQueue,se.memoizedState=ne.memoizedState,se.lanes=ne.lanes):(se.updateQueue=null,se.memoizedState=null)}var he=Sv(k);if(he!==null){he.flags&=-257,_v(he,k,A,y,o),he.mode&1&&bv(y,G,o),o=he,M=G;var ye=o.updateQueue;if(ye===null){var Se=new Set;Se.add(M),o.updateQueue=Se}else ye.add(M);break e}else{if((o&1)===0){bv(y,G,o),Zd();break e}M=Error(n(426))}}else if(ct&&A.mode&1){var St=Sv(k);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),_v(St,k,A,y,o),ud(Co(M,A));break e}}y=M=Co(M,A),Pt!==4&&(Pt=2),ea===null?ea=[y]:ea.push(y),y=k;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var U=xv(y,M,o);Kg(y,U);break e;case 1:A=M;var $=y.type,z=y.stateNode;if((y.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(rs===null||!rs.has(z)))){y.flags|=65536,o&=-o,y.lanes|=o;var ce=wv(y,A,o);Kg(y,ce);break e}}y=y.return}while(y!==null)}ey(c)}catch(je){o=je,jt===c&&c!==null&&(jt=c=c.return);continue}break}while(!0)}function Qv(){var r=Fl.current;return Fl.current=Ol,r===null?Ol:r}function Zd(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Lt===null||(Rs&268435455)===0&&(Vl&268435455)===0||is(Lt,Ht)}function Kl(r,o){var c=Ye;Ye|=2;var f=Qv();(Lt!==r||Ht!==o)&&(Pr=null,Is(r,o));do try{vC();break}catch(v){Xv(r,v)}while(!0);if(fd(),Ye=c,Fl.current=f,jt!==null)throw Error(n(261));return Lt=null,Ht=0,Pt}function vC(){for(;jt!==null;)Zv(jt)}function yC(){for(;jt!==null&&!zk();)Zv(jt)}function Zv(r){var o=ry(r.alternate,r,kn);r.memoizedProps=r.pendingProps,o===null?ey(r):jt=o,Wd.current=null}function ey(r){var o=r;do{var c=o.alternate;if(r=o.return,(o.flags&32768)===0){if(c=uC(c,o,kn),c!==null){jt=c;return}}else{if(c=dC(c,o),c!==null){c.flags&=32767,jt=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Pt=6,jt=null;return}}if(o=o.sibling,o!==null){jt=o;return}jt=o=r}while(o!==null);Pt===0&&(Pt=5)}function Ms(r,o,c){var f=tt,v=Ln.transition;try{Ln.transition=null,tt=1,xC(r,o,c,f)}finally{Ln.transition=v,tt=f}return null}function xC(r,o,c,f){do Po();while(ss!==null);if((Ye&6)!==0)throw Error(n(327));c=r.finishedWork;var v=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=c.lanes|c.childLanes;if(Zk(r,y),r===Lt&&(jt=Lt=null,Ht=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Ul||(Ul=!0,sy(Ja,function(){return Po(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=Ln.transition,Ln.transition=null;var k=tt;tt=1;var A=Ye;Ye|=4,Wd.current=null,hC(r,c),Wv(c,r),Fj(Zu),rl=!!Qu,Zu=Qu=null,r.current=c,pC(c),Wk(),Ye=A,tt=k,Ln.transition=y}else r.current=c;if(Ul&&(Ul=!1,ss=r,zl=v),y=r.pendingLanes,y===0&&(rs=null),Gk(c.stateNode),pn(r,bt()),o!==null)for(f=r.onRecoverableError,c=0;c<o.length;c++)v=o[c],f(v.value,{componentStack:v.stack,digest:v.digest});if(Bl)throw Bl=!1,r=Gd,Gd=null,r;return(zl&1)!==0&&r.tag!==0&&Po(),y=r.pendingLanes,(y&1)!==0?r===qd?ta++:(ta=0,qd=r):ta=0,Zr(),null}function Po(){if(ss!==null){var r=Um(zl),o=Ln.transition,c=tt;try{if(Ln.transition=null,tt=16>r?16:r,ss===null)var f=!1;else{if(r=ss,ss=null,zl=0,(Ye&6)!==0)throw Error(n(331));var v=Ye;for(Ye|=4,ge=r.current;ge!==null;){var y=ge,k=y.child;if((ge.flags&16)!==0){var A=y.deletions;if(A!==null){for(var M=0;M<A.length;M++){var G=A[M];for(ge=G;ge!==null;){var se=ge;switch(se.tag){case 0:case 11:case 15:Qi(8,se,y)}var ie=se.child;if(ie!==null)ie.return=se,ge=ie;else for(;ge!==null;){se=ge;var ne=se.sibling,he=se.return;if(Fv(se),se===G){ge=null;break}if(ne!==null){ne.return=he,ge=ne;break}ge=he}}}var ye=y.alternate;if(ye!==null){var Se=ye.child;if(Se!==null){ye.child=null;do{var St=Se.sibling;Se.sibling=null,Se=St}while(Se!==null)}}ge=y}}if((y.subtreeFlags&2064)!==0&&k!==null)k.return=y,ge=k;else e:for(;ge!==null;){if(y=ge,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Qi(9,y,y.return)}var U=y.sibling;if(U!==null){U.return=y.return,ge=U;break e}ge=y.return}}var $=r.current;for(ge=$;ge!==null;){k=ge;var z=k.child;if((k.subtreeFlags&2064)!==0&&z!==null)z.return=k,ge=z;else e:for(k=$;ge!==null;){if(A=ge,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:$l(9,A)}}catch(je){gt(A,A.return,je)}if(A===k){ge=null;break e}var ce=A.sibling;if(ce!==null){ce.return=A.return,ge=ce;break e}ge=A.return}}if(Ye=v,Zr(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Xa,r)}catch{}f=!0}return f}finally{tt=c,Ln.transition=o}}return!1}function ty(r,o,c){o=Co(c,o),o=xv(r,o,1),r=ts(r,o,1),o=sn(),r!==null&&(ji(r,1,o),pn(r,o))}function gt(r,o,c){if(r.tag===3)ty(r,r,c);else for(;o!==null;){if(o.tag===3){ty(o,r,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(rs===null||!rs.has(f))){r=Co(c,r),r=wv(o,r,1),o=ts(o,r,1),r=sn(),o!==null&&(ji(o,1,r),pn(o,r));break}}o=o.return}}function wC(r,o,c){var f=r.pingCache;f!==null&&f.delete(o),o=sn(),r.pingedLanes|=r.suspendedLanes&c,Lt===r&&(Ht&c)===c&&(Pt===4||Pt===3&&(Ht&130023424)===Ht&&500>bt()-Kd?Is(r,0):Hd|=c),pn(r,o)}function ny(r,o){o===0&&((r.mode&1)===0?o=1:(o=Za,Za<<=1,(Za&130023424)===0&&(Za=4194304)));var c=sn();r=Er(r,o),r!==null&&(ji(r,o,c),pn(r,c))}function bC(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),ny(r,c)}function SC(r,o){var c=0;switch(r.tag){case 13:var f=r.stateNode,v=r.memoizedState;v!==null&&(c=v.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),ny(r,c)}var ry;ry=function(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps||un.current)fn=!0;else{if((r.lanes&c)===0&&(o.flags&128)===0)return fn=!1,cC(r,o,c);fn=(r.flags&131072)!==0}else fn=!1,ct&&(o.flags&1048576)!==0&&Dg(o,bl,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Dl(r,o),r=o.pendingProps;var v=yo(o,Xt.current);ko(o,c),v=_d(null,o,f,r,v,c);var y=kd();return o.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,dn(f)?(y=!0,yl(o)):y=!1,o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,gd(o),v.updater=Il,o.stateNode=v,v._reactInternals=o,Pd(o,f,r,c),o=Id(null,o,f,!0,y,c)):(o.tag=0,ct&&y&&id(o),rn(null,o,v,c),o=o.child),o;case 16:f=o.elementType;e:{switch(Dl(r,o),r=o.pendingProps,v=f._init,f=v(f._payload),o.type=f,v=o.tag=kC(f),r=Yn(f,r),v){case 0:o=Od(null,o,f,r,c);break e;case 1:o=Tv(null,o,f,r,c);break e;case 11:o=kv(null,o,f,r,c);break e;case 14:o=jv(null,o,f,Yn(f.type,r),c);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,v=o.pendingProps,v=o.elementType===f?v:Yn(f,v),Od(r,o,f,v,c);case 1:return f=o.type,v=o.pendingProps,v=o.elementType===f?v:Yn(f,v),Tv(r,o,f,v,c);case 3:e:{if(Pv(o),r===null)throw Error(n(387));f=o.pendingProps,y=o.memoizedState,v=y.element,Hg(r,o),El(o,f,null,c);var k=o.memoizedState;if(f=k.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){v=Co(Error(n(423)),o),o=Av(r,o,f,c,v);break e}else if(f!==v){v=Co(Error(n(424)),o),o=Av(r,o,f,c,v);break e}else for(_n=Jr(o.stateNode.containerInfo.firstChild),Sn=o,ct=!0,qn=null,c=zg(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(bo(),f===v){o=Tr(r,o,c);break e}rn(r,o,f,c)}o=o.child}return o;case 5:return qg(o),r===null&&cd(o),f=o.type,v=o.pendingProps,y=r!==null?r.memoizedProps:null,k=v.children,ed(f,v)?k=null:y!==null&&ed(f,y)&&(o.flags|=32),Nv(r,o),rn(r,o,k,c),o.child;case 6:return r===null&&cd(o),null;case 13:return Rv(r,o,c);case 4:return vd(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=So(o,null,f,c):rn(r,o,f,c),o.child;case 11:return f=o.type,v=o.pendingProps,v=o.elementType===f?v:Yn(f,v),kv(r,o,f,v,c);case 7:return rn(r,o,o.pendingProps,c),o.child;case 8:return rn(r,o,o.pendingProps.children,c),o.child;case 12:return rn(r,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,v=o.pendingProps,y=o.memoizedProps,k=v.value,ot(kl,f._currentValue),f._currentValue=k,y!==null)if(Gn(y.value,k)){if(y.children===v.children&&!un.current){o=Tr(r,o,c);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var A=y.dependencies;if(A!==null){k=y.child;for(var M=A.firstContext;M!==null;){if(M.context===f){if(y.tag===1){M=Nr(-1,c&-c),M.tag=2;var G=y.updateQueue;if(G!==null){G=G.shared;var se=G.pending;se===null?M.next=M:(M.next=se.next,se.next=M),G.pending=M}}y.lanes|=c,M=y.alternate,M!==null&&(M.lanes|=c),pd(y.return,c,o),A.lanes|=c;break}M=M.next}}else if(y.tag===10)k=y.type===o.type?null:y.child;else if(y.tag===18){if(k=y.return,k===null)throw Error(n(341));k.lanes|=c,A=k.alternate,A!==null&&(A.lanes|=c),pd(k,c,o),k=y.sibling}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===o){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}rn(r,o,v.children,c),o=o.child}return o;case 9:return v=o.type,f=o.pendingProps.children,ko(o,c),v=Mn(v),f=f(v),o.flags|=1,rn(r,o,f,c),o.child;case 14:return f=o.type,v=Yn(f,o.pendingProps),v=Yn(f.type,v),jv(r,o,f,v,c);case 15:return Cv(r,o,o.type,o.pendingProps,c);case 17:return f=o.type,v=o.pendingProps,v=o.elementType===f?v:Yn(f,v),Dl(r,o),o.tag=1,dn(f)?(r=!0,yl(o)):r=!1,ko(o,c),vv(o,f,v),Pd(o,f,v,c),Id(null,o,f,!0,r,c);case 19:return Iv(r,o,c);case 22:return Ev(r,o,c)}throw Error(n(156,o.tag))};function sy(r,o){return Lm(r,o)}function _C(r,o,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(r,o,c,f){return new _C(r,o,c,f)}function ef(r){return r=r.prototype,!(!r||!r.isReactComponent)}function kC(r){if(typeof r=="function")return ef(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Q)return 11;if(r===ve)return 14}return 2}function as(r,o){var c=r.alternate;return c===null?(c=$n(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function Gl(r,o,c,f,v,y){var k=2;if(f=r,typeof r=="function")ef(r)&&(k=1);else if(typeof r=="string")k=5;else e:switch(r){case D:return Ds(c.children,v,y,o);case F:k=8,v|=8;break;case B:return r=$n(12,c,o,v|2),r.elementType=B,r.lanes=y,r;case re:return r=$n(13,c,o,v),r.elementType=re,r.lanes=y,r;case fe:return r=$n(19,c,o,v),r.elementType=fe,r.lanes=y,r;case X:return ql(c,v,y,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:k=10;break e;case Z:k=9;break e;case Q:k=11;break e;case ve:k=14;break e;case K:k=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return o=$n(k,c,o,v),o.elementType=r,o.type=f,o.lanes=y,o}function Ds(r,o,c,f){return r=$n(7,r,f,o),r.lanes=c,r}function ql(r,o,c,f){return r=$n(22,r,f,o),r.elementType=X,r.lanes=c,r.stateNode={isHidden:!1},r}function tf(r,o,c){return r=$n(6,r,null,o),r.lanes=c,r}function nf(r,o,c){return o=$n(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function jC(r,o,c,f,v){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tu(0),this.expirationTimes=Tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tu(0),this.identifierPrefix=f,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function rf(r,o,c,f,v,y,k,A,M){return r=new jC(r,o,c,A,M),o===1?(o=1,y===!0&&(o|=8)):o=0,y=$n(3,null,null,o),r.current=y,y.stateNode=r,y.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},gd(y),r}function CC(r,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:f==null?null:""+f,children:r,containerInfo:o,implementation:c}}function oy(r){if(!r)return Qr;r=r._reactInternals;e:{if(ks(r)!==r||r.tag!==1)throw Error(n(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(dn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(r.tag===1){var c=r.type;if(dn(c))return Og(r,c,o)}return o}function iy(r,o,c,f,v,y,k,A,M){return r=rf(c,f,!0,r,v,y,k,A,M),r.context=oy(null),c=r.current,f=sn(),v=os(c),y=Nr(f,v),y.callback=o??null,ts(c,y,v),r.current.lanes=v,ji(r,v,f),pn(r,f),r}function Yl(r,o,c,f){var v=o.current,y=sn(),k=os(v);return c=oy(c),o.context===null?o.context=c:o.pendingContext=c,o=Nr(y,k),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=ts(v,o,k),r!==null&&(Qn(r,v,k,y),Cl(r,v,k)),k}function Jl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function ay(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function sf(r,o){ay(r,o),(r=r.alternate)&&ay(r,o)}function EC(){return null}var ly=typeof reportError=="function"?reportError:function(r){console.error(r)};function of(r){this._internalRoot=r}Xl.prototype.render=of.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(n(409));Yl(r,o,null,null)},Xl.prototype.unmount=of.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Os(function(){Yl(null,r,null,null)}),o[_r]=null}};function Xl(r){this._internalRoot=r}Xl.prototype.unstable_scheduleHydration=function(r){if(r){var o=Hm();r={blockedOn:null,target:r,priority:o};for(var c=0;c<Gr.length&&o!==0&&o<Gr[c].priority;c++);Gr.splice(c,0,r),c===0&&qm(r)}};function af(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ql(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function cy(){}function NC(r,o,c,f,v){if(v){if(typeof f=="function"){var y=f;f=function(){var G=Jl(k);y.call(G)}}var k=iy(o,f,r,0,null,!1,!1,"",cy);return r._reactRootContainer=k,r[_r]=k.current,Fi(r.nodeType===8?r.parentNode:r),Os(),k}for(;v=r.lastChild;)r.removeChild(v);if(typeof f=="function"){var A=f;f=function(){var G=Jl(M);A.call(G)}}var M=rf(r,0,!1,null,null,!1,!1,"",cy);return r._reactRootContainer=M,r[_r]=M.current,Fi(r.nodeType===8?r.parentNode:r),Os(function(){Yl(o,M,c,f)}),M}function Zl(r,o,c,f,v){var y=c._reactRootContainer;if(y){var k=y;if(typeof v=="function"){var A=v;v=function(){var M=Jl(k);A.call(M)}}Yl(o,k,r,v)}else k=NC(c,o,r,v,f);return Jl(k)}zm=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var c=ki(o.pendingLanes);c!==0&&(Pu(o,c|1),pn(o,bt()),(Ye&6)===0&&(To=bt()+500,Zr()))}break;case 13:Os(function(){var f=Er(r,1);if(f!==null){var v=sn();Qn(f,r,1,v)}}),sf(r,1)}},Au=function(r){if(r.tag===13){var o=Er(r,134217728);if(o!==null){var c=sn();Qn(o,r,134217728,c)}sf(r,134217728)}},Wm=function(r){if(r.tag===13){var o=os(r),c=Er(r,o);if(c!==null){var f=sn();Qn(c,r,o,f)}sf(r,o)}},Hm=function(){return tt},Km=function(r,o){var c=tt;try{return tt=r,o()}finally{tt=c}},Ot=function(r,o,c){switch(o){case"input":if(Gt(r,c),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==r&&f.form===r.form){var v=gl(f);if(!v)throw Error(n(90));pe(f),Gt(f,v)}}}break;case"textarea":We(r,c);break;case"select":o=c.value,o!=null&&ae(r,!!c.multiple,o,!1)}},Nt=Xd,Jt=Os;var TC={usingClientEntryPoint:!1,Events:[Ui,go,gl,Ae,wt,Xd]},na={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PC={bundleType:na.bundleType,version:na.version,rendererPackageName:na.rendererPackageName,rendererConfig:na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Mm(r),r===null?null:r.stateNode},findFiberByHostInstance:na.findFiberByHostInstance||EC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{Xa=ec.inject(PC),lr=ec}catch{}}return mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TC,mn.createPortal=function(r,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!af(o))throw Error(n(200));return CC(r,o,null,c)},mn.createRoot=function(r,o){if(!af(r))throw Error(n(299));var c=!1,f="",v=ly;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=rf(r,1,!1,null,null,c,!1,f,v),r[_r]=o.current,Fi(r.nodeType===8?r.parentNode:r),new of(o)},mn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Mm(o),r=r===null?null:r.stateNode,r},mn.flushSync=function(r){return Os(r)},mn.hydrate=function(r,o,c){if(!Ql(o))throw Error(n(200));return Zl(null,r,o,!0,c)},mn.hydrateRoot=function(r,o,c){if(!af(r))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,v=!1,y="",k=ly;if(c!=null&&(c.unstable_strictMode===!0&&(v=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),o=iy(o,null,r,1,c??null,v,!1,y,k),r[_r]=o.current,Fi(r),f)for(r=0;r<f.length;r++)c=f[r],v=c._getVersion,v=v(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,v]:o.mutableSourceEagerHydrationData.push(c,v);return new Xl(o)},mn.render=function(r,o,c){if(!Ql(o))throw Error(n(200));return Zl(null,r,o,!1,c)},mn.unmountComponentAtNode=function(r){if(!Ql(r))throw Error(n(40));return r._reactRootContainer?(Os(function(){Zl(null,null,r,!1,function(){r._reactRootContainer=null,r[_r]=null})}),!0):!1},mn.unstable_batchedUpdates=Xd,mn.unstable_renderSubtreeIntoContainer=function(r,o,c,f){if(!Ql(c))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Zl(r,o,c,!1,f)},mn.version="18.3.1-next-f1338f8080-20240426",mn}var vy;function ow(){if(vy)return uf.exports;vy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),uf.exports=LC(),uf.exports}var yy;function $C(){if(yy)return tc;yy=1;var t=ow();return tc.createRoot=t.createRoot,tc.hydrateRoot=t.hydrateRoot,tc}var FC=$C(),w=rp();const ue=np(w),iw=rw({__proto__:null,default:ue},[w]);var sp=ow();const aw=np(sp);function VC(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const BC=t=>{switch(t){case"success":return WC;case"info":return KC;case"warning":return HC;case"error":return GC;default:return null}},UC=Array(12).fill(0),zC=({visible:t,className:e})=>ue.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ue.createElement("div",{className:"sonner-spinner"},UC.map((n,s)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),WC=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),HC=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),KC=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),GC=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),qC=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),YC=()=>{const[t,e]=ue.useState(document.hidden);return ue.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let sh=1;class JC{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:s,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:sh++,l=this.toasts.find(p=>p.id===a),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(p=>p.id===a?(this.publish({...p,...e,id:a,title:s}),{...p,...e,id:a,dismissible:d,title:s}):p):this.addToast({title:s,...i,dismissible:d,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=s!==void 0,l;const d=i.then(async h=>{if(l=["resolve",h],ue.isValidElement(h))a=!1,this.create({id:s,type:"default",message:h});else if(QC(h)&&!h.ok){a=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,S=typeof g=="object"&&!ue.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:x,...S})}else if(h instanceof Error){a=!1;const g=typeof n.error=="function"?await n.error(h):n.error,x=typeof n.description=="function"?await n.description(h):n.description,S=typeof g=="object"&&!ue.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:x,...S})}else if(n.success!==void 0){a=!1;const g=typeof n.success=="function"?await n.success(h):n.success,x=typeof n.description=="function"?await n.description(h):n.description,S=typeof g=="object"&&!ue.isValidElement(g)?g:{message:g};this.create({id:s,type:"success",description:x,...S})}}).catch(async h=>{if(l=["reject",h],n.error!==void 0){a=!1;const m=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description,b=typeof m=="object"&&!ue.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:g,...b})}}).finally(()=>{a&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),p=()=>new Promise((h,m)=>d.then(()=>l[0]==="reject"?m(l[1]):h(l[1])).catch(m));return typeof s!="string"&&typeof s!="number"?{unwrap:p}:Object.assign(s,{unwrap:p})},this.custom=(e,n)=>{const s=n?.id||sh++;return this.create({jsx:e(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const gn=new JC,XC=(t,e)=>{const n=e?.id||sh++;return gn.addToast({title:t,...e,id:n}),n},QC=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ZC=XC,e2=()=>gn.toasts,t2=()=>gn.getActiveToasts(),n2=Object.assign(ZC,{success:gn.success,info:gn.info,warning:gn.warning,error:gn.error,custom:gn.custom,message:gn.message,promise:gn.promise,dismiss:gn.dismiss,loading:gn.loading},{getHistory:e2,getToasts:t2});VC("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function nc(t){return t.label!==void 0}const r2=3,s2="24px",o2="16px",xy=4e3,i2=356,a2=14,l2=45,c2=200;function hr(...t){return t.filter(Boolean).join(" ")}function u2(t){const[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}const d2=t=>{var e,n,s,i,a,l,d,p,h;const{invert:m,toast:g,unstyled:x,interacting:b,setHeights:S,visibleToasts:_,heights:j,index:C,toasts:T,expanded:E,removeToast:N,defaultRichColors:P,closeButton:I,style:D,cancelButtonStyle:F,actionButtonStyle:B,className:V="",descriptionClassName:Z="",duration:Q,position:re,gap:fe,expandByDefault:ve,classNames:K,icons:X,closeButtonAriaLabel:R="Close toast"}=t,[W,J]=ue.useState(null),[L,O]=ue.useState(null),[H,Y]=ue.useState(!1),[q,le]=ue.useState(!1),[ee,de]=ue.useState(!1),[ke,ze]=ue.useState(!1),[rt,pe]=ue.useState(!1),[Ke,yt]=ue.useState(0),[Pn,Ft]=ue.useState(0),Gt=ue.useRef(g.duration||Q||xy),xn=ue.useRef(null),Vt=ue.useRef(null),Hn=C===0,ae=C+1<=_,be=g.type,Me=g.dismissible!==!1,We=g.className||"",xt=g.descriptionClassName||"",Ge=ue.useMemo(()=>j.findIndex(Ae=>Ae.toastId===g.id)||0,[j,g.id]),et=ue.useMemo(()=>{var Ae;return(Ae=g.closeButton)!=null?Ae:I},[g.closeButton,I]),Ue=ue.useMemo(()=>g.duration||Q||xy,[g.duration,Q]),oe=ue.useRef(0),Pe=ue.useRef(0),Le=ue.useRef(0),Je=ue.useRef(null),[st,Fe]=re.split("-"),qt=ue.useMemo(()=>j.reduce((Ae,wt,Nt)=>Nt>=Ge?Ae:Ae+wt.height,0),[j,Ge]),Yt=YC(),Bt=g.invert||m,nt=be==="loading";Pe.current=ue.useMemo(()=>Ge*fe+qt,[Ge,qt]),ue.useEffect(()=>{Gt.current=Ue},[Ue]),ue.useEffect(()=>{Y(!0)},[]),ue.useEffect(()=>{const Ae=Vt.current;if(Ae){const wt=Ae.getBoundingClientRect().height;return Ft(wt),S(Nt=>[{toastId:g.id,height:wt,position:g.position},...Nt]),()=>S(Nt=>Nt.filter(Jt=>Jt.toastId!==g.id))}},[S,g.id]),ue.useLayoutEffect(()=>{if(!H)return;const Ae=Vt.current,wt=Ae.style.height;Ae.style.height="auto";const Nt=Ae.getBoundingClientRect().height;Ae.style.height=wt,Ft(Nt),S(Jt=>Jt.find(kt=>kt.toastId===g.id)?Jt.map(kt=>kt.toastId===g.id?{...kt,height:Nt}:kt):[{toastId:g.id,height:Nt,position:g.position},...Jt])},[H,g.title,g.description,S,g.id,g.jsx,g.action,g.cancel]);const Xe=ue.useCallback(()=>{le(!0),yt(Pe.current),S(Ae=>Ae.filter(wt=>wt.toastId!==g.id)),setTimeout(()=>{N(g)},c2)},[g,N,S,Pe]);ue.useEffect(()=>{if(g.promise&&be==="loading"||g.duration===1/0||g.type==="loading")return;let Ae;return E||b||Yt?(()=>{if(Le.current<oe.current){const Jt=new Date().getTime()-oe.current;Gt.current=Gt.current-Jt}Le.current=new Date().getTime()})():(()=>{Gt.current!==1/0&&(oe.current=new Date().getTime(),Ae=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Xe()},Gt.current))})(),()=>clearTimeout(Ae)},[E,b,g,be,Yt,Xe]),ue.useEffect(()=>{g.delete&&(Xe(),g.onDismiss==null||g.onDismiss.call(g,g))},[Xe,g.delete]);function Ot(){var Ae;if(X?.loading){var wt;return ue.createElement("div",{className:hr(K?.loader,g==null||(wt=g.classNames)==null?void 0:wt.loader,"sonner-loader"),"data-visible":be==="loading"},X.loading)}return ue.createElement(zC,{className:hr(K?.loader,g==null||(Ae=g.classNames)==null?void 0:Ae.loader),visible:be==="loading"})}const Ut=g.icon||X?.[be]||BC(be);var It,An;return ue.createElement("li",{tabIndex:0,ref:Vt,className:hr(V,We,K?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,K?.default,K?.[be],g==null||(n=g.classNames)==null?void 0:n[be]),"data-sonner-toast":"","data-rich-colors":(It=g.richColors)!=null?It:P,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":H,"data-promise":!!g.promise,"data-swiped":rt,"data-removed":q,"data-visible":ae,"data-y-position":st,"data-x-position":Fe,"data-index":C,"data-front":Hn,"data-swiping":ee,"data-dismissible":Me,"data-type":be,"data-invert":Bt,"data-swipe-out":ke,"data-swipe-direction":L,"data-expanded":!!(E||ve&&H),"data-testid":g.testId,style:{"--index":C,"--toasts-before":C,"--z-index":T.length-C,"--offset":`${q?Ke:Pe.current}px`,"--initial-height":ve?"auto":`${Pn}px`,...D,...g.style},onDragEnd:()=>{de(!1),J(null),Je.current=null},onPointerDown:Ae=>{Ae.button!==2&&(nt||!Me||(xn.current=new Date,yt(Pe.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(de(!0),Je.current={x:Ae.clientX,y:Ae.clientY})))},onPointerUp:()=>{var Ae,wt,Nt;if(ke||!Me)return;Je.current=null;const Jt=Number(((Ae=Vt.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Br=Number(((wt=Vt.current)==null?void 0:wt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),kt=new Date().getTime()-((Nt=xn.current)==null?void 0:Nt.getTime()),Mt=W==="x"?Jt:Br,Ur=Math.abs(Mt)/kt;if(Math.abs(Mt)>=l2||Ur>.11){yt(Pe.current),g.onDismiss==null||g.onDismiss.call(g,g),O(W==="x"?Jt>0?"right":"left":Br>0?"down":"up"),Xe(),ze(!0);return}else{var zt,wn;(zt=Vt.current)==null||zt.style.setProperty("--swipe-amount-x","0px"),(wn=Vt.current)==null||wn.style.setProperty("--swipe-amount-y","0px")}pe(!1),de(!1),J(null)},onPointerMove:Ae=>{var wt,Nt,Jt;if(!Je.current||!Me||((wt=window.getSelection())==null?void 0:wt.toString().length)>0)return;const kt=Ae.clientY-Je.current.y,Mt=Ae.clientX-Je.current.x;var Ur;const zt=(Ur=t.swipeDirections)!=null?Ur:u2(re);!W&&(Math.abs(Mt)>1||Math.abs(kt)>1)&&J(Math.abs(Mt)>Math.abs(kt)?"x":"y");let wn={x:0,y:0};const zr=Rn=>1/(1.5+Math.abs(Rn)/20);if(W==="y"){if(zt.includes("top")||zt.includes("bottom"))if(zt.includes("top")&&kt<0||zt.includes("bottom")&&kt>0)wn.y=kt;else{const Rn=kt*zr(kt);wn.y=Math.abs(Rn)<Math.abs(kt)?Rn:kt}}else if(W==="x"&&(zt.includes("left")||zt.includes("right")))if(zt.includes("left")&&Mt<0||zt.includes("right")&&Mt>0)wn.x=Mt;else{const Rn=Mt*zr(Mt);wn.x=Math.abs(Rn)<Math.abs(Mt)?Rn:Mt}(Math.abs(wn.x)>0||Math.abs(wn.y)>0)&&pe(!0),(Nt=Vt.current)==null||Nt.style.setProperty("--swipe-amount-x",`${wn.x}px`),(Jt=Vt.current)==null||Jt.style.setProperty("--swipe-amount-y",`${wn.y}px`)}},et&&!g.jsx&&be!=="loading"?ue.createElement("button",{"aria-label":R,"data-disabled":nt,"data-close-button":!0,onClick:nt||!Me?()=>{}:()=>{Xe(),g.onDismiss==null||g.onDismiss.call(g,g)},className:hr(K?.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(An=X?.close)!=null?An:qC):null,(be||g.icon||g.promise)&&g.icon!==null&&(X?.[be]!==null||g.icon)?ue.createElement("div",{"data-icon":"",className:hr(K?.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Ot():null,g.type!=="loading"?Ut:null):null,ue.createElement("div",{"data-content":"",className:hr(K?.content,g==null||(a=g.classNames)==null?void 0:a.content)},ue.createElement("div",{"data-title":"",className:hr(K?.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ue.createElement("div",{"data-description":"",className:hr(Z,xt,K?.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),ue.isValidElement(g.cancel)?g.cancel:g.cancel&&nc(g.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||F,onClick:Ae=>{nc(g.cancel)&&Me&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ae),Xe())},className:hr(K?.cancelButton,g==null||(p=g.classNames)==null?void 0:p.cancelButton)},g.cancel.label):null,ue.isValidElement(g.action)?g.action:g.action&&nc(g.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||B,onClick:Ae=>{nc(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ae),!Ae.defaultPrevented&&Xe())},className:hr(K?.actionButton,g==null||(h=g.classNames)==null?void 0:h.actionButton)},g.action.label):null)};function wy(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function f2(t,e){const n={};return[t,e].forEach((s,i)=>{const a=i===1,l=a?"--mobile-offset":"--offset",d=a?o2:s2;function p(h){["top","right","bottom","left"].forEach(m=>{n[`${l}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?p(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${l}-${h}`]=d:n[`${l}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):p(d)}),n}const h2=ue.forwardRef(function(e,n){const{id:s,invert:i,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:d,closeButton:p,className:h,offset:m,mobileOffset:g,theme:x="light",richColors:b,duration:S,style:_,visibleToasts:j=r2,toastOptions:C,dir:T=wy(),gap:E=a2,icons:N,containerAriaLabel:P="Notifications"}=e,[I,D]=ue.useState([]),F=ue.useMemo(()=>s?I.filter(H=>H.toasterId===s):I.filter(H=>!H.toasterId),[I,s]),B=ue.useMemo(()=>Array.from(new Set([a].concat(F.filter(H=>H.position).map(H=>H.position)))),[F,a]),[V,Z]=ue.useState([]),[Q,re]=ue.useState(!1),[fe,ve]=ue.useState(!1),[K,X]=ue.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=ue.useRef(null),W=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),J=ue.useRef(null),L=ue.useRef(!1),O=ue.useCallback(H=>{D(Y=>{var q;return(q=Y.find(le=>le.id===H.id))!=null&&q.delete||gn.dismiss(H.id),Y.filter(({id:le})=>le!==H.id)})},[]);return ue.useEffect(()=>gn.subscribe(H=>{if(H.dismiss){requestAnimationFrame(()=>{D(Y=>Y.map(q=>q.id===H.id?{...q,delete:!0}:q))});return}setTimeout(()=>{aw.flushSync(()=>{D(Y=>{const q=Y.findIndex(le=>le.id===H.id);return q!==-1?[...Y.slice(0,q),{...Y[q],...H},...Y.slice(q+1)]:[H,...Y]})})})}),[I]),ue.useEffect(()=>{if(x!=="system"){X(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;const H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:Y})=>{X(Y?"dark":"light")})}catch{H.addListener(({matches:q})=>{try{X(q?"dark":"light")}catch(le){console.error(le)}})}},[x]),ue.useEffect(()=>{I.length<=1&&re(!1)},[I]),ue.useEffect(()=>{const H=Y=>{var q;if(l.every(de=>Y[de]||Y.code===de)){var ee;re(!0),(ee=R.current)==null||ee.focus()}Y.code==="Escape"&&(document.activeElement===R.current||(q=R.current)!=null&&q.contains(document.activeElement))&&re(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[l]),ue.useEffect(()=>{if(R.current)return()=>{J.current&&(J.current.focus({preventScroll:!0}),J.current=null,L.current=!1)}},[R.current]),ue.createElement("section",{ref:n,"aria-label":`${P} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((H,Y)=>{var q;const[le,ee]=H.split("-");return F.length?ue.createElement("ol",{key:H,dir:T==="auto"?wy():T,tabIndex:-1,ref:R,className:h,"data-sonner-toaster":!0,"data-sonner-theme":K,"data-y-position":le,"data-x-position":ee,style:{"--front-toast-height":`${((q=V[0])==null?void 0:q.height)||0}px`,"--width":`${i2}px`,"--gap":`${E}px`,..._,...f2(m,g)},onBlur:de=>{L.current&&!de.currentTarget.contains(de.relatedTarget)&&(L.current=!1,J.current&&(J.current.focus({preventScroll:!0}),J.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||L.current||(L.current=!0,J.current=de.relatedTarget)},onMouseEnter:()=>re(!0),onMouseMove:()=>re(!0),onMouseLeave:()=>{fe||re(!1)},onDragEnd:()=>re(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||ve(!0)},onPointerUp:()=>ve(!1)},F.filter(de=>!de.position&&Y===0||de.position===H).map((de,ke)=>{var ze,rt;return ue.createElement(d2,{key:de.id,icons:N,index:ke,toast:de,defaultRichColors:b,duration:(ze=C?.duration)!=null?ze:S,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:i,visibleToasts:j,closeButton:(rt=C?.closeButton)!=null?rt:p,interacting:fe,position:H,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,closeButtonAriaLabel:C?.closeButtonAriaLabel,removeToast:O,toasts:F.filter(pe=>pe.position==de.position),heights:V.filter(pe=>pe.position==de.position),setHeights:Z,expandByDefault:d,gap:E,expanded:Q,swipeDirections:e.swipeDirections})})):null}))}),p2=({...t})=>u.jsx(h2,{theme:"light",className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t}),op=w.createContext({});function ip(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const ap=typeof window<"u",lw=ap?w.useLayoutEffect:w.useEffect,Qc=w.createContext(null);function lp(t,e){t.indexOf(e)===-1&&t.push(e)}function cp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Or=(t,e,n)=>n>e?e:n<t?t:n;let up=()=>{};const Ir={},cw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function uw(t){return typeof t=="object"&&t!==null}const dw=t=>/^0[^.\s]+$/u.test(t);function dp(t){let e;return()=>(e===void 0&&(e=t()),e)}const zn=t=>t,m2=(t,e)=>n=>e(t(n)),La=(...t)=>t.reduce(m2),_a=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class fp{constructor(){this.subscriptions=[]}add(e){return lp(this.subscriptions,e),()=>cp(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mr=t=>t*1e3,Un=t=>t/1e3;function fw(t,e){return e?t*(1e3/e):0}const hw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,g2=1e-7,v2=12;function y2(t,e,n,s,i){let a,l,d=0;do l=e+(n-e)/2,a=hw(l,s,i)-t,a>0?n=l:e=l;while(Math.abs(a)>g2&&++d<v2);return l}function $a(t,e,n,s){if(t===e&&n===s)return zn;const i=a=>y2(a,0,1,t,n);return a=>a===0||a===1?a:hw(i(a),e,s)}const pw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,mw=t=>e=>1-t(1-e),gw=$a(.33,1.53,.69,.99),hp=mw(gw),vw=pw(hp),yw=t=>(t*=2)<1?.5*hp(t):.5*(2-Math.pow(2,-10*(t-1))),pp=t=>1-Math.sin(Math.acos(t)),xw=mw(pp),ww=pw(pp),x2=$a(.42,0,1,1),w2=$a(0,0,.58,1),bw=$a(.42,0,.58,1),b2=t=>Array.isArray(t)&&typeof t[0]!="number",Sw=t=>Array.isArray(t)&&typeof t[0]=="number",S2={linear:zn,easeIn:x2,easeInOut:bw,easeOut:w2,circIn:pp,circInOut:ww,circOut:xw,backIn:hp,backInOut:vw,backOut:gw,anticipate:yw},_2=t=>typeof t=="string",by=t=>{if(Sw(t)){up(t.length===4);const[e,n,s,i]=t;return $a(e,n,s,i)}else if(_2(t))return S2[t];return t},rc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function k2(t,e){let n=new Set,s=new Set,i=!1,a=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(m){l.has(m)&&(h.schedule(m),t()),m(d)}const h={schedule:(m,g=!1,x=!1)=>{const S=x&&i?n:s;return g&&l.add(m),S.has(m)||S.add(m),m},cancel:m=>{s.delete(m),l.delete(m)},process:m=>{if(d=m,i){a=!0;return}i=!0,[n,s]=[s,n],n.forEach(p),n.clear(),i=!1,a&&(a=!1,h.process(m))}};return h}const j2=40;function _w(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=rc.reduce((E,N)=>(E[N]=k2(a),E),{}),{setup:d,read:p,resolveKeyframes:h,preUpdate:m,update:g,preRender:x,render:b,postRender:S}=l,_=()=>{const E=Ir.useManualTiming?i.timestamp:performance.now();n=!1,Ir.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(E-i.timestamp,j2),1)),i.timestamp=E,i.isProcessing=!0,d.process(i),p.process(i),h.process(i),m.process(i),g.process(i),x.process(i),b.process(i),S.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(_))},j=()=>{n=!0,s=!0,i.isProcessing||t(_)};return{schedule:rc.reduce((E,N)=>{const P=l[N];return E[N]=(I,D=!1,F=!1)=>(n||j(),P.schedule(I,D,F)),E},{}),cancel:E=>{for(let N=0;N<rc.length;N++)l[rc[N]].cancel(E)},state:i,steps:l}}const{schedule:ut,cancel:ps,state:Kt,steps:hf}=_w(typeof requestAnimationFrame<"u"?requestAnimationFrame:zn,!0);let Cc;function C2(){Cc=void 0}const yn={now:()=>(Cc===void 0&&yn.set(Kt.isProcessing||Ir.useManualTiming?Kt.timestamp:performance.now()),Cc),set:t=>{Cc=t,queueMicrotask(C2)}},kw=t=>e=>typeof e=="string"&&e.startsWith(t),mp=kw("--"),E2=kw("var(--"),gp=t=>E2(t)?N2.test(t.split("/*")[0].trim()):!1,N2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ka={...hi,transform:t=>Or(0,1,t)},sc={...hi,default:1},ha=t=>Math.round(t*1e5)/1e5,vp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function T2(t){return t==null}const P2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yp=(t,e)=>n=>!!(typeof n=="string"&&P2.test(n)&&n.startsWith(t)||e&&!T2(n)&&Object.prototype.hasOwnProperty.call(n,e)),jw=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,a,l,d]=s.match(vp);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},A2=t=>Or(0,255,t),pf={...hi,transform:t=>Math.round(A2(t))},Hs={test:yp("rgb","red"),parse:jw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+pf.transform(t)+", "+pf.transform(e)+", "+pf.transform(n)+", "+ha(ka.transform(s))+")"};function R2(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const oh={test:yp("#"),parse:R2,transform:Hs.transform},Fa=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ds=Fa("deg"),gr=Fa("%"),Oe=Fa("px"),O2=Fa("vh"),I2=Fa("vw"),Sy={...gr,parse:t=>gr.parse(t)/100,transform:t=>gr.transform(t*100)},Ho={test:yp("hsl","hue"),parse:jw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+gr.transform(ha(e))+", "+gr.transform(ha(n))+", "+ha(ka.transform(s))+")"},Et={test:t=>Hs.test(t)||oh.test(t)||Ho.test(t),parse:t=>Hs.test(t)?Hs.parse(t):Ho.test(t)?Ho.parse(t):oh.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Hs.transform(t):Ho.transform(t),getAnimatableNone:t=>{const e=Et.parse(t);return e.alpha=0,Et.transform(e)}},M2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function D2(t){return isNaN(t)&&typeof t=="string"&&(t.match(vp)?.length||0)+(t.match(M2)?.length||0)>0}const Cw="number",Ew="color",L2="var",$2="var(",_y="${}",F2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ja(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const d=e.replace(F2,p=>(Et.test(p)?(s.color.push(a),i.push(Ew),n.push(Et.parse(p))):p.startsWith($2)?(s.var.push(a),i.push(L2),n.push(p)):(s.number.push(a),i.push(Cw),n.push(parseFloat(p))),++a,_y)).split(_y);return{values:n,split:d,indexes:s,types:i}}function Nw(t){return ja(t).values}function Tw(t){const{split:e,types:n}=ja(t),s=e.length;return i=>{let a="";for(let l=0;l<s;l++)if(a+=e[l],i[l]!==void 0){const d=n[l];d===Cw?a+=ha(i[l]):d===Ew?a+=Et.transform(i[l]):a+=i[l]}return a}}const V2=t=>typeof t=="number"?0:Et.test(t)?Et.getAnimatableNone(t):t;function B2(t){const e=Nw(t);return Tw(t)(e.map(V2))}const ms={test:D2,parse:Nw,createTransformer:Tw,getAnimatableNone:B2};function mf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function U2({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const d=n<.5?n*(1+e):n+e-n*e,p=2*n-d;i=mf(p,d,t+1/3),a=mf(p,d,t),l=mf(p,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:s}}function Oc(t,e){return n=>n>0?e:t}const pt=(t,e,n)=>t+(e-t)*n,gf=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},z2=[oh,Hs,Ho],W2=t=>z2.find(e=>e.test(t));function ky(t){const e=W2(t);if(!e)return!1;let n=e.parse(t);return e===Ho&&(n=U2(n)),n}const jy=(t,e)=>{const n=ky(t),s=ky(e);if(!n||!s)return Oc(t,e);const i={...n};return a=>(i.red=gf(n.red,s.red,a),i.green=gf(n.green,s.green,a),i.blue=gf(n.blue,s.blue,a),i.alpha=pt(n.alpha,s.alpha,a),Hs.transform(i))},ih=new Set(["none","hidden"]);function H2(t,e){return ih.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function K2(t,e){return n=>pt(t,e,n)}function xp(t){return typeof t=="number"?K2:typeof t=="string"?gp(t)?Oc:Et.test(t)?jy:Y2:Array.isArray(t)?Pw:typeof t=="object"?Et.test(t)?jy:G2:Oc}function Pw(t,e){const n=[...t],s=n.length,i=t.map((a,l)=>xp(a)(a,e[l]));return a=>{for(let l=0;l<s;l++)n[l]=i[l](a);return n}}function G2(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=xp(t[i])(t[i],e[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function q2(t,e){const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][s[a]],d=t.values[l]??0;n[i]=d,s[a]++}return n}const Y2=(t,e)=>{const n=ms.createTransformer(e),s=ja(t),i=ja(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?ih.has(t)&&!i.values.length||ih.has(e)&&!s.values.length?H2(t,e):La(Pw(q2(s,i),i.values),n):Oc(t,e)};function Aw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):xp(t)(t,e)}const J2=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ut.update(e,n),stop:()=>ps(e),now:()=>Kt.isProcessing?Kt.timestamp:yn.now()}},Rw=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)s+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Ic=2e4;function wp(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Ic;)e+=n,s=t.next(e);return e>=Ic?1/0:e}function X2(t,e=100,n){const s=n({...t,keyframes:[0,e]}),i=Math.min(wp(s),Ic);return{type:"keyframes",ease:a=>s.next(i*a).value/e,duration:Un(i)}}const Q2=5;function Ow(t,e,n){const s=Math.max(e-Q2,0);return fw(n-t(s),e-s)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vf=.001;function Z2({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:s=vt.mass}){let i,a,l=1-e;l=Or(vt.minDamping,vt.maxDamping,l),t=Or(vt.minDuration,vt.maxDuration,Un(t)),l<1?(i=h=>{const m=h*l,g=m*t,x=m-n,b=ah(h,l),S=Math.exp(-g);return vf-x/b*S},a=h=>{const g=h*l*t,x=g*n+n,b=Math.pow(l,2)*Math.pow(h,2)*t,S=Math.exp(-g),_=ah(Math.pow(h,2),l);return(-i(h)+vf>0?-1:1)*((x-b)*S)/_}):(i=h=>{const m=Math.exp(-h*t),g=(h-n)*t+1;return-vf+m*g},a=h=>{const m=Math.exp(-h*t),g=(n-h)*(t*t);return m*g});const d=5/t,p=tE(i,a,d);if(t=mr(t),isNaN(p))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const h=Math.pow(p,2)*s;return{stiffness:h,damping:l*2*Math.sqrt(s*h),duration:t}}}const eE=12;function tE(t,e,n){let s=n;for(let i=1;i<eE;i++)s=s-t(s)/e(s);return s}function ah(t,e){return t*Math.sqrt(1-e*e)}const nE=["duration","bounce"],rE=["stiffness","damping","mass"];function Cy(t,e){return e.some(n=>t[n]!==void 0)}function sE(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!Cy(t,rE)&&Cy(t,nE))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*Or(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:vt.mass,stiffness:i,damping:a}}else{const n=Z2(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function Mc(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:p,damping:h,mass:m,duration:g,velocity:x,isResolvedFromDuration:b}=sE({...n,velocity:-Un(n.velocity||0)}),S=x||0,_=h/(2*Math.sqrt(p*m)),j=l-a,C=Un(Math.sqrt(p/m)),T=Math.abs(j)<5;s||(s=T?vt.restSpeed.granular:vt.restSpeed.default),i||(i=T?vt.restDelta.granular:vt.restDelta.default);let E;if(_<1){const P=ah(C,_);E=I=>{const D=Math.exp(-_*C*I);return l-D*((S+_*C*j)/P*Math.sin(P*I)+j*Math.cos(P*I))}}else if(_===1)E=P=>l-Math.exp(-C*P)*(j+(S+C*j)*P);else{const P=C*Math.sqrt(_*_-1);E=I=>{const D=Math.exp(-_*C*I),F=Math.min(P*I,300);return l-D*((S+_*C*j)*Math.sinh(F)+P*j*Math.cosh(F))/P}}const N={calculatedDuration:b&&g||null,next:P=>{const I=E(P);if(b)d.done=P>=g;else{let D=P===0?S:0;_<1&&(D=P===0?mr(S):Ow(E,P,I));const F=Math.abs(D)<=s,B=Math.abs(l-I)<=i;d.done=F&&B}return d.value=d.done?l:I,d},toString:()=>{const P=Math.min(wp(N),Ic),I=Rw(D=>N.next(P*D).value,P,30);return P+"ms "+I},toTransition:()=>{}};return N}Mc.applyToOptions=t=>{const e=X2(t,100,Mc);return t.ease=e.ease,t.duration=mr(e.duration),t.type="keyframes",t};function lh({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:p,restDelta:h=.5,restSpeed:m}){const g=t[0],x={done:!1,value:g},b=F=>d!==void 0&&F<d||p!==void 0&&F>p,S=F=>d===void 0?p:p===void 0||Math.abs(d-F)<Math.abs(p-F)?d:p;let _=n*e;const j=g+_,C=l===void 0?j:l(j);C!==j&&(_=C-g);const T=F=>-_*Math.exp(-F/s),E=F=>C+T(F),N=F=>{const B=T(F),V=E(F);x.done=Math.abs(B)<=h,x.value=x.done?C:V};let P,I;const D=F=>{b(x.value)&&(P=F,I=Mc({keyframes:[x.value,S(x.value)],velocity:Ow(E,F,x.value),damping:i,stiffness:a,restDelta:h,restSpeed:m}))};return D(0),{calculatedDuration:null,next:F=>{let B=!1;return!I&&P===void 0&&(B=!0,N(F),D(F)),P!==void 0&&F>=P?I.next(F-P):(!B&&N(F),x)}}}function oE(t,e,n){const s=[],i=n||Ir.mix||Aw,a=t.length-1;for(let l=0;l<a;l++){let d=i(t[l],t[l+1]);if(e){const p=Array.isArray(e)?e[l]||zn:e;d=La(p,d)}s.push(d)}return s}function iE(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const a=t.length;if(up(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=oE(e,s,i),p=d.length,h=m=>{if(l&&m<t[0])return e[0];let g=0;if(p>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const x=_a(t[g],t[g+1],m);return d[g](x)};return n?m=>h(Or(t[0],t[a-1],m)):h}function aE(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=_a(0,e,s);t.push(pt(n,1,i))}}function lE(t){const e=[0];return aE(e,t.length-1),e}function cE(t,e){return t.map(n=>n*e)}function uE(t,e){return t.map(()=>e||bw).splice(0,t.length-1)}function pa({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=b2(s)?s.map(by):by(s),a={done:!1,value:e[0]},l=cE(n&&n.length===e.length?n:lE(e),t),d=iE(l,e,{ease:Array.isArray(i)?i:uE(e,i)});return{calculatedDuration:t,next:p=>(a.value=d(p),a.done=p>=t,a)}}const dE=t=>t!==null;function bp(t,{repeat:e,repeatType:n="loop"},s,i=1){const a=t.filter(dE),d=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!d||s===void 0?a[d]:s}const fE={decay:lh,inertia:lh,tween:pa,keyframes:pa,spring:Mc};function Iw(t){typeof t.type=="string"&&(t.type=fE[t.type])}class Sp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const hE=t=>t/100;class _p extends Sp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Iw(e);const{type:n=pa,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:d}=e;const p=n||pa;p!==pa&&typeof d[0]!="number"&&(this.mixKeyframes=La(hE,Aw(d[0],d[1])),d=[0,100]);const h=p({...e,keyframes:d});a==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...d].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=wp(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:m,repeat:g,repeatType:x,repeatDelay:b,type:S,onUpdate:_,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-h*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,N=s;if(g){const F=Math.min(this.currentTime,i)/d;let B=Math.floor(F),V=F%1;!V&&F>=1&&(V=1),V===1&&B--,B=Math.min(B,g+1),!!(B%2)&&(x==="reverse"?(V=1-V,b&&(V-=b/d)):x==="mirror"&&(N=l)),E=Or(0,1,V)*d}const P=T?{done:!1,value:m[0]}:N.next(E);a&&(P.value=a(P.value));let{done:I}=P;!T&&p!==null&&(I=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return D&&S!==lh&&(P.value=bp(m,this.options,j,this.speed)),_&&_(P.value),D&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return Un(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Un(e)}get time(){return Un(this.currentTime)}set time(e){e=mr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(yn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Un(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=J2,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function pE(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ks=t=>t*180/Math.PI,ch=t=>{const e=Ks(Math.atan2(t[1],t[0]));return uh(e)},mE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ch,rotateZ:ch,skewX:t=>Ks(Math.atan(t[1])),skewY:t=>Ks(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},uh=t=>(t=t%360,t<0&&(t+=360),t),Ey=ch,Ny=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ty=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),gE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ny,scaleY:Ty,scale:t=>(Ny(t)+Ty(t))/2,rotateX:t=>uh(Ks(Math.atan2(t[6],t[5]))),rotateY:t=>uh(Ks(Math.atan2(-t[2],t[0]))),rotateZ:Ey,rotate:Ey,skewX:t=>Ks(Math.atan(t[4])),skewY:t=>Ks(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function dh(t){return t.includes("scale")?1:0}function fh(t,e){if(!t||t==="none")return dh(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=gE,i=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=mE,i=d}if(!i)return dh(e);const a=s[e],l=i[1].split(",").map(yE);return typeof a=="function"?a(l):l[a]}const vE=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return fh(n,e)};function yE(t){return parseFloat(t.trim())}const pi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mi=new Set(pi),Py=t=>t===hi||t===Oe,xE=new Set(["x","y","z"]),wE=pi.filter(t=>!xE.has(t));function bE(t){const e=[];return wE.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Js={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>fh(e,"x"),y:(t,{transform:e})=>fh(e,"y")};Js.translateX=Js.x;Js.translateY=Js.y;const Xs=new Set;let hh=!1,ph=!1,mh=!1;function Mw(){if(ph){const t=Array.from(Xs).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=bE(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,l])=>{s.getValue(a)?.set(l)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ph=!1,hh=!1,Xs.forEach(t=>t.complete(mh)),Xs.clear()}function Dw(){Xs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ph=!0)})}function SE(){mh=!0,Dw(),Mw(),mh=!1}class kp{constructor(e,n,s,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Xs.add(this),hh||(hh=!0,ut.read(Dw),ut.resolveKeyframes(Mw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;if(e[0]===null){const a=i?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const d=s.readValue(n,l);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}pE(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xs.delete(this)}cancel(){this.state==="scheduled"&&(Xs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _E=t=>t.startsWith("--");function kE(t,e,n){_E(e)?t.style.setProperty(e,n):t.style[e]=n}const jE=dp(()=>window.ScrollTimeline!==void 0),CE={};function EE(t,e){const n=dp(t);return()=>CE[e]??n()}const Lw=EE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ca=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Ay={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ca([0,.65,.55,1]),circOut:ca([.55,0,1,.45]),backIn:ca([.31,.01,.66,-.59]),backOut:ca([.33,1.53,.69,.99])};function $w(t,e){if(t)return typeof t=="function"?Lw()?Rw(t,e):"ease-out":Sw(t)?ca(t):Array.isArray(t)?t.map(n=>$w(n,e)||Ay.easeOut):Ay[t]}function NE(t,e,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:d="easeOut",times:p}={},h=void 0){const m={[e]:n};p&&(m.offset=p);const g=$w(d,i);Array.isArray(g)&&(m.easing=g);const x={delay:s,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return h&&(x.pseudoElement=h),t.animate(m,x)}function Fw(t){return typeof t=="function"&&"applyToOptions"in t}function TE({type:t,...e}){return Fw(t)&&Lw()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class PE extends Sp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:d,onComplete:p}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,up(typeof e.type!="string");const h=TE(e);this.animation=NE(n,s,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=bp(i,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(m):kE(n,s,m),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Un(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Un(e)}get time(){return Un(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&jE()?(this.animation.timeline=e,zn):n(this)}}const Vw={anticipate:yw,backInOut:vw,circInOut:ww};function AE(t){return t in Vw}function RE(t){typeof t.ease=="string"&&AE(t.ease)&&(t.ease=Vw[t.ease])}const Ry=10;class OE extends PE{constructor(e){RE(e),Iw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new _p({...l,autoplay:!1}),p=mr(this.finishedTime??this.time);n.setWithVelocity(d.sample(p-Ry).value,d.sample(p).value,Ry),d.stop()}}const Oy=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ms.test(t)||t==="0")&&!t.startsWith("url("));function IE(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ME(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Oy(i,e),d=Oy(a,e);return!l||!d?!1:IE(t)||(n==="spring"||Fw(n))&&s}function gh(t){t.duration=0,t.type="keyframes"}const DE=new Set(["opacity","clipPath","filter","transform"]),LE=dp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $E(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:i,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:h}=e.owner.getProps();return LE()&&n&&DE.has(n)&&(n!=="transform"||!h)&&!p&&!s&&i!=="mirror"&&a!==0&&l!=="inertia"}const FE=40;class VE extends Sp{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:d,name:p,motionValue:h,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=yn.now();const x={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:l,name:p,motionValue:h,element:m,...g},b=m?.KeyframeResolver||kp;this.keyframeResolver=new b(d,(S,_,j)=>this.onKeyframesResolved(S,_,x,!j),p,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:d,delay:p,isHandoff:h,onUpdate:m}=s;this.resolvedAt=yn.now(),ME(e,a,l,d)||((Ir.instantAnimations||!p)&&m?.(bp(e,s,n)),e[0]=e[e.length-1],gh(s),s.repeat=0);const x={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>FE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},b=!h&&$E(x)?new OE({...x,element:x.motionValue.owner.current}):new _p(x);b.finished.then(()=>this.notifyFinished()).catch(zn),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),SE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const BE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UE(t){const e=BE.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function Bw(t,e,n=1){const[s,i]=UE(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const l=a.trim();return cw(l)?parseFloat(l):l}return gp(i)?Bw(i,e,n+1):i}function jp(t,e){return t?.[e]??t?.default??t}const Uw=new Set(["width","height","top","left","right","bottom",...pi]),zE={test:t=>t==="auto",parse:t=>t},zw=t=>e=>e.test(t),Ww=[hi,Oe,gr,ds,I2,O2,zE],Iy=t=>Ww.find(zw(t));function WE(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dw(t):!0}const HE=new Set(["brightness","contrast","saturate","opacity"]);function KE(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(vp)||[];if(!s)return t;const i=n.replace(s,"");let a=HE.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+i+")"}const GE=/\b([a-z-]*)\(.*?\)/gu,vh={...ms,getAnimatableNone:t=>{const e=t.match(GE);return e?e.map(KE).join(" "):t}},My={...hi,transform:Math.round},qE={rotate:ds,rotateX:ds,rotateY:ds,rotateZ:ds,scale:sc,scaleX:sc,scaleY:sc,scaleZ:sc,skew:ds,skewX:ds,skewY:ds,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:ka,originX:Sy,originY:Sy,originZ:Oe},Cp={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...qE,zIndex:My,fillOpacity:ka,strokeOpacity:ka,numOctaves:My},YE={...Cp,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:vh,WebkitFilter:vh},Hw=t=>YE[t];function Kw(t,e){let n=Hw(t);return n!==vh&&(n=ms),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const JE=new Set(["auto","none","0"]);function XE(t,e,n){let s=0,i;for(;s<t.length&&!i;){const a=t[s];typeof a=="string"&&!JE.has(a)&&ja(a).values.length&&(i=t[s]),s++}if(i&&n)for(const a of e)t[a]=Kw(n,i)}class QE extends kp{constructor(e,n,s,i,a){super(e,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let h=e[p];if(typeof h=="string"&&(h=h.trim(),gp(h))){const m=Bw(h,n.current);m!==void 0&&(e[p]=m),p===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!Uw.has(s)||e.length!==2)return;const[i,a]=e,l=Iy(i),d=Iy(a);if(l!==d)if(Py(l)&&Py(d))for(let p=0;p<e.length;p++){const h=e[p];typeof h=="string"&&(e[p]=parseFloat(h))}else Js[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)(e[i]===null||WE(e[i]))&&s.push(i);s.length&&XE(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Js[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,l=s[a];s[a]=Js[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function ZE(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const i=n?.[t]??s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Gw=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function qw(t){return uw(t)&&"offsetHeight"in t}const Dy=30,eN=t=>!isNaN(parseFloat(t));class tN{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const i=yn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=eN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fp);const s=this.events[e].add(n);return e==="change"?()=>{s(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Dy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Dy);return fw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ni(t,e){return new tN(t,e)}const{schedule:Ep}=_w(queueMicrotask,!1),tr={x:!1,y:!1};function Yw(){return tr.x||tr.y}function nN(t){return t==="x"||t==="y"?tr[t]?null:(tr[t]=!0,()=>{tr[t]=!1}):tr.x||tr.y?null:(tr.x=tr.y=!0,()=>{tr.x=tr.y=!1})}function Jw(t,e){const n=ZE(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function Ly(t){return!(t.pointerType==="touch"||Yw())}function rN(t,e,n={}){const[s,i,a]=Jw(t,n),l=d=>{if(!Ly(d))return;const{target:p}=d,h=e(p,d);if(typeof h!="function"||!p)return;const m=g=>{Ly(g)&&(h(g),p.removeEventListener("pointerleave",m))};p.addEventListener("pointerleave",m,i)};return s.forEach(d=>{d.addEventListener("pointerenter",l,i)}),a}const Xw=(t,e)=>e?t===e?!0:Xw(t,e.parentElement):!1,Np=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,sN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oN(t){return sN.has(t.tagName)||t.tabIndex!==-1}const Ec=new WeakSet;function $y(t){return e=>{e.key==="Enter"&&t(e)}}function yf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const iN=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=$y(()=>{if(Ec.has(n))return;yf(n,"down");const i=$y(()=>{yf(n,"up")}),a=()=>yf(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Fy(t){return Np(t)&&!Yw()}function aN(t,e,n={}){const[s,i,a]=Jw(t,n),l=d=>{const p=d.currentTarget;if(!Fy(d))return;Ec.add(p);const h=e(p,d),m=(b,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),Ec.has(p)&&Ec.delete(p),Fy(b)&&typeof h=="function"&&h(b,{success:S})},g=b=>{m(b,p===window||p===document||n.useGlobalTarget||Xw(p,b.target))},x=b=>{m(b,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",x,i)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",l,i),qw(d)&&(d.addEventListener("focus",h=>iN(h,i)),!oN(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function Qw(t){return uw(t)&&"ownerSVGElement"in t}function lN(t){return Qw(t)&&t.tagName==="svg"}const nn=t=>!!(t&&t.getVelocity),cN=[...Ww,Et,ms],uN=t=>cN.find(zw(t)),Tp=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Vy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function dN(...t){return e=>{let n=!1;const s=t.map(i=>{const a=Vy(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():Vy(t[i],null)}}}}function fN(...t){return w.useCallback(dN(...t),t)}class hN extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=qw(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function pN({children:t,isPresent:e,anchorX:n,root:s}){const i=w.useId(),a=w.useRef(null),l=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=w.useContext(Tp),p=fN(a,t?.ref);return w.useInsertionEffect(()=>{const{width:h,height:m,top:g,left:x,right:b}=l.current;if(e||!a.current||!h||!m)return;const S=n==="left"?`left: ${x}`:`right: ${b}`;a.current.dataset.motionPopId=i;const _=document.createElement("style");d&&(_.nonce=d);const j=s??document.head;return j.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${S}px !important;
            top: ${g}px !important;
          }
        `),()=>{j.contains(_)&&j.removeChild(_)}},[e]),u.jsx(hN,{isPresent:e,childRef:a,sizeRef:l,children:w.cloneElement(t,{ref:p})})}const mN=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:l,anchorX:d,root:p})=>{const h=ip(gN),m=w.useId();let g=!0,x=w.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:b=>{h.set(b,!0);for(const S of h.values())if(!S)return;s&&s()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[n,h,s]);return a&&g&&(x={...x}),w.useMemo(()=>{h.forEach((b,S)=>h.set(S,!1))},[n]),w.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),l==="popLayout"&&(t=u.jsx(pN,{isPresent:n,anchorX:d,root:p,children:t})),u.jsx(Qc.Provider,{value:x,children:t})};function gN(){return new Map}function Zw(t=!0){const e=w.useContext(Qc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,a=w.useId();w.useEffect(()=>{if(t)return i(a)},[t]);const l=w.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,l]:[!0]}const oc=t=>t.key||"";function By(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const ma=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:d="left",root:p})=>{const[h,m]=Zw(l),g=w.useMemo(()=>By(t),[t]),x=l&&!h?[]:g.map(oc),b=w.useRef(!0),S=w.useRef(g),_=ip(()=>new Map),[j,C]=w.useState(g),[T,E]=w.useState(g);lw(()=>{b.current=!1,S.current=g;for(let I=0;I<T.length;I++){const D=oc(T[I]);x.includes(D)?_.delete(D):_.get(D)!==!0&&_.set(D,!1)}},[T,x.length,x.join("-")]);const N=[];if(g!==j){let I=[...g];for(let D=0;D<T.length;D++){const F=T[D],B=oc(F);x.includes(B)||(I.splice(D,0,F),N.push(F))}return a==="wait"&&N.length&&(I=N),E(By(I)),C(g),null}const{forceRender:P}=w.useContext(op);return u.jsx(u.Fragment,{children:T.map(I=>{const D=oc(I),F=l&&!h?!1:g===T||x.includes(D),B=()=>{if(_.has(D))_.set(D,!0);else return;let V=!0;_.forEach(Z=>{Z||(V=!1)}),V&&(P?.(),E(S.current),l&&m?.(),s&&s())};return u.jsx(mN,{isPresent:F,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:p,onExitComplete:F?void 0:B,anchorX:d,children:I},D)})})},eb=w.createContext({strict:!1}),Uy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ri={};for(const t in Uy)ri[t]={isEnabled:e=>Uy[t].some(n=>!!e[n])};function vN(t){for(const e in t)ri[e]={...ri[e],...t[e]}}const yN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||yN.has(t)}let tb=t=>!Dc(t);function xN(t){typeof t=="function"&&(tb=e=>e.startsWith("on")?!Dc(e):t(e))}try{xN(require("@emotion/is-prop-valid").default)}catch{}function wN(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(tb(i)||n===!0&&Dc(i)||!e&&!Dc(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}const Zc=w.createContext({});function eu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ca(t){return typeof t=="string"||Array.isArray(t)}const Pp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ap=["initial",...Pp];function tu(t){return eu(t.animate)||Ap.some(e=>Ca(t[e]))}function nb(t){return!!(tu(t)||t.variants)}function bN(t,e){if(tu(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Ca(n)?n:void 0,animate:Ca(s)?s:void 0}}return t.inherit!==!1?e:{}}function SN(t){const{initial:e,animate:n}=bN(t,w.useContext(Zc));return w.useMemo(()=>({initial:e,animate:n}),[zy(e),zy(n)])}function zy(t){return Array.isArray(t)?t.join(" "):t}const Ea={};function _N(t){for(const e in t)Ea[e]=t[e],mp(e)&&(Ea[e].isCSSVariable=!0)}function rb(t,{layout:e,layoutId:n}){return mi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ea[t]||t==="opacity")}const kN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jN=pi.length;function CN(t,e,n){let s="",i=!0;for(let a=0;a<jN;a++){const l=pi[a],d=t[l];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(l.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||n){const h=Gw(d,Cp[l]);if(!p){i=!1;const m=kN[l]||l;s+=`${m}(${h}) `}n&&(e[l]=h)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function Rp(t,e,n){const{style:s,vars:i,transformOrigin:a}=t;let l=!1,d=!1;for(const p in e){const h=e[p];if(mi.has(p)){l=!0;continue}else if(mp(p)){i[p]=h;continue}else{const m=Gw(h,Cp[p]);p.startsWith("origin")?(d=!0,a[p]=m):s[p]=m}}if(e.transform||(l||n?s.transform=CN(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:h="50%",originZ:m=0}=a;s.transformOrigin=`${p} ${h} ${m}`}}const Op=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sb(t,e,n){for(const s in e)!nn(e[s])&&!rb(s,n)&&(t[s]=e[s])}function EN({transformTemplate:t},e){return w.useMemo(()=>{const n=Op();return Rp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function NN(t,e){const n=t.style||{},s={};return sb(s,n,t),Object.assign(s,EN(t,e)),s}function TN(t,e){const n={},s=NN(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const PN={offset:"stroke-dashoffset",array:"stroke-dasharray"},AN={offset:"strokeDashoffset",array:"strokeDasharray"};function RN(t,e,n=1,s=0,i=!0){t.pathLength=1;const a=i?PN:AN;t[a.offset]=Oe.transform(-s);const l=Oe.transform(e),d=Oe.transform(n);t[a.array]=`${l} ${d}`}function ob(t,{attrX:e,attrY:n,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...d},p,h,m){if(Rp(t,d,h),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:x}=t;g.transform&&(x.transform=g.transform,delete g.transform),(x.transform||g.transformOrigin)&&(x.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),x.transform&&(x.transformBox=m?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),s!==void 0&&(g.scale=s),i!==void 0&&RN(g,i,a,l,!1)}const ib=()=>({...Op(),attrs:{}}),ab=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ON(t,e,n,s){const i=w.useMemo(()=>{const a=ib();return ob(a,e,ab(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};sb(a,t.style,t),i.style={...a,...i.style}}return i}const IN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ip(t){return typeof t!="string"||t.includes("-")?!1:!!(IN.indexOf(t)>-1||/[A-Z]/u.test(t))}function MN(t,e,n,{latestValues:s},i,a=!1){const d=(Ip(t)?ON:TN)(e,s,i,t),p=wN(e,typeof t=="string",a),h=t!==w.Fragment?{...p,...d,ref:n}:{},{children:m}=e,g=w.useMemo(()=>nn(m)?m.get():m,[m]);return w.createElement(t,{...h,children:g})}function Wy(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Mp(t,e,n,s){if(typeof e=="function"){const[i,a]=Wy(s);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=Wy(s);e=e(n!==void 0?n:t.custom,i,a)}return e}function Nc(t){return nn(t)?t.get():t}function DN({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,i){return{latestValues:LN(n,s,i,t),renderState:e()}}function LN(t,e,n,s){const i={},a=s(t,{});for(const x in a)i[x]=Nc(a[x]);let{initial:l,animate:d}=t;const p=tu(t),h=nb(t);e&&h&&!p&&t.inherit!==!1&&(l===void 0&&(l=e.initial),d===void 0&&(d=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const g=m?d:l;if(g&&typeof g!="boolean"&&!eu(g)){const x=Array.isArray(g)?g:[g];for(let b=0;b<x.length;b++){const S=Mp(t,x[b]);if(S){const{transitionEnd:_,transition:j,...C}=S;for(const T in C){let E=C[T];if(Array.isArray(E)){const N=m?E.length-1:0;E=E[N]}E!==null&&(i[T]=E)}for(const T in _)i[T]=_[T]}}}return i}const lb=t=>(e,n)=>{const s=w.useContext(Zc),i=w.useContext(Qc),a=()=>DN(t,e,s,i);return n?a():ip(a)};function Dp(t,e,n){const{style:s}=t,i={};for(const a in s)(nn(s[a])||e.style&&nn(e.style[a])||rb(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=s[a]);return i}const $N=lb({scrapeMotionValuesFromProps:Dp,createRenderState:Op});function cb(t,e,n){const s=Dp(t,e,n);for(const i in t)if(nn(t[i])||nn(e[i])){const a=pi.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=t[i]}return s}const FN=lb({scrapeMotionValuesFromProps:cb,createRenderState:ib}),VN=Symbol.for("motionComponentSymbol");function Ko(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function BN(t,e,n){return w.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ko(n)&&(n.current=s))},[e])}const Lp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UN="framerAppearId",ub="data-"+Lp(UN),db=w.createContext({});function zN(t,e,n,s,i){const{visualElement:a}=w.useContext(Zc),l=w.useContext(eb),d=w.useContext(Qc),p=w.useContext(Tp).reducedMotion,h=w.useRef(null);s=s||l.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const m=h.current,g=w.useContext(db);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&WN(h.current,n,i,g);const x=w.useRef(!1);w.useInsertionEffect(()=>{m&&x.current&&m.update(n,d)});const b=n[ub],S=w.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return lw(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),S.current&&m.animationState&&m.animationState.animateChanges())}),w.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),S.current=!1),m.enteringChildren=void 0)}),m}function WN(t,e,n,s){const{layoutId:i,layout:a,drag:l,dragConstraints:d,layoutScroll:p,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:fb(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||d&&Ko(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:p,layoutRoot:h})}function fb(t){if(t)return t.options.allowProjection!==!1?t.projection:fb(t.parent)}function xf(t,{forwardMotionProps:e=!1}={},n,s){n&&vN(n);const i=Ip(t)?FN:$N;function a(d,p){let h;const m={...w.useContext(Tp),...d,layoutId:HN(d)},{isStatic:g}=m,x=SN(d),b=i(d,g);if(!g&&ap){KN();const S=GN(m);h=S.MeasureLayout,x.visualElement=zN(t,b,m,s,S.ProjectionNode)}return u.jsxs(Zc.Provider,{value:x,children:[h&&x.visualElement?u.jsx(h,{visualElement:x.visualElement,...m}):null,MN(t,d,BN(b,x.visualElement,p),b,g,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=w.forwardRef(a);return l[VN]=t,l}function HN({layoutId:t}){const e=w.useContext(op).id;return e&&t!==void 0?e+"-"+t:t}function KN(t,e){w.useContext(eb).strict}function GN(t){const{drag:e,layout:n}=ri;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function qN(t,e){if(typeof Proxy>"u")return xf;const n=new Map,s=(a,l)=>xf(a,l,t,e),i=(a,l)=>s(a,l);return new Proxy(i,{get:(a,l)=>l==="create"?s:(n.has(l)||n.set(l,xf(l,void 0,t,e)),n.get(l))})}function hb({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function YN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function JN(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function wf(t){return t===void 0||t===1}function yh({scale:t,scaleX:e,scaleY:n}){return!wf(t)||!wf(e)||!wf(n)}function Bs(t){return yh(t)||pb(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function pb(t){return Hy(t.x)||Hy(t.y)}function Hy(t){return t&&t!=="0%"}function Lc(t,e,n){const s=t-n,i=e*s;return n+i}function Ky(t,e,n,s,i){return i!==void 0&&(t=Lc(t,i,s)),Lc(t,n,s)+e}function xh(t,e=0,n=1,s,i){t.min=Ky(t.min,e,n,s,i),t.max=Ky(t.max,e,n,s,i)}function mb(t,{x:e,y:n}){xh(t.x,e.translate,e.scale,e.originPoint),xh(t.y,n.translate,n.scale,n.originPoint)}const Gy=.999999999999,qy=1.0000000000001;function XN(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let d=0;d<i;d++){a=n[d],l=a.projectionDelta;const{visualElement:p}=a.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&qo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,mb(t,l)),s&&Bs(a.latestValues)&&qo(t,a.latestValues))}e.x<qy&&e.x>Gy&&(e.x=1),e.y<qy&&e.y>Gy&&(e.y=1)}function Go(t,e){t.min=t.min+e,t.max=t.max+e}function Yy(t,e,n,s,i=.5){const a=pt(t.min,t.max,i);xh(t,e,n,a,s)}function qo(t,e){Yy(t.x,e.x,e.scaleX,e.scale,e.originX),Yy(t.y,e.y,e.scaleY,e.scale,e.originY)}function gb(t,e){return hb(JN(t.getBoundingClientRect(),e))}function QN(t,e,n){const s=gb(t,n),{scroll:i}=e;return i&&(Go(s.x,i.offset.x),Go(s.y,i.offset.y)),s}const Jy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yo=()=>({x:Jy(),y:Jy()}),Xy=()=>({min:0,max:0}),_t=()=>({x:Xy(),y:Xy()}),wh={current:null},vb={current:!1};function ZN(){if(vb.current=!0,!!ap)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>wh.current=t.matches;t.addEventListener("change",e),e()}else wh.current=!1}const eT=new WeakMap;function tT(t,e,n){for(const s in e){const i=e[s],a=n[s];if(nn(i))t.addValue(s,i);else if(nn(a))t.addValue(s,ni(i,{owner:t}));else if(a!==i)if(t.hasValue(s)){const l=t.getValue(s);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(s);t.addValue(s,ni(l!==void 0?l:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Qy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nT{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=yn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ut.render(this.render,!1,!0))};const{latestValues:p,renderState:h}=l;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=tu(n),this.isVariantNode=nb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in g){const b=g[x];p[x]!==void 0&&nn(b)&&b.set(p[x])}}mount(e){this.current=e,eT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),vb.current||ZN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wh.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ps(this.notifyUpdate),ps(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=mi.has(e);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ut.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ri){const n=ri[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Qy.length;s++){const i=Qy[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=tT(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ni(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(cw(s)||dw(s))?s=parseFloat(s):!uN(s)&&ms.test(n)&&(s=Kw(e,n)),this.setBaseTarget(e,nn(s)?s.get():s)),nn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=Mp(this.props,n,this.presenceContext?.custom);a&&(s=a[e])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!nn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Ep.render(this.render)}}class yb extends nT{constructor(){super(...arguments),this.KeyframeResolver=QE}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;nn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xb(t,{style:e,vars:n},s,i){const a=t.style;let l;for(l in e)a[l]=e[l];i?.applyProjectionStyles(a,s);for(l in n)a.setProperty(l,n[l])}function rT(t){return window.getComputedStyle(t)}class sT extends yb{constructor(){super(...arguments),this.type="html",this.renderInstance=xb}readValueFromInstance(e,n){if(mi.has(n))return this.projection?.isProjecting?dh(n):vE(e,n);{const s=rT(e),i=(mp(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gb(e,n)}build(e,n,s){Rp(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Dp(e,n,s)}}const wb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oT(t,e,n,s){xb(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(wb.has(i)?i:Lp(i),e.attrs[i])}class iT extends yb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_t}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(mi.has(n)){const s=Hw(n);return s&&s.default||0}return n=wb.has(n)?n:Lp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return cb(e,n,s)}build(e,n,s){ob(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,i){oT(e,n,s,i)}mount(e){this.isSVGTag=ab(e.tagName),super.mount(e)}}const aT=(t,e)=>Ip(t)?new iT(e):new sT(e,{allowProjection:t!==w.Fragment});function Xo(t,e,n){const s=t.getProps();return Mp(s,e,n!==void 0?n:s.custom,t)}const bh=t=>Array.isArray(t);function lT(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ni(n))}function cT(t){return bh(t)?t[t.length-1]||0:t}function uT(t,e){const n=Xo(t,e);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const l in a){const d=cT(a[l]);lT(t,l,d)}}function dT(t){return!!(nn(t)&&t.add)}function Sh(t,e){const n=t.getValue("willChange");if(dT(n))return n.add(e);if(!n&&Ir.WillChange){const s=new Ir.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function bb(t){return t.props[ub]}const fT=t=>t!==null;function hT(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(fT),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const pT={type:"spring",stiffness:500,damping:25,restSpeed:10},mT=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gT={type:"keyframes",duration:.8},vT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yT=(t,{keyframes:e})=>e.length>2?gT:mi.has(t)?t.startsWith("scale")?mT(e[1]):pT:vT;function xT({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:d,from:p,elapsed:h,...m}){return!!Object.keys(m).length}const $p=(t,e,n,s={},i,a)=>l=>{const d=jp(s,t)||{},p=d.delay||s.delay||0;let{elapsed:h=0}=s;h=h-mr(p);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-h,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:i};xT(d)||Object.assign(m,yT(t,m)),m.duration&&(m.duration=mr(m.duration)),m.repeatDelay&&(m.repeatDelay=mr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(gh(m),m.delay===0&&(g=!0)),(Ir.instantAnimations||Ir.skipAnimations)&&(g=!0,gh(m),m.delay=0),m.allowFlatten=!d.type&&!d.ease,g&&!a&&e.get()!==void 0){const x=hT(m.keyframes,d);if(x!==void 0){ut.update(()=>{m.onUpdate(x),m.onComplete()});return}}return d.isSync?new _p(m):new VE(m)};function wT({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function Sb(t,e,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...d}=e;s&&(a=s);const p=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const m in d){const g=t.getValue(m,t.latestValues[m]??null),x=d[m];if(x===void 0||h&&wT(h,m))continue;const b={delay:n,...jp(a||{},m)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===S&&!b.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const C=bb(t);if(C){const T=window.MotionHandoffAnimation(C,m,ut);T!==null&&(b.startTime=T,_=!0)}}Sh(t,m),g.start($p(m,g,x,t.shouldReduceMotion&&Uw.has(m)?{type:!1}:b,t,_));const j=g.animation;j&&p.push(j)}return l&&Promise.all(p).then(()=>{ut.update(()=>{l&&uT(t,l)})}),p}function _b(t,e,n,s=0,i=1){const a=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),l=t.size,d=(l-1)*s;return typeof n=="function"?n(a,l):i===1?a*s:d-a*s}function _h(t,e,n={}){const s=Xo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(Sb(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:g}=i;return bT(t,e,p,h,m,g,n)}:()=>Promise.resolve(),{when:d}=i;if(d){const[p,h]=d==="beforeChildren"?[a,l]:[l,a];return p().then(()=>h())}else return Promise.all([a(),l(n.delay)])}function bT(t,e,n=0,s=0,i=0,a=1,l){const d=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),d.push(_h(p,e,{...l,delay:n+(typeof s=="function"?0:s)+_b(t.variantChildren,p,s,i,a)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(d)}function ST(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(a=>_h(t,a,n));s=Promise.all(i)}else if(typeof e=="string")s=_h(t,e,n);else{const i=typeof e=="function"?Xo(t,e,n.custom):e;s=Promise.all(Sb(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function kb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const _T=Ap.length;function jb(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?jb(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<_T;n++){const s=Ap[n],i=t.props[s];(Ca(i)||i===!1)&&(e[s]=i)}return e}const kT=[...Pp].reverse(),jT=Pp.length;function CT(t){return e=>Promise.all(e.map(({animation:n,options:s})=>ST(t,n,s)))}function ET(t){let e=CT(t),n=Zy(),s=!0;const i=p=>(h,m)=>{const g=Xo(t,m,p==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:x,transitionEnd:b,...S}=g;h={...h,...S,...b}}return h};function a(p){e=p(t)}function l(p){const{props:h}=t,m=jb(t.parent)||{},g=[],x=new Set;let b={},S=1/0;for(let j=0;j<jT;j++){const C=kT[j],T=n[C],E=h[C]!==void 0?h[C]:m[C],N=Ca(E),P=C===p?T.isActive:null;P===!1&&(S=j);let I=E===m[C]&&E!==h[C]&&N;if(I&&s&&t.manuallyAnimateOnMount&&(I=!1),T.protectedKeys={...b},!T.isActive&&P===null||!E&&!T.prevProp||eu(E)||typeof E=="boolean")continue;const D=NT(T.prevProp,E);let F=D||C===p&&T.isActive&&!I&&N||j>S&&N,B=!1;const V=Array.isArray(E)?E:[E];let Z=V.reduce(i(C),{});P===!1&&(Z={});const{prevResolvedValues:Q={}}=T,re={...Q,...Z},fe=X=>{F=!0,x.has(X)&&(B=!0,x.delete(X)),T.needsAnimating[X]=!0;const R=t.getValue(X);R&&(R.liveStyle=!1)};for(const X in re){const R=Z[X],W=Q[X];if(b.hasOwnProperty(X))continue;let J=!1;bh(R)&&bh(W)?J=!kb(R,W):J=R!==W,J?R!=null?fe(X):x.add(X):R!==void 0&&x.has(X)?fe(X):T.protectedKeys[X]=!0}T.prevProp=E,T.prevResolvedValues=Z,T.isActive&&(b={...b,...Z}),s&&t.blockInitialAnimation&&(F=!1);const ve=I&&D;F&&(!ve||B)&&g.push(...V.map(X=>{const R={type:C};if(typeof X=="string"&&s&&!ve&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,J=Xo(W,X);if(W.enteringChildren&&J){const{delayChildren:L}=J.transition||{};R.delay=_b(W.enteringChildren,t,L)}}return{animation:X,options:R}}))}if(x.size){const j={};if(typeof h.initial!="boolean"){const C=Xo(t,Array.isArray(h.initial)?h.initial[0]:h.initial);C&&C.transition&&(j.transition=C.transition)}x.forEach(C=>{const T=t.getBaseTarget(C),E=t.getValue(C);E&&(E.liveStyle=!0),j[C]=T??null}),g.push({animation:j})}let _=!!g.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(_=!1),s=!1,_?e(g):Promise.resolve()}function d(p,h){if(n[p].isActive===h)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(p,h)),n[p].isActive=h;const m=l(p);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Zy()}}}function NT(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!kb(e,t):!1}function Ls(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zy(){return{animate:Ls(!0),whileInView:Ls(),whileHover:Ls(),whileTap:Ls(),whileDrag:Ls(),whileFocus:Ls(),exit:Ls()}}class ws{constructor(e){this.isMounted=!1,this.node=e}update(){}}class TT extends ws{constructor(e){super(e),e.animationState||(e.animationState=ET(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();eu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let PT=0;class AT extends ws{constructor(){super(...arguments),this.id=PT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const RT={animation:{Feature:TT},exit:{Feature:AT}};function Na(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Va(t){return{point:{x:t.pageX,y:t.pageY}}}const OT=t=>e=>Np(e)&&t(e,Va(e));function ga(t,e,n,s){return Na(t,e,OT(n),s)}const Cb=1e-4,IT=1-Cb,MT=1+Cb,Eb=.01,DT=0-Eb,LT=0+Eb;function an(t){return t.max-t.min}function $T(t,e,n){return Math.abs(t-e)<=n}function e0(t,e,n,s=.5){t.origin=s,t.originPoint=pt(e.min,e.max,t.origin),t.scale=an(n)/an(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=IT&&t.scale<=MT||isNaN(t.scale))&&(t.scale=1),(t.translate>=DT&&t.translate<=LT||isNaN(t.translate))&&(t.translate=0)}function va(t,e,n,s){e0(t.x,e.x,n.x,s?s.originX:void 0),e0(t.y,e.y,n.y,s?s.originY:void 0)}function t0(t,e,n){t.min=n.min+e.min,t.max=t.min+an(e)}function FT(t,e,n){t0(t.x,e.x,n.x),t0(t.y,e.y,n.y)}function n0(t,e,n){t.min=e.min-n.min,t.max=t.min+an(e)}function ya(t,e,n){n0(t.x,e.x,n.x),n0(t.y,e.y,n.y)}function Vn(t){return[t("x"),t("y")]}const Nb=({current:t})=>t?t.ownerDocument.defaultView:null,r0=(t,e)=>Math.abs(t-e);function VT(t,e){const n=r0(t.x,e.x),s=r0(t.y,e.y);return Math.sqrt(n**2+s**2)}class Tb{constructor(e,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Sf(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=VT(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!S)return;const{point:_}=x,{timestamp:j}=Kt;this.history.push({..._,timestamp:j});const{onStart:C,onMove:T}=this.handlers;b||(C&&C(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=bf(b,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:S,onSessionEnd:_,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Sf(x.type==="pointercancel"?this.lastMoveEventInfo:bf(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(x,C),_&&_(x,C)},!Np(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=l,this.contextWindow=i||window;const d=Va(e),p=bf(d,this.transformPagePoint),{point:h}=p,{timestamp:m}=Kt;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Sf(p,this.history)),this.removeListeners=La(ga(this.contextWindow,"pointermove",this.handlePointerMove),ga(this.contextWindow,"pointerup",this.handlePointerUp),ga(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ps(this.updatePoint)}}function bf(t,e){return e?{point:e(t.point)}:t}function s0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Sf({point:t},e){return{point:t,delta:s0(t,Pb(e)),offset:s0(t,BT(e)),velocity:UT(e,.1)}}function BT(t){return t[0]}function Pb(t){return t[t.length-1]}function UT(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=Pb(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>mr(e)));)n--;if(!s)return{x:0,y:0};const a=Un(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function zT(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?pt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?pt(n,t,s.max):Math.min(t,n)),t}function o0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function WT(t,{top:e,left:n,bottom:s,right:i}){return{x:o0(t.x,n,i),y:o0(t.y,e,s)}}function i0(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function HT(t,e){return{x:i0(t.x,e.x),y:i0(t.y,e.y)}}function KT(t,e){let n=.5;const s=an(t),i=an(e);return i>s?n=_a(e.min,e.max-s,t.min):s>i&&(n=_a(t.min,t.max-i,e.min)),Or(0,1,n)}function GT(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const kh=.35;function qT(t=kh){return t===!1?t=0:t===!0&&(t=kh),{x:a0(t,"left","right"),y:a0(t,"top","bottom")}}function a0(t,e,n){return{min:l0(t,e),max:l0(t,n)}}function l0(t,e){return typeof t=="number"?t:t[e]||0}const YT=new WeakMap;class JT{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_t(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Va(g).point)},l=(g,x)=>{const{drag:b,dragPropagation:S,onDragStart:_}=this.getProps();if(b&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nN(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(C=>{let T=this.getAxisMotionValue(C).get()||0;if(gr.test(T)){const{projection:E}=this.visualElement;if(E&&E.layout){const N=E.layout.layoutBox[C];N&&(T=an(N)*(parseFloat(T)/100))}}this.originPoint[C]=T}),_&&ut.postRender(()=>_(g,x)),Sh(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},d=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x;const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:_,onDrag:j}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:C}=x;if(S&&this.currentDirection===null){this.currentDirection=XT(C),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",x.point,C),this.updateAxis("y",x.point,C),this.visualElement.render(),j&&j(g,x)},p=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x,this.stop(g,x),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Vn(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Tb(e,{onSessionStart:a,onStart:l,onMove:d,onSessionEnd:p,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:Nb(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!s)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:d}=this.getProps();d&&ut.postRender(()=>d(s,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!ic(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(l=zT(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Ko(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=WT(s.layoutBox,e):this.constraints=!1,this.elastic=qT(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Vn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=GT(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ko(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=QN(s,i.root,this.visualElement.getTransformPagePoint());let l=HT(i.layout.layoutBox,a);if(n){const d=n(YN(l));this.hasMutatedConstraints=!!d,d&&(l=hb(d))}return l}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},h=Vn(m=>{if(!ic(m,n,this.currentDirection))return;let g=p&&p[m]||{};l&&(g={min:0,max:0});const x=i?200:1e6,b=i?40:1e7,S={type:"inertia",velocity:s?e[m]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,S)});return Promise.all(h).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Sh(this.visualElement,e),s.start($p(e,s,0,n,this.visualElement,!1))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Vn(n=>{const{drag:s}=this.getProps();if(!ic(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:d}=i.layout.layoutBox[n];a.set(e[n]-pt(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ko(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Vn(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const p=d.get();i[l]=KT({min:p,max:p},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Vn(l=>{if(!ic(l,e,null))return;const d=this.getAxisMotionValue(l),{min:p,max:h}=this.constraints[l];d.set(pt(p,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;YT.set(this.visualElement,this);const e=this.visualElement.current,n=ga(e,"pointerdown",p=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();Ko(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ut.read(s);const l=Na(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:h})=>{this.isDragging&&h&&(Vn(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=p[m].translate,g.set(g.get()+p[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=kh,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function ic(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function XT(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QT extends ws{constructor(e){super(e),this.removeGroupControls=zn,this.removeListeners=zn,this.controls=new JT(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const c0=t=>(e,n)=>{t&&ut.postRender(()=>t(e,n))};class ZT extends ws{constructor(){super(...arguments),this.removePointerDownListener=zn}onPointerDown(e){this.session=new Tb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:c0(e),onStart:c0(n),onMove:s,onEnd:(a,l)=>{delete this.session,i&&ut.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=ga(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function u0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const n=u0(t,e.target.x),s=u0(t,e.target.y);return`${n}% ${s}%`}},eP={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=ms.parse(t);if(i.length>5)return s;const a=ms.createTransformer(t),l=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,p=n.y.scale*e.y;i[0+l]/=d,i[1+l]/=p;const h=pt(d,p,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),a(i)}};let _f=!1;class tP extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=e;_N(nP),a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),_f&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Tc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,{projection:l}=s;return l&&(l.isPresent=a,_f=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||ut.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ep.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;_f=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ab(t){const[e,n]=Zw(),s=w.useContext(op);return u.jsx(tP,{...t,layoutGroup:s,switchLayoutGroup:w.useContext(db),isPresent:e,safeToRemove:n})}const nP={borderRadius:{...sa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sa,borderTopRightRadius:sa,borderBottomLeftRadius:sa,borderBottomRightRadius:sa,boxShadow:eP};function rP(t,e,n){const s=nn(t)?t:ni(t);return s.start($p("",s,e,n)),s.animation}const sP=(t,e)=>t.depth-e.depth;class oP{constructor(){this.children=[],this.isDirty=!1}add(e){lp(this.children,e),this.isDirty=!0}remove(e){cp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sP),this.isDirty=!1,this.children.forEach(e)}}function iP(t,e){const n=yn.now(),s=({timestamp:i})=>{const a=i-n;a>=e&&(ps(s),t(a-e))};return ut.setup(s,!0),()=>ps(s)}const Rb=["TopLeft","TopRight","BottomLeft","BottomRight"],aP=Rb.length,d0=t=>typeof t=="string"?parseFloat(t):t,f0=t=>typeof t=="number"||Oe.test(t);function lP(t,e,n,s,i,a){i?(t.opacity=pt(0,n.opacity??1,cP(s)),t.opacityExit=pt(e.opacity??1,0,uP(s))):a&&(t.opacity=pt(e.opacity??1,n.opacity??1,s));for(let l=0;l<aP;l++){const d=`border${Rb[l]}Radius`;let p=h0(e,d),h=h0(n,d);if(p===void 0&&h===void 0)continue;p||(p=0),h||(h=0),p===0||h===0||f0(p)===f0(h)?(t[d]=Math.max(pt(d0(p),d0(h),s),0),(gr.test(h)||gr.test(p))&&(t[d]+="%")):t[d]=h}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,s))}function h0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const cP=Ob(0,.5,xw),uP=Ob(.5,.95,zn);function Ob(t,e,n){return s=>s<t?0:s>e?1:n(_a(t,e,s))}function p0(t,e){t.min=e.min,t.max=e.max}function Fn(t,e){p0(t.x,e.x),p0(t.y,e.y)}function m0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function g0(t,e,n,s,i){return t-=e,t=Lc(t,1/n,s),i!==void 0&&(t=Lc(t,1/i,s)),t}function dP(t,e=0,n=1,s=.5,i,a=t,l=t){if(gr.test(e)&&(e=parseFloat(e),e=pt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let d=pt(a.min,a.max,s);t===a&&(d-=e),t.min=g0(t.min,e,n,d,i),t.max=g0(t.max,e,n,d,i)}function v0(t,e,[n,s,i],a,l){dP(t,e[n],e[s],e[i],e.scale,a,l)}const fP=["x","scaleX","originX"],hP=["y","scaleY","originY"];function y0(t,e,n,s){v0(t.x,e,fP,n?n.x:void 0,s?s.x:void 0),v0(t.y,e,hP,n?n.y:void 0,s?s.y:void 0)}function x0(t){return t.translate===0&&t.scale===1}function Ib(t){return x0(t.x)&&x0(t.y)}function w0(t,e){return t.min===e.min&&t.max===e.max}function pP(t,e){return w0(t.x,e.x)&&w0(t.y,e.y)}function b0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Mb(t,e){return b0(t.x,e.x)&&b0(t.y,e.y)}function S0(t){return an(t.x)/an(t.y)}function _0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class mP{constructor(){this.members=[]}add(e){lp(this.members,e),e.scheduleRender()}remove(e){if(cp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gP(t,e,n){let s="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((i||a||l)&&(s=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:x,skewX:b,skewY:S}=n;h&&(s=`perspective(${h}px) ${s}`),m&&(s+=`rotate(${m}deg) `),g&&(s+=`rotateX(${g}deg) `),x&&(s+=`rotateY(${x}deg) `),b&&(s+=`skewX(${b}deg) `),S&&(s+=`skewY(${S}deg) `)}const d=t.x.scale*e.x,p=t.y.scale*e.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const kf=["","X","Y","Z"],vP=1e3;let yP=0;function jf(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Db(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=bb(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ut,!(i||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Db(s)}function Lb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(l={},d=e?.()){this.id=yP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(bP),this.nodes.forEach(jP),this.nodes.forEach(CP),this.nodes.forEach(SP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new oP)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new fp),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const p=this.eventHandlers.get(l);p&&p.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Qw(l)&&!lN(l),this.instance=l;const{layoutId:d,layout:p,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),t){let m,g=0;const x=()=>this.root.updateBlockedByResize=!1;ut.read(()=>{g=window.innerWidth}),t(l,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,m&&m(),m=iP(x,250),Tc.hasAnimatedSinceResize&&(Tc.hasAnimatedSinceResize=!1,this.nodes.forEach(C0)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||p)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||AP,{onLayoutAnimationStart:_,onLayoutAnimationComplete:j}=h.getProps(),C=!this.targetLayout||!Mb(this.targetLayout,b),T=!g&&x;if(this.options.layoutRoot||this.resumeFrom||T||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...jp(S,"layout"),onPlay:_,onComplete:j};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(m,T)}else g||C0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ps(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EP),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Db(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(k0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(j0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(kP),this.nodes.forEach(xP),this.nodes.forEach(wP)):this.nodes.forEach(j0),this.clearAllSnapshots();const d=yn.now();Kt.delta=Or(0,1e3/60,d-Kt.timestamp),Kt.timestamp=d,Kt.isProcessing=!0,hf.update.process(Kt),hf.preRender.process(Kt),hf.render.process(Kt),Kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ep.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_P),this.sharedNodes.forEach(NP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!an(this.snapshot.measuredBox.x)&&!an(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Ib(this.projectionDelta),p=this.getTransformTemplate(),h=p?p(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&this.instance&&(d||Bs(this.latestValues)||m)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return l&&(p=this.removeTransform(p)),RP(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return _t();const d=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(OP))){const{scroll:h}=this.root;h&&(Go(d.x,h.offset.x),Go(d.y,h.offset.y))}return d}removeElementScroll(l){const d=_t();if(Fn(d,l),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const h=this.path[p],{scroll:m,options:g}=h;h!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Fn(d,l),Go(d.x,m.offset.x),Go(d.y,m.offset.y))}return d}applyTransform(l,d=!1){const p=_t();Fn(p,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!d&&m.options.layoutScroll&&m.scroll&&m!==m.root&&qo(p,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Bs(m.latestValues)&&qo(p,m.latestValues)}return Bs(this.latestValues)&&qo(p,this.latestValues),p}removeTransform(l){const d=_t();Fn(d,l);for(let p=0;p<this.path.length;p++){const h=this.path[p];if(!h.instance||!Bs(h.latestValues))continue;yh(h.latestValues)&&h.updateSnapshot();const m=_t(),g=h.measurePageBox();Fn(m,g),y0(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Bs(this.latestValues)&&y0(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=Kt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),ya(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_t(),this.targetWithTransforms=_t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fn(this.target,this.layout.layoutBox),mb(this.target,this.targetDelta)):Fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),ya(this.relativeTargetOrigin,this.target,x.target),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yh(this.parent.latestValues)||pb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),d=!!this.resumingFrom||this!==l;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Kt.timestamp&&(p=!1),p)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Fn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,x=this.treeScale.y;XN(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=_t());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(m0(this.prevProjectionDelta.x,this.projectionDelta.x),m0(this.prevProjectionDelta.y,this.projectionDelta.y)),va(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==x||!_0(this.projectionDelta.x,this.prevProjectionDelta.x)||!_0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yo(),this.projectionDelta=Yo(),this.projectionDeltaWithTransform=Yo()}setAnimationOrigin(l,d=!1){const p=this.snapshot,h=p?p.latestValues:{},m={...this.latestValues},g=Yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=_t(),b=p?p.source:void 0,S=this.layout?this.layout.source:void 0,_=b!==S,j=this.getStack(),C=!j||j.members.length<=1,T=!!(_&&!C&&this.options.crossfade===!0&&!this.path.some(PP));this.animationProgress=0;let E;this.mixTargetDelta=N=>{const P=N/1e3;E0(g.x,l.x,P),E0(g.y,l.y,P),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ya(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TP(this.relativeTarget,this.relativeTargetOrigin,x,P),E&&pP(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=_t()),Fn(E,this.relativeTarget)),_&&(this.animationValues=m,lP(m,h,this.latestValues,P,T,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ps(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{Tc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ni(0)),this.currentAnimation=rP(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:p,layout:h,latestValues:m}=l;if(!(!d||!p||!h)){if(this!==l&&this.layout&&h&&$b(this.options.animationType,this.layout.layoutBox,h.layoutBox)){p=this.target||_t();const g=an(this.layout.layoutBox.x);p.x.min=l.target.x.min,p.x.max=p.x.min+g;const x=an(this.layout.layoutBox.y);p.y.min=l.target.y.min,p.y.max=p.y.min+x}Fn(d,p),qo(d,m),va(this.projectionDeltaWithTransform,this.layoutCorrected,d,m)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new mP),this.sharedNodes.get(l).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:p}={}){const h=this.getStack();h&&h.promote(this,p),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:p}=l;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const h={};p.z&&jf("z",l,h,this.animationValues);for(let m=0;m<kf.length;m++)jf(`rotate${kf[m]}`,l,h,this.animationValues),jf(`skew${kf[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}applyProjectionStyles(l,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Nc(d?.pointerEvents)||"",l.transform=p?p(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Nc(d?.pointerEvents)||""),this.hasProjected&&!Bs(this.latestValues)&&(l.transform=p?p({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=gP(this.projectionDeltaWithTransform,this.treeScale,m);p&&(g=p(m,g)),l.transform=g;const{x,y:b}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${b.origin*100}% 0`,h.animationValues?l.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in Ea){if(m[S]===void 0)continue;const{correct:_,applyTo:j,isCSSVariable:C}=Ea[S],T=g==="none"?m[S]:_(m[S],h);if(j){const E=j.length;for(let N=0;N<E;N++)l[j[N]]=T}else C?this.options.visualElement.renderState.vars[S]=T:l[S]=T}this.options.layoutId&&(l.pointerEvents=h===this?Nc(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(k0),this.root.sharedNodes.clear()}}}function xP(t){t.updateLayout()}function wP(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Vn(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],x=an(g);g.min=n[m].min,g.max=g.min+x}):$b(i,e.layoutBox,n)&&Vn(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],x=an(n[m]);g.max=g.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+x)});const l=Yo();va(l,n,e.layoutBox);const d=Yo();a?va(d,t.applyTransform(s,!0),e.measuredBox):va(d,n,e.layoutBox);const p=!Ib(l);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:x}=m;if(g&&x){const b=_t();ya(b,e.layoutBox,g.layoutBox);const S=_t();ya(S,n,x.layoutBox),Mb(b,S)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=b,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:l,hasLayoutChanged:p,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function bP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function SP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _P(t){t.clearSnapshot()}function k0(t){t.clearMeasurements()}function j0(t){t.isLayoutDirty=!1}function kP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function C0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function jP(t){t.resolveTargetDelta()}function CP(t){t.calcProjection()}function EP(t){t.resetSkewAndRotation()}function NP(t){t.removeLeadSnapshot()}function E0(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function N0(t,e,n,s){t.min=pt(e.min,n.min,s),t.max=pt(e.max,n.max,s)}function TP(t,e,n,s){N0(t.x,e.x,n.x,s),N0(t.y,e.y,n.y,s)}function PP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const AP={duration:.45,ease:[.4,0,.1,1]},T0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),P0=T0("applewebkit/")&&!T0("chrome/")?Math.round:zn;function A0(t){t.min=P0(t.min),t.max=P0(t.max)}function RP(t){A0(t.x),A0(t.y)}function $b(t,e,n){return t==="position"||t==="preserve-aspect"&&!$T(S0(e),S0(n),.2)}function OP(t){return t!==t.root&&t.scroll?.wasRoot}const IP=Lb({attachResizeListener:(t,e)=>Na(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cf={current:void 0},Fb=Lb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Cf.current){const t=new IP({});t.mount(window),t.setOptions({layoutScroll:!0}),Cf.current=t}return Cf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),MP={pan:{Feature:ZT},drag:{Feature:QT,ProjectionNode:Fb,MeasureLayout:Ab}};function R0(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&ut.postRender(()=>a(e,Va(e)))}class DP extends ws{mount(){const{current:e}=this.node;e&&(this.unmount=rN(e,(n,s)=>(R0(this.node,s,"Start"),i=>R0(this.node,i,"End"))))}unmount(){}}class LP extends ws{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=La(Na(this.node.current,"focus",()=>this.onFocus()),Na(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function O0(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&ut.postRender(()=>a(e,Va(e)))}class $P extends ws{mount(){const{current:e}=this.node;e&&(this.unmount=aN(e,(n,s)=>(O0(this.node,s,"Start"),(i,{success:a})=>O0(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jh=new WeakMap,Ef=new WeakMap,FP=t=>{const e=jh.get(t.target);e&&e(t)},VP=t=>{t.forEach(FP)};function BP({root:t,...e}){const n=t||document;Ef.has(n)||Ef.set(n,{});const s=Ef.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(VP,{root:t,...e})),s[i]}function UP(t,e,n){const s=BP(e);return jh.set(t,n),s.observe(t),()=>{jh.delete(t),s.unobserve(t)}}const zP={some:0,all:1};class WP extends ws{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:zP[i]},d=p=>{const{isIntersecting:h}=p;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),x=h?m:g;x&&x(p)};return UP(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(HP(e,n))&&this.startObserver()}unmount(){}}function HP({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const KP={inView:{Feature:WP},tap:{Feature:$P},focus:{Feature:LP},hover:{Feature:DP}},GP={layout:{ProjectionNode:Fb,MeasureLayout:Ab}},qP={...RT,...KP,...MP,...GP},te=qN(qP,aT);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JP=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),I0=t=>{const e=JP(t);return e.charAt(0).toUpperCase()+e.slice(1)},Vb=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),XP=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:l,...d},p)=>w.createElement("svg",{ref:p,...QP,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:Vb("lucide",i),...!a&&!XP(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,m])=>w.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const n=w.forwardRef(({className:s,...i},a)=>w.createElement(ZP,{ref:a,iconNode:e,className:Vb(`lucide-${YP(I0(t))}`,`lucide-${t}`,s),...i}));return n.displayName=I0(t),n};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],nu=Ee("arrow-left",eA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$c=Ee("arrow-right",tA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rA=Ee("ban",nA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],oA=Ee("bell",sA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Bb=Ee("camera",iA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Gs=Ee("check-check",aA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Qs=Ee("check",lA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],uA=Ee("chevron-down",cA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Nf=Ee("chevron-right",dA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],hA=Ee("chevron-up",fA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Fc=Ee("circle-alert",pA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ch=Ee("clock",mA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],vA=Ee("copy",gA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Fp=Ee("ellipsis-vertical",yA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eh=Ee("eye",xA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],bA=Ee("heart",wA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],_A=Ee("image",SA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ub=Ee("info",kA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zb=Ee("loader-circle",jA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],EA=Ee("lock",CA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],TA=Ee("log-out",NA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wb=Ee("mail",PA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],RA=Ee("maximize-2",AA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ba=Ee("message-circle",OA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],M0=Ee("mic-off",IA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Zs=Ee("mic",MA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],LA=Ee("minimize-2",DA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],FA=Ee("paperclip",$A);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Hb=Ee("pause",VA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],Nh=Ee("phone-off",BA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],xr=Ee("phone",UA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Kb=Ee("play",zA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xa=Ee("plus",WA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],KA=Ee("refresh-cw",HA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],D0=Ee("reply",GA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ru=Ee("search",qA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],su=Ee("send",YA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gb=Ee("settings",JA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],QA=Ee("shield",XA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],eR=Ee("smile",ZA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],nR=Ee("sparkles",tR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],si=Ee("trash-2",rR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oR=Ee("triangle-alert",sR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],aR=Ee("type",iR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],qb=Ee("user-plus",lR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],uR=Ee("user-x",cR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Yb=Ee("user",dR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],L0=Ee("users",fR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],pR=Ee("video-off",hR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],oi=Ee("video",mR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],vR=Ee("volume-2",gR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],eo=Ee("x",yR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wR=Ee("zap",xR);function bR({onComplete:t,duration:e=2500}){const[n,s]=w.useState(0);return w.useEffect(()=>{const i=setInterval(()=>{s(l=>l>=100?(clearInterval(i),100):l+2)},e/50),a=setTimeout(()=>{t?.()},e);return()=>{clearInterval(i),clearTimeout(a)}},[t,e]),u.jsxs("div",{className:"h-screen w-full flex items-center justify-center relative overflow-hidden bg-gradient-to-br from-[#0057FF] via-[#0047DD] to-[#00D4A6] px-4 sm:px-6 pt-safe pb-safe",children:[u.jsx("div",{className:"absolute inset-0",children:u.jsx(te.div,{className:"absolute inset-0",animate:{background:["radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.1) 0%, transparent 50%)","radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.15) 0%, transparent 50%)","radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 50%)","radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.1) 0%, transparent 50%)"]},transition:{duration:4,repeat:1/0,ease:"linear"}})}),u.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(15)].map((i,a)=>u.jsx(te.div,{className:"absolute rounded-full bg-white/10 backdrop-blur-sm",style:{width:Math.random()*80+20,height:Math.random()*80+20,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-40,0],x:[0,30,0],scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:Math.random()*8+10,repeat:1/0,delay:Math.random()*2,ease:"easeInOut"}},a))}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center w-full max-w-md",children:[u.jsxs(te.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,duration:1},className:"relative mb-8 sm:mb-10",children:[u.jsx(te.div,{className:"absolute inset-0 -m-6",animate:{scale:[1,1.4,1],opacity:[.4,0,.4]},transition:{duration:2,repeat:1/0,ease:"easeOut"},children:u.jsx("div",{className:"w-44 h-44 rounded-full border-3 border-white/40"})}),u.jsx(te.div,{className:"absolute inset-0 -m-3",animate:{scale:[1,1.3,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,ease:"easeOut",delay:.3},children:u.jsx("div",{className:"w-38 h-38 rounded-full border-2 border-white/30"})}),u.jsxs("div",{className:"relative w-24 h-24 xs:w-28 xs:h-28 sm:w-32 sm:h-32 rounded-full bg-white shadow-2xl flex items-center justify-center ring-4 xs:ring-6 sm:ring-8 ring-white/30",children:[u.jsx(te.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-full",style:{background:"conic-gradient(from 0deg, transparent, rgba(255,255,255,0.3), transparent)"}}),u.jsx(te.div,{className:"relative",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:u.jsx(Ba,{className:"w-12 h-12 xs:w-14 xs:h-14 sm:w-16 sm:h-16 text-primary",strokeWidth:2.5})})]}),u.jsx(te.div,{className:"absolute -top-2 -right-2 xs:-top-3 xs:-right-3 sm:-top-4 sm:-right-4",animate:{scale:[1,1.2,1],rotate:[0,180,360],opacity:[.6,1,.6]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:u.jsx(nR,{className:"w-6 h-6 xs:w-7 xs:h-7 sm:w-8 sm:h-8 text-white",fill:"white"})})]}),u.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"text-center mb-12 sm:mb-16",children:[u.jsx(te.h1,{className:"text-4xl xs:text-5xl sm:text-6xl md:text-7xl font-bold text-white mb-2 sm:mb-3 tracking-tight",animate:{textShadow:["0 0 20px rgba(255,255,255,0.5)","0 0 40px rgba(255,255,255,0.8)","0 0 20px rgba(255,255,255,0.5)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"AuroraLink"}),u.jsx(te.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-white/90 text-base xs:text-lg sm:text-xl font-medium tracking-wide px-4",children:"Connect. Communicate. Collaborate."})]}),u.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"w-48 xs:w-56 sm:w-64 space-y-2.5 sm:space-y-3 px-4",children:[u.jsx("div",{className:"h-1.5 bg-white/20 rounded-full overflow-hidden backdrop-blur-sm",children:u.jsx(te.div,{className:"h-full bg-white rounded-full shadow-lg shadow-white/50",initial:{width:0},animate:{width:`${n}%`},transition:{duration:.3}})}),u.jsx(te.p,{className:"text-center text-white/70 text-sm",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:"Loading..."})]})]}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/10 to-transparent"})]})}function $0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Mr(...t){return e=>{let n=!1;const s=t.map(i=>{const a=$0(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():$0(t[i],null)}}}}function mt(...t){return w.useCallback(Mr(...t),t)}function to(t){const e=SR(t),n=w.forwardRef((s,i)=>{const{children:a,...l}=s,d=w.Children.toArray(a),p=d.find(kR);if(p){const h=p.props.children,m=d.map(g=>g===p?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:g);return u.jsx(e,{...l,ref:i,children:w.isValidElement(h)?w.cloneElement(h,void 0,m):null})}return u.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var Jb=to("Slot");function SR(t){const e=w.forwardRef((n,s)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const l=CR(i),d=jR(a,i.props);return i.type!==w.Fragment&&(d.ref=s?Mr(s,l):l),w.cloneElement(i,d)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Xb=Symbol("radix.slottable");function _R(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Xb,e}function kR(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Xb}function jR(t,e){const n={...e};for(const s in e){const i=t[s],a=e[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{const p=a(...d);return i(...d),p}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function CR(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Qb(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Qb(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Zb(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Qb(t))&&(s&&(s+=" "),s+=e);return s}const F0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,V0=Zb,Vp=(t,e)=>n=>{var s;if(e?.variants==null)return V0(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(h=>{const m=n?.[h],g=a?.[h];if(m===null)return null;const x=F0(m)||F0(g);return i[h][x]}),d=n&&Object.entries(n).reduce((h,m)=>{let[g,x]=m;return x===void 0||(h[g]=x),h},{}),p=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((h,m)=>{let{class:g,className:x,...b}=m;return Object.entries(b).every(S=>{let[_,j]=S;return Array.isArray(j)?j.includes({...a,...d}[_]):{...a,...d}[_]===j})?[...h,g,x]:h},[]);return V0(t,l,p,n?.class,n?.className)},Bp="-",ER=t=>{const e=TR(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:l=>{const d=l.split(Bp);return d[0]===""&&d.length!==1&&d.shift(),e1(d,e)||NR(l)},getConflictingClassGroupIds:(l,d)=>{const p=n[l]||[];return d&&s[l]?[...p,...s[l]]:p}}},e1=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),i=s?e1(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Bp);return e.validators.find(({validator:l})=>l(a))?.classGroupId},B0=/^\[(.+)\]$/,NR=t=>{if(B0.test(t)){const e=B0.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},TR=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const i in n)Th(n[i],s,i,e);return s},Th=(t,e,n,s)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:U0(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(PR(i)){Th(i(s),e,n,s);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,l])=>{Th(l,U0(e,a),n,s)})})},U0=(t,e)=>{let n=t;return e.split(Bp).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},PR=t=>t.isThemeGetter,AR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const i=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,s=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=s.get(a))!==void 0)return i(a,l),l},set(a,l){n.has(a)?n.set(a,l):i(a,l)}}},Ph="!",Ah=":",RR=Ah.length,OR=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=i=>{const a=[];let l=0,d=0,p=0,h;for(let S=0;S<i.length;S++){let _=i[S];if(l===0&&d===0){if(_===Ah){a.push(i.slice(p,S)),p=S+RR;continue}if(_==="/"){h=S;continue}}_==="["?l++:_==="]"?l--:_==="("?d++:_===")"&&d--}const m=a.length===0?i:i.substring(p),g=IR(m),x=g!==m,b=h&&h>p?h-p:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:b}};if(e){const i=e+Ah,a=s;s=l=>l.startsWith(i)?a(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const i=s;s=a=>n({className:a,parseClassName:i})}return s},IR=t=>t.endsWith(Ph)?t.substring(0,t.length-1):t.startsWith(Ph)?t.substring(1):t,MR=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const i=[];let a=[];return s.forEach(l=>{l[0]==="["||e[l]?(i.push(...a.sort(),l),a=[]):a.push(l)}),i.push(...a.sort()),i}},DR=t=>({cache:AR(t.cacheSize),parseClassName:OR(t),sortModifiers:MR(t),...ER(t)}),LR=/\s+/,$R=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:a}=e,l=[],d=t.trim().split(LR);let p="";for(let h=d.length-1;h>=0;h-=1){const m=d[h],{isExternal:g,modifiers:x,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:_}=n(m);if(g){p=m+(p.length>0?" "+p:p);continue}let j=!!_,C=s(j?S.substring(0,_):S);if(!C){if(!j){p=m+(p.length>0?" "+p:p);continue}if(C=s(S),!C){p=m+(p.length>0?" "+p:p);continue}j=!1}const T=a(x).join(":"),E=b?T+Ph:T,N=E+C;if(l.includes(N))continue;l.push(N);const P=i(C,j);for(let I=0;I<P.length;++I){const D=P[I];l.push(E+D)}p=m+(p.length>0?" "+p:p)}return p};function FR(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=t1(e))&&(s&&(s+=" "),s+=n);return s}const t1=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=t1(t[s]))&&(n&&(n+=" "),n+=e);return n};function VR(t,...e){let n,s,i,a=l;function l(p){const h=e.reduce((m,g)=>g(m),t());return n=DR(h),s=n.cache.get,i=n.cache.set,a=d,d(p)}function d(p){const h=s(p);if(h)return h;const m=$R(p,n);return i(p,m),m}return function(){return a(FR.apply(null,arguments))}}const At=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},n1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,r1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,BR=/^\d+\/\d+$/,UR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,HR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ao=t=>BR.test(t),$e=t=>!!t&&!Number.isNaN(Number(t)),cs=t=>!!t&&Number.isInteger(Number(t)),Tf=t=>t.endsWith("%")&&$e(t.slice(0,-1)),Ar=t=>UR.test(t),GR=()=>!0,qR=t=>zR.test(t)&&!WR.test(t),s1=()=>!1,YR=t=>HR.test(t),JR=t=>KR.test(t),XR=t=>!xe(t)&&!we(t),QR=t=>gi(t,a1,s1),xe=t=>n1.test(t),$s=t=>gi(t,l1,qR),Pf=t=>gi(t,r5,$e),z0=t=>gi(t,o1,s1),ZR=t=>gi(t,i1,JR),ac=t=>gi(t,c1,YR),we=t=>r1.test(t),oa=t=>vi(t,l1),e5=t=>vi(t,s5),W0=t=>vi(t,o1),t5=t=>vi(t,a1),n5=t=>vi(t,i1),lc=t=>vi(t,c1,!0),gi=(t,e,n)=>{const s=n1.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},vi=(t,e,n=!1)=>{const s=r1.exec(t);return s?s[1]?e(s[1]):n:!1},o1=t=>t==="position"||t==="percentage",i1=t=>t==="image"||t==="url",a1=t=>t==="length"||t==="size"||t==="bg-size",l1=t=>t==="length",r5=t=>t==="number",s5=t=>t==="family-name",c1=t=>t==="shadow",o5=()=>{const t=At("color"),e=At("font"),n=At("text"),s=At("font-weight"),i=At("tracking"),a=At("leading"),l=At("breakpoint"),d=At("container"),p=At("spacing"),h=At("radius"),m=At("shadow"),g=At("inset-shadow"),x=At("text-shadow"),b=At("drop-shadow"),S=At("blur"),_=At("perspective"),j=At("aspect"),C=At("ease"),T=At("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...N(),we,xe],I=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],F=()=>[we,xe,p],B=()=>[Ao,"full","auto",...F()],V=()=>[cs,"none","subgrid",we,xe],Z=()=>["auto",{span:["full",cs,we,xe]},cs,we,xe],Q=()=>[cs,"auto",we,xe],re=()=>["auto","min","max","fr",we,xe],fe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ve=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...F()],X=()=>[Ao,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],R=()=>[t,we,xe],W=()=>[...N(),W0,z0,{position:[we,xe]}],J=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",t5,QR,{size:[we,xe]}],O=()=>[Tf,oa,$s],H=()=>["","none","full",h,we,xe],Y=()=>["",$e,oa,$s],q=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[$e,Tf,W0,z0],de=()=>["","none",S,we,xe],ke=()=>["none",$e,we,xe],ze=()=>["none",$e,we,xe],rt=()=>[$e,we,xe],pe=()=>[Ao,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ar],breakpoint:[Ar],color:[GR],container:[Ar],"drop-shadow":[Ar],ease:["in","out","in-out"],font:[XR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ar],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ar],shadow:[Ar],spacing:["px",$e],text:[Ar],"text-shadow":[Ar],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ao,xe,we,j]}],container:["container"],columns:[{columns:[$e,xe,we,d]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[cs,"auto",we,xe]}],basis:[{basis:[Ao,"full","auto",d,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,Ao,"auto","initial","none",xe]}],grow:[{grow:["",$e,we,xe]}],shrink:[{shrink:["",$e,we,xe]}],order:[{order:[cs,"first","last","none",we,xe]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:Z()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:Z()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":re()}],"auto-rows":[{"auto-rows":re()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...fe(),"normal"]}],"justify-items":[{"justify-items":[...ve(),"normal"]}],"justify-self":[{"justify-self":["auto",...ve()]}],"align-content":[{content:["normal",...fe()]}],"align-items":[{items:[...ve(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ve(),{baseline:["","last"]}]}],"place-content":[{"place-content":fe()}],"place-items":[{"place-items":[...ve(),"baseline"]}],"place-self":[{"place-self":["auto",...ve()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[d,"screen",...X()]}],"min-w":[{"min-w":[d,"screen","none",...X()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",n,oa,$s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,we,Pf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Tf,xe]}],"font-family":[{font:[e5,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,we,xe]}],"line-clamp":[{"line-clamp":[$e,"none",we,Pf]}],leading:[{leading:[a,...F()]}],"list-image":[{"list-image":["none",we,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",we,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",we,$s]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[$e,"auto",we,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:J()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},cs,we,xe],radial:["",we,xe],conic:[cs,we,xe]},n5,ZR]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:O()}],"gradient-via-pos":[{via:O()}],"gradient-to-pos":[{to:O()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:H()}],"rounded-s":[{"rounded-s":H()}],"rounded-e":[{"rounded-e":H()}],"rounded-t":[{"rounded-t":H()}],"rounded-r":[{"rounded-r":H()}],"rounded-b":[{"rounded-b":H()}],"rounded-l":[{"rounded-l":H()}],"rounded-ss":[{"rounded-ss":H()}],"rounded-se":[{"rounded-se":H()}],"rounded-ee":[{"rounded-ee":H()}],"rounded-es":[{"rounded-es":H()}],"rounded-tl":[{"rounded-tl":H()}],"rounded-tr":[{"rounded-tr":H()}],"rounded-br":[{"rounded-br":H()}],"rounded-bl":[{"rounded-bl":H()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,we,xe]}],"outline-w":[{outline:["",$e,oa,$s]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",m,lc,ac]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",g,lc,ac]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[$e,$s]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",x,lc,ac]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[$e,we,xe]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[we,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:J()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",we,xe]}],filter:[{filter:["","none",we,xe]}],blur:[{blur:de()}],brightness:[{brightness:[$e,we,xe]}],contrast:[{contrast:[$e,we,xe]}],"drop-shadow":[{"drop-shadow":["","none",b,lc,ac]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",$e,we,xe]}],"hue-rotate":[{"hue-rotate":[$e,we,xe]}],invert:[{invert:["",$e,we,xe]}],saturate:[{saturate:[$e,we,xe]}],sepia:[{sepia:["",$e,we,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",we,xe]}],"backdrop-blur":[{"backdrop-blur":de()}],"backdrop-brightness":[{"backdrop-brightness":[$e,we,xe]}],"backdrop-contrast":[{"backdrop-contrast":[$e,we,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,we,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,we,xe]}],"backdrop-invert":[{"backdrop-invert":["",$e,we,xe]}],"backdrop-opacity":[{"backdrop-opacity":[$e,we,xe]}],"backdrop-saturate":[{"backdrop-saturate":[$e,we,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,we,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",we,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",we,xe]}],ease:[{ease:["linear","initial",C,we,xe]}],delay:[{delay:[$e,we,xe]}],animate:[{animate:["none",T,we,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,we,xe]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:ke()}],"rotate-x":[{"rotate-x":ke()}],"rotate-y":[{"rotate-y":ke()}],"rotate-z":[{"rotate-z":ke()}],scale:[{scale:ze()}],"scale-x":[{"scale-x":ze()}],"scale-y":[{"scale-y":ze()}],"scale-z":[{"scale-z":ze()}],"scale-3d":["scale-3d"],skew:[{skew:rt()}],"skew-x":[{"skew-x":rt()}],"skew-y":[{"skew-y":rt()}],transform:[{transform:[we,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:pe()}],"translate-x":[{"translate-x":pe()}],"translate-y":[{"translate-y":pe()}],"translate-z":[{"translate-z":pe()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we,xe]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[$e,oa,$s,Pf]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},i5=VR(o5);function Ze(...t){return i5(Zb(t))}const Up=Vp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Be=w.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...i},a)=>{const l=s?Jb:"button";return u.jsx(l,{ref:a,"data-slot":"button",className:Ze(Up({variant:e,size:n,className:t})),...i})});Be.displayName="Button";const ia=[{icon:Ba,title:"Welcome to AuroraLink",description:"Connect with friends and family through secure, encrypted messaging, voice and video calls. Your conversations, always within reach.",gradient:"from-primary via-primary/80 to-accent",features:["Instant Messaging","Voice & Video Calls","Media Sharing"]},{icon:QA,title:"Private & Secure",description:"Your messages are protected with end-to-end encryption. Only you and your recipients can read them. Your privacy is our priority.",gradient:"from-accent via-accent/80 to-primary",features:["End-to-End Encryption","Privacy First","Secure Storage"]},{icon:wR,title:"Fast & Reliable",description:"Send messages, share media, and make calls instantly with real-time delivery and notifications. Lightning-fast communication.",gradient:"from-primary via-accent/60 to-primary",features:["Real-Time Sync","Instant Delivery","Always Connected"]}];function a5(){const t=Array.from({length:20},(e,n)=>({id:n,size:Math.random()*60+20,x:Math.random()*100,y:Math.random()*100,duration:Math.random()*10+15,delay:Math.random()*5}));return u.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:t.map(e=>u.jsx(te.div,{className:"absolute rounded-full bg-gradient-to-br from-primary/10 to-accent/10 backdrop-blur-sm",style:{width:e.size,height:e.size,left:`${e.x}%`,top:`${e.y}%`},animate:{y:[0,-30,0],x:[0,20,0],scale:[1,1.1,1],opacity:[.3,.6,.3]},transition:{duration:e.duration,repeat:1/0,delay:e.delay,ease:"easeInOut"}},e.id))})}function l5({onComplete:t}){const[e,n]=w.useState(0),s=()=>{e<ia.length-1?n(e+1):t()},i=ia[e],a=i.icon;return u.jsxs("div",{className:"onboarding-container w-full overflow-hidden relative bg-gradient-to-br from-background via-surface to-background",children:[u.jsx(te.div,{className:"absolute inset-0 opacity-30",animate:{background:["radial-gradient(circle at 0% 0%, var(--primary) 0%, transparent 50%)","radial-gradient(circle at 100% 100%, var(--accent) 0%, transparent 50%)","radial-gradient(circle at 0% 100%, var(--primary) 0%, transparent 50%)","radial-gradient(circle at 100% 0%, var(--accent) 0%, transparent 50%)","radial-gradient(circle at 0% 0%, var(--primary) 0%, transparent 50%)"]},transition:{duration:20,repeat:1/0,ease:"linear"}}),u.jsx(a5,{}),u.jsxs("div",{className:"relative z-10 h-full w-full flex flex-col items-center justify-between px-4 py-4 xs:py-5 sm:py-6 md:py-8 lg:py-10",style:{paddingTop:"max(env(safe-area-inset-top), 1rem)",paddingBottom:"max(env(safe-area-inset-bottom), 1rem)"},children:[u.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center w-full",children:u.jsxs(te.div,{className:"inline-flex items-center gap-2 xs:gap-2.5 sm:gap-3 md:gap-4 mb-1.5 xs:mb-2",animate:{scale:[1,1.01,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-9 h-9 xs:w-10 xs:h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-xl shadow-primary/30",children:u.jsx(Ba,{className:"w-5 h-5 xs:w-6 xs:h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-white",strokeWidth:2.5})}),u.jsx("div",{className:"absolute inset-0 rounded-xl sm:rounded-2xl bg-gradient-to-br from-primary to-accent opacity-20 blur-xl"})]}),u.jsx("h1",{className:"text-xl xs:text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-primary via-primary to-accent bg-clip-text text-transparent",children:"AuroraLink"})]})}),u.jsx(ma,{mode:"wait",children:u.jsxs(te.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5,ease:[.25,.1,.25,1]},className:"w-full max-w-[90%] xs:max-w-sm sm:max-w-md md:max-w-lg lg:max-w-4xl flex flex-col items-center text-center flex-1 justify-center py-1 xs:py-2 sm:py-4",children:[u.jsx(te.div,{initial:{scale:.92,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.7,ease:[.25,.1,.25,1]},className:"relative mb-6 xs:mb-8 sm:mb-10 md:mb-12 w-full px-2 sm:px-0",children:u.jsxs("div",{className:"relative mx-auto w-full max-w-[280px] xs:max-w-[300px] sm:max-w-[340px] md:max-w-md px-4",children:[u.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${i.gradient} opacity-20 blur-[60px] sm:blur-[80px] md:blur-[100px] rounded-full`}),u.jsxs(te.div,{className:"relative w-full aspect-square",animate:{y:[0,-12,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[u.jsx(te.div,{className:`relative w-full h-full mx-auto rounded-full bg-gradient-to-br ${i.gradient} p-1 shadow-2xl`,animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},children:u.jsx("div",{className:"w-full h-full rounded-full bg-surface/95 backdrop-blur-sm flex items-center justify-center",children:u.jsxs(te.div,{className:`w-[45%] h-[45%] rounded-full bg-gradient-to-br ${i.gradient} flex items-center justify-center shadow-2xl`,animate:{scale:[1,1.05,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[u.jsx(a,{className:"w-[55%] h-[55%] text-white",strokeWidth:2.5}),u.jsx(te.div,{className:"absolute inset-0 rounded-full bg-white/30",animate:{opacity:[.2,.5,.2],scale:[.9,1.1,.9]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"}})]})})}),[0,1,2].map(l=>u.jsx(te.div,{className:`absolute top-1/2 left-1/2 w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-gradient-to-br ${i.gradient} shadow-lg -translate-x-1/2 -translate-y-1/2`,animate:{rotate:[l*120,l*120+360]},transition:{duration:8,repeat:1/0,ease:"linear",delay:l*.5},children:u.jsx("div",{className:"absolute top-0 left-0 w-3 h-3 sm:w-4 sm:h-4",style:{transform:"translateY(calc(-1 * min(80px, 28vw)))"}})},l))]}),u.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"mt-6 xs:mt-8 sm:mt-10 md:mt-12 space-y-2.5 xs:space-y-3 sm:space-y-4 w-full",children:i.features.map((l,d)=>u.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+d*.1,duration:.5},className:"flex items-center gap-2.5 xs:gap-3 bg-surface/50 backdrop-blur-sm rounded-xl sm:rounded-2xl px-3.5 xs:px-4 sm:px-5 py-2.5 xs:py-3 sm:py-3.5 border border-border/50 shadow-sm hover:shadow-md transition-all duration-300 min-h-[52px] touch-manipulation",children:[u.jsx("div",{className:`flex-shrink-0 w-7 h-7 xs:w-8 xs:h-8 sm:w-9 sm:h-9 rounded-lg sm:rounded-xl bg-gradient-to-br ${i.gradient} flex items-center justify-center`,children:u.jsx(Qs,{className:"w-3.5 h-3.5 xs:w-4 xs:h-4 sm:w-5 sm:h-5 text-white",strokeWidth:3})}),u.jsx("span",{className:"text-[13px] xs:text-sm sm:text-base font-medium text-foreground leading-snug",children:l})]},l))})]})}),u.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"space-y-2 xs:space-y-3 sm:space-y-4 md:space-y-6 mb-4 xs:mb-5 sm:mb-6 md:mb-8 px-2 xs:px-4 sm:px-6 md:px-8 w-full",children:[u.jsx("h2",{className:"text-lg xs:text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold text-foreground leading-tight",children:i.title}),u.jsx("p",{className:"text-[13px] xs:text-sm sm:text-base md:text-lg text-muted-foreground max-w-md sm:max-w-lg md:max-w-2xl mx-auto leading-relaxed",children:i.description})]})]},e)}),u.jsxs("div",{className:"w-full max-w-[90%] xs:max-w-sm sm:max-w-md md:max-w-lg space-y-4 xs:space-y-5 sm:space-y-6 md:space-y-8 px-2 xs:px-4 sm:px-6",children:[u.jsx("div",{className:"flex justify-center gap-1.5 xs:gap-2 sm:gap-2.5 md:gap-3",children:ia.map((l,d)=>u.jsx(te.button,{onClick:()=>n(d),className:"relative focus:outline-none touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center",whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":`Go to slide ${d+1}`,children:u.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${d===e?"w-7 xs:w-8 sm:w-10 bg-gradient-to-r from-primary to-accent shadow-lg shadow-primary/30":"w-2 bg-muted-foreground/40 hover:bg-muted-foreground/60"}`})},d))}),u.jsxs("div",{className:"flex gap-2.5 xs:gap-3 sm:gap-4",children:[e>0&&u.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex-1",children:u.jsx(Be,{variant:"outline",onClick:()=>n(e-1),className:"w-full min-h-[48px] h-12 sm:h-13 md:h-14 text-[13px] xs:text-sm sm:text-base font-semibold border-2 hover:bg-muted touch-manipulation",children:"Back"})}),u.jsx(te.div,{className:e>0?"flex-1":"w-full",whileHover:{scale:1.02},whileTap:{scale:.98},children:u.jsx(Be,{onClick:s,className:"w-full min-h-[48px] h-12 sm:h-13 md:h-14 text-[13px] xs:text-sm sm:text-base font-semibold bg-gradient-to-r from-primary to-accent hover:opacity-90 shadow-xl shadow-primary/30 transition-all duration-300 touch-manipulation",children:e<ia.length-1?u.jsxs(u.Fragment,{children:["Next",u.jsx($c,{className:"ml-1.5 sm:ml-2 w-4 h-4 sm:w-5 sm:h-5"})]}):u.jsxs(u.Fragment,{children:["Get Started",u.jsx($c,{className:"ml-1.5 sm:ml-2 w-4 h-4 sm:w-5 sm:h-5"})]})})})]}),e<ia.length-1&&u.jsx(te.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},onClick:t,className:"w-full text-[13px] xs:text-sm sm:text-base font-medium text-muted-foreground hover:text-foreground transition-colors py-2.5 xs:py-3 sm:py-3.5 touch-manipulation min-h-[48px]",children:"Skip"})]})]})]})}const vr=w.forwardRef(({className:t,type:e,...n},s)=>u.jsx("input",{ref:s,type:e,"data-slot":"input",className:Ze("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 aria-invalid:border-destructive",t),...n}));vr.displayName="Input";var c5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qe=c5.reduce((t,e)=>{const n=to(`Primitive.${e}`),s=w.forwardRef((i,a)=>{const{asChild:l,...d}=i,p=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(p,{...d,ref:a})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function u1(t,e){t&&sp.flushSync(()=>t.dispatchEvent(e))}var u5="Label",d1=w.forwardRef((t,e)=>u.jsx(qe.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));d1.displayName=u5;var d5=d1;function ua({className:t,...e}){return u.jsx(d5,{"data-slot":"label",className:Ze("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const f5=Vp("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function h5({className:t,variant:e,...n}){return u.jsx("div",{"data-slot":"alert",role:"alert",className:Ze(f5({variant:e}),t),...n})}function p5({className:t,...e}){return u.jsx("div",{"data-slot":"alert-description",className:Ze("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}var Rh=function(t,e){return Rh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},Rh(t,e)};function f1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Rh(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Bn=function(){return Bn=Object.assign||function(e){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bn.apply(this,arguments)};function bs(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function h1(t,e,n,s){var i=arguments.length,a=i<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,s);else for(var d=t.length-1;d>=0;d--)(l=t[d])&&(a=(i<3?l(a):i>3?l(e,n,a):l(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function p1(t,e){return function(n,s){e(n,s,t)}}function m1(t,e,n,s,i,a){function l(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var d=s.kind,p=d==="getter"?"get":d==="setter"?"set":"value",h=!e&&t?s.static?t:t.prototype:null,m=e||(h?Object.getOwnPropertyDescriptor(h,s.name):{}),g,x=!1,b=n.length-1;b>=0;b--){var S={};for(var _ in s)S[_]=_==="access"?{}:s[_];for(var _ in s.access)S.access[_]=s.access[_];S.addInitializer=function(C){if(x)throw new TypeError("Cannot add initializers after decoration has completed");a.push(l(C||null))};var j=(0,n[b])(d==="accessor"?{get:m.get,set:m.set}:m[p],S);if(d==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(g=l(j.get))&&(m.get=g),(g=l(j.set))&&(m.set=g),(g=l(j.init))&&i.unshift(g)}else(g=l(j))&&(d==="field"?i.unshift(g):m[p]=g)}h&&Object.defineProperty(h,s.name,m),x=!0}function g1(t,e,n){for(var s=arguments.length>2,i=0;i<e.length;i++)n=s?e[i].call(t,n):e[i].call(t);return s?n:void 0}function v1(t){return typeof t=="symbol"?t:"".concat(t)}function y1(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function x1(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function _e(t,e,n,s){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(m){try{h(s.next(m))}catch(g){l(g)}}function p(m){try{h(s.throw(m))}catch(g){l(g)}}function h(m){m.done?a(m.value):i(m.value).then(d,p)}h((s=s.apply(t,e||[])).next())})}function w1(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=d(0),l.throw=d(1),l.return=d(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(h){return function(m){return p([h,m])}}function p(h){if(s)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(n=0)),n;)try{if(s=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(m){h=[6,m],i=0}finally{s=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var ou=Object.create?(function(t,e,n,s){s===void 0&&(s=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,s,i)}):(function(t,e,n,s){s===void 0&&(s=n),t[s]=e[n]});function b1(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&ou(e,t,n)}function Vc(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zp(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var s=n.call(t),i,a=[],l;try{for(;(e===void 0||e-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(d){l={error:d}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(l)throw l.error}}return a}function S1(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(zp(arguments[e]));return t}function _1(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var s=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],l=0,d=a.length;l<d;l++,i++)s[i]=a[l];return s}function Wp(t,e,n){if(n||arguments.length===2)for(var s=0,i=e.length,a;s<i;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))}function ii(t){return this instanceof ii?(this.v=t,this):new ii(t)}function k1(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(b){return function(S){return Promise.resolve(S).then(b,g)}}function d(b,S){s[b]&&(i[b]=function(_){return new Promise(function(j,C){a.push([b,_,j,C])>1||p(b,_)})},S&&(i[b]=S(i[b])))}function p(b,S){try{h(s[b](S))}catch(_){x(a[0][3],_)}}function h(b){b.value instanceof ii?Promise.resolve(b.value.v).then(m,g):x(a[0][2],b)}function m(b){p("next",b)}function g(b){p("throw",b)}function x(b,S){b(S),a.shift(),a.length&&p(a[0][0],a[0][1])}}function j1(t){var e,n;return e={},s("next"),s("throw",function(i){throw i}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(i,a){e[i]=t[i]?function(l){return(n=!n)?{value:ii(t[i](l)),done:!1}:a?a(l):l}:a}}function C1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Vc=="function"?Vc(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(a){n[a]=t[a]&&function(l){return new Promise(function(d,p){l=t[a](l),i(d,p,l.done,l.value)})}}function i(a,l,d,p){Promise.resolve(p).then(function(h){a({value:h,done:d})},l)}}function E1(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var m5=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Oh=function(t){return Oh=Object.getOwnPropertyNames||function(e){var n=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[n.length]=s);return n},Oh(t)};function N1(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Oh(t),s=0;s<n.length;s++)n[s]!=="default"&&ou(e,t,n[s]);return m5(e,t),e}function T1(t){return t&&t.__esModule?t:{default:t}}function P1(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)}function A1(t,e,n,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function R1(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function O1(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],n&&(i=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");i&&(s=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:s,async:n})}else n&&t.stack.push({async:!0});return e}var g5=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var s=new Error(n);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function I1(t){function e(a){t.error=t.hasError?new g5(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var n,s=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&s===1)return s=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return s|=2,Promise.resolve(a).then(i,function(l){return e(l),i()})}else s|=1}catch(l){e(l)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function M1(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,s,i,a,l){return s?e?".jsx":".js":i&&(!a||!l)?n:i+a+"."+l.toLowerCase()+"js"}):t}const v5={__extends:f1,__assign:Bn,__rest:bs,__decorate:h1,__param:p1,__esDecorate:m1,__runInitializers:g1,__propKey:v1,__setFunctionName:y1,__metadata:x1,__awaiter:_e,__generator:w1,__createBinding:ou,__exportStar:b1,__values:Vc,__read:zp,__spread:S1,__spreadArrays:_1,__spreadArray:Wp,__await:ii,__asyncGenerator:k1,__asyncDelegator:j1,__asyncValues:C1,__makeTemplateObject:E1,__importStar:N1,__importDefault:T1,__classPrivateFieldGet:P1,__classPrivateFieldSet:A1,__classPrivateFieldIn:R1,__addDisposableResource:O1,__disposeResources:I1,__rewriteRelativeImportExtension:M1},y5=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:O1,get __assign(){return Bn},__asyncDelegator:j1,__asyncGenerator:k1,__asyncValues:C1,__await:ii,__awaiter:_e,__classPrivateFieldGet:P1,__classPrivateFieldIn:R1,__classPrivateFieldSet:A1,__createBinding:ou,__decorate:h1,__disposeResources:I1,__esDecorate:m1,__exportStar:b1,__extends:f1,__generator:w1,__importDefault:T1,__importStar:N1,__makeTemplateObject:E1,__metadata:x1,__param:p1,__propKey:v1,__read:zp,__rest:bs,__rewriteRelativeImportExtension:M1,__runInitializers:g1,__setFunctionName:y1,__spread:S1,__spreadArray:Wp,__spreadArrays:_1,__values:Vc,default:v5},Symbol.toStringTag,{value:"Module"})),x5="modulepreload",w5=function(t){return"/aurora-link/"+t},H0={},yi=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");i=l(n.map(h=>{if(h=w5(h),h in H0)return;H0[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":x5,m||(x.as="script"),x.crossOrigin="",x.href=h,p&&x.setAttribute("nonce",p),document.head.appendChild(x),m)return new Promise((b,S)=>{x.addEventListener("load",b),x.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return i.then(l=>{for(const d of l||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},b5=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yi(async()=>{const{default:s}=await Promise.resolve().then(()=>oo);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class Hp extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class K0 extends Hp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class G0 extends Hp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class q0 extends Hp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ih;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ih||(Ih={}));class S5{constructor(e,{headers:n={},customFetch:s,region:i=Ih.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=b5(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return _e(this,arguments,void 0,function*(n,s={}){var i;try{const{headers:a,method:l,body:d,signal:p}=s;let h={},{region:m}=s;m||(m=this.region);const g=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let x;d&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=d):typeof d=="string"?(h["Content-Type"]="text/plain",x=d):typeof FormData<"u"&&d instanceof FormData?x=d:(h["Content-Type"]="application/json",x=JSON.stringify(d)):x=d;const b=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:x,signal:p}).catch(C=>{throw C.name==="AbortError"?C:new K0(C)}),S=b.headers.get("x-relay-error");if(S&&S==="true")throw new G0(b);if(!b.ok)throw new q0(b);let _=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return _==="application/json"?j=yield b.json():_==="application/octet-stream"||_==="application/pdf"?j=yield b.blob():_==="text/event-stream"?j=b:_==="multipart/form-data"?j=yield b.formData():j=yield b.text(),{data:j,error:null,response:b}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new K0(a)}:{data:null,error:a,response:a instanceof q0||a instanceof G0?a.context:void 0}}})}}var tn={};const xi=sw(y5);var cc={},uc={},dc={},fc={},hc={},_5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ai=_5();const k5=ai.fetch,D1=ai.fetch.bind(ai),L1=ai.Headers,j5=ai.Request,C5=ai.Response,oo=Object.freeze(Object.defineProperty({__proto__:null,Headers:L1,Request:j5,Response:C5,default:D1,fetch:k5},Symbol.toStringTag,{value:"Module"})),E5=sw(oo);var pc={},Y0;function $1(){if(Y0)return pc;Y0=1,Object.defineProperty(pc,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return pc.default=t,pc}var J0;function F1(){if(J0)return hc;J0=1,Object.defineProperty(hc,"__esModule",{value:!0});const t=xi,e=t.__importDefault(E5),n=t.__importDefault($1());class s{constructor(a){var l,d;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(d=a.isMaybeSingle)!==null&&d!==void 0?d:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let p=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,g,x,b;let S=null,_=null,j=null,C=h.status,T=h.statusText;if(h.ok){if(this.method!=="HEAD"){const I=await h.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?_=I:_=JSON.parse(I))}const N=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),P=(x=h.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");N&&P&&P.length>1&&(j=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(S={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,j=null,C=406,T="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const N=await h.text();try{S=JSON.parse(N),Array.isArray(S)&&h.status===404&&(_=[],S=null,C=200,T="OK")}catch{h.status===404&&N===""?(C=204,T="No Content"):S={message:N}}if(S&&this.isMaybeSingle&&(!((b=S?.details)===null||b===void 0)&&b.includes("0 rows"))&&(S=null,C=200,T="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:_,count:j,status:C,statusText:T}});return this.shouldThrowOnError||(p=p.catch(h=>{var m,g,x;return{error:{message:`${(m=h?.name)!==null&&m!==void 0?m:"FetchError"}: ${h?.message}`,details:`${(g=h?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(x=h?.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),p.then(a,l)}returns(){return this}overrideTypes(){return this}}return hc.default=s,hc}var X0;function V1(){if(X0)return fc;X0=1,Object.defineProperty(fc,"__esModule",{value:!0});const e=xi.__importDefault(F1());class n extends e.default{select(i){let a=!1;const l=(i??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:d,referencedTable:p=d}={}){const h=p?`${p}.order`:"order",m=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${m?`${m},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:d=l}={}){const p=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(p,`${i}`),this.url.searchParams.set(h,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:d=!1,wal:p=!1,format:h="text"}={}){var m;const g=[i?"analyze":null,a?"verbose":null,l?"settings":null,d?"buffers":null,p?"wal":null].filter(Boolean).join("|"),x=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${x}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return fc.default=n,fc}var Q0;function Kp(){if(Q0)return dc;Q0=1,Object.defineProperty(dc,"__esModule",{value:!0});const e=xi.__importDefault(V1()),n=new RegExp("[,()]");class s extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const d=Array.from(new Set(l)).map(p=>typeof p=="string"&&n.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:d,type:p}={}){let h="";p==="plain"?h="pl":p==="phrase"?h="ph":p==="websearch"&&(h="w");const m=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${h}fts${m}.${l}`),this}match(a){return Object.entries(a).forEach(([l,d])=>{this.url.searchParams.append(l,`eq.${d}`)}),this}not(a,l,d){return this.url.searchParams.append(a,`not.${l}.${d}`),this}or(a,{foreignTable:l,referencedTable:d=l}={}){const p=d?`${d}.or`:"or";return this.url.searchParams.append(p,`(${a})`),this}filter(a,l,d){return this.url.searchParams.append(a,`${l}.${d}`),this}}return dc.default=s,dc}var Z0;function B1(){if(Z0)return uc;Z0=1,Object.defineProperty(uc,"__esModule",{value:!0});const e=xi.__importDefault(Kp());class n{constructor(i,{headers:a={},schema:l,fetch:d}){this.url=i,this.headers=new Headers(a),this.schema=l,this.fetch=d}select(i,a){const{head:l=!1,count:d}=a??{},p=l?"HEAD":"GET";let h=!1;const m=(i??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",m),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:l=!0}={}){var d;const p="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:d,defaultToNull:p=!0}={}){var h;const m="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(g.length>0){const x=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:a}={}){var l;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var a;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return uc.default=n,uc}var ex;function N5(){if(ex)return cc;ex=1,Object.defineProperty(cc,"__esModule",{value:!0});const t=xi,e=t.__importDefault(B1()),n=t.__importDefault(Kp());class s{constructor(a,{headers:l={},schema:d,fetch:p}={}){this.url=a,this.headers=new Headers(l),this.schemaName=d,this.fetch=p}from(a){const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new s(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:d=!1,get:p=!1,count:h}={}){var m;let g;const x=new URL(`${this.url}/rpc/${a}`);let b;d||p?(g=d?"HEAD":"GET",Object.entries(l).filter(([_,j])=>j!==void 0).map(([_,j])=>[_,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([_,j])=>{x.searchParams.append(_,j)})):(g="POST",b=l);const S=new Headers(this.headers);return h&&S.set("Prefer",`count=${h}`),new n.default({method:g,url:x,headers:S,schema:this.schemaName,body:b,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return cc.default=s,cc}var tx;function T5(){if(tx)return tn;tx=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.PostgrestError=tn.PostgrestBuilder=tn.PostgrestTransformBuilder=tn.PostgrestFilterBuilder=tn.PostgrestQueryBuilder=tn.PostgrestClient=void 0;const t=xi,e=t.__importDefault(N5());tn.PostgrestClient=e.default;const n=t.__importDefault(B1());tn.PostgrestQueryBuilder=n.default;const s=t.__importDefault(Kp());tn.PostgrestFilterBuilder=s.default;const i=t.__importDefault(V1());tn.PostgrestTransformBuilder=i.default;const a=t.__importDefault(F1());tn.PostgrestBuilder=a.default;const l=t.__importDefault($1());return tn.PostgrestError=l.default,tn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:l.default},tn}var U1=T5();const z1=np(U1),P5=rw({__proto__:null,default:z1},[U1]),{PostgrestClient:A5,PostgrestQueryBuilder:b$,PostgrestFilterBuilder:S$,PostgrestTransformBuilder:_$,PostgrestBuilder:k$,PostgrestError:j$}=z1||P5;class R5{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const O5="2.78.0",I5=`realtime-js/${O5}`,M5="1.0.0",Mh=1e4,D5=1e3,L5=100;var wa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(wa||(wa={}));var Rt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Rt||(Rt={}));var rr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(rr||(rr={}));var Dh;(function(t){t.websocket="websocket"})(Dh||(Dh={}));var zs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(zs||(zs={}));class $5{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const i=n.getUint8(1),a=n.getUint8(2);let l=this.HEADER_LENGTH+2;const d=s.decode(e.slice(l,l+i));l=l+i;const p=s.decode(e.slice(l,l+a));l=l+a;const h=JSON.parse(s.decode(e.slice(l,e.byteLength)));return{ref:null,topic:d,event:p,payload:h}}}class W1{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var it;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(it||(it={}));const nx=(t,e,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=F5(l,t,e,i),a),{}):{}},F5=(t,e,n,s)=>{const i=e.find(d=>d.name===t),a=i?.type,l=n[t];return a&&!s.includes(a)?H1(a,l):Lh(l)},H1=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return z5(e,n)}switch(t){case it.bool:return V5(e);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return B5(e);case it.json:case it.jsonb:return U5(e);case it.timestamp:return W5(e);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return Lh(e);default:return Lh(e)}},Lh=t=>t,V5=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},B5=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},U5=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},z5=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let a;const l=t.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(d=>H1(e,d))}return t},W5=t=>typeof t=="string"?t.replace(" ","T"):t,K1=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Af{constructor(e,n,s={},i=Mh){this.channel=e,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var rx;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(rx||(rx={}));class ba{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:a,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ba.syncState(this.state,i,a,l),this.pendingDiffs.forEach(p=>{this.state=ba.syncDiff(this.state,p,a,l)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ba.syncDiff(this.state,i,a,l),d())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,i){const a=this.cloneDeep(e),l=this.transformState(n),d={},p={};return this.map(a,(h,m)=>{l[h]||(p[h]=m)}),this.map(l,(h,m)=>{const g=a[h];if(g){const x=m.map(j=>j.presence_ref),b=g.map(j=>j.presence_ref),S=m.filter(j=>b.indexOf(j.presence_ref)<0),_=g.filter(j=>x.indexOf(j.presence_ref)<0);S.length>0&&(d[h]=S),_.length>0&&(p[h]=_)}else d[h]=m}),this.syncDiff(a,{joins:d,leaves:p},s,i)}static syncDiff(e,n,s,i){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(a,(d,p)=>{var h;const m=(h=e[d])!==null&&h!==void 0?h:[];if(e[d]=this.cloneDeep(p),m.length>0){const g=e[d].map(b=>b.presence_ref),x=m.filter(b=>g.indexOf(b.presence_ref)<0);e[d].unshift(...x)}s(d,m,p)}),this.map(l,(d,p)=>{let h=e[d];if(!h)return;const m=p.map(g=>g.presence_ref);h=h.filter(g=>m.indexOf(g.presence_ref)<0),e[d]=h,i(d,h,p),h.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const i=e[s];return"metas"in i?n[s]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sx;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(sx||(sx={}));var Sa;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Sa||(Sa={}));var Rr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Rr||(Rr={}));class Gp{constructor(e,n={config:{}},s){var i,a;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Af(this,rr.join,this.params,this.timeout),this.rejoinTimer=new W1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rr.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new ba(this),this.broadcastEndpointURL=K1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Rt.closed){const{config:{broadcast:l,presence:d,private:p}}=this.params,h=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(b=>b.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[Sa.PRESENCE]&&this.bindings[Sa.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,g={},x={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:h,private:p};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(Rr.CHANNEL_ERROR,b)),this._onClose(()=>e?.(Rr.CLOSED)),this.updateJoinPayload(Object.assign({config:x},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var S;if(this.socket.setAuth(),b===void 0){e?.(Rr.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,j=(S=_?.length)!==null&&S!==void 0?S:0,C=[];for(let T=0;T<j;T++){const E=_[T],{filter:{event:N,schema:P,table:I,filter:D}}=E,F=b&&b[T];if(F&&F.event===N&&F.schema===P&&F.table===I&&F.filter===D)C.push(Object.assign(Object.assign({},E),{id:F.id}));else{this.unsubscribe(),this.state=Rt.errored,e?.(Rr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Rr.SUBSCRIBED);return}}).receive("error",b=>{this.state=Rt.errored,e?.(Rr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(Rr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===Rt.joined&&e===Sa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let p=d.statusText;try{const h=await d.json();p=h.error||h.message||p}catch{}return Promise.reject(new Error(p))}async send(e,n={}){var s,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,d,p;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Rt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new Af(this,rr.leave,{},e),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Rt.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const i=new AbortController,a=setTimeout(()=>i.abort(),s),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),l}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Af(this,e,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>L5){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var i,a;const l=e.toLocaleLowerCase(),{close:d,error:p,leave:h,join:m}=rr;if(s&&[d,p,h,m].indexOf(l)>=0&&s!==this._joinRef())return;let x=this._onMessage(l,n,s);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var S,_,j;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((j=(_=b.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(b=>b.callback(x,s)):(a=this.bindings[l])===null||a===void 0||a.filter(b=>{var S,_,j,C,T,E;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const N=b.id,P=(S=b.filter)===null||S===void 0?void 0:S.event;return N&&((_=n.ids)===null||_===void 0?void 0:_.includes(N))&&(P==="*"||P?.toLocaleLowerCase()===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const N=(T=(C=b?.filter)===null||C===void 0?void 0:C.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return N==="*"||N===((E=n?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof x=="object"&&"ids"in x){const S=x.data,{schema:_,table:j,commit_timestamp:C,type:T,errors:E}=S;x=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:C,eventType:T,new:{},old:{},errors:E}),this._getPayloadRecords(S))}b.callback(x,s)})}_isClosed(){return this.state===Rt.closed}_isJoined(){return this.state===Rt.joined}_isJoining(){return this.state===Rt.joining}_isLeaving(){return this.state===Rt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&Gp.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rr.close,{},e)}_onError(e){this._on(rr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=nx(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=nx(e.columns,e.old_record)),n}}const Rf=()=>{},mc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},H5=[1e3,2e3,5e3,1e4],K5=1e4,G5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class q5{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mh,this.transport=null,this.heartbeatIntervalMs=mc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rf,this.ref=0,this.reconnectTimer=null,this.logger=Rf,this.conn=null,this.sendBuffer=[],this.serializer=new $5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>yi(async()=>{const{default:d}=await Promise.resolve().then(()=>oo);return{default:d}},void 0).then(({default:d})=>d(...l)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Dh.websocket}`,this.httpEndpoint=K1(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=R5.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:M5}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case wa.connecting:return zs.Connecting;case wa.open:return zs.Open;case wa.closing:return zs.Closing;default:return zs.Closed}}isConnected(){return this.connectionState()===zs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===s);if(i)return i;{const a=new Gp(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:s,payload:i,ref:a}=e,l=()=>{this.encode(e,d=>{var p;(p=this.conn)===null||p===void 0||p.send(d)})};this.log("push",`${n} ${s} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(D5,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},mc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:a,ref:l}=n,d=l?`(${l})`:"",p=a.status||"";this.log("receive",`${p} ${s} ${i} ${d}`.trim(),a),this.channels.filter(h=>h._isMember(s)).forEach(h=>h._trigger(i,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(rr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${s}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([G5],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:I5};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(rr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new W1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,i,a,l,d,p,h,m;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Mh,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:mc.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Rf,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(g=>H5[g-1]||K5),this.encode=(h=e?.encode)!==null&&h!==void 0?h:((g,x)=>x(JSON.stringify(g))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class qp extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ht(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Y5 extends qp{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $h extends qp{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Yp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yi(async()=>{const{default:s}=await Promise.resolve().then(()=>oo);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},J5=()=>_e(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yi(()=>Promise.resolve().then(()=>oo),void 0)).Response:Response}),Fh=t=>{if(Array.isArray(t))return t.map(n=>Fh(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Fh(s)}),e},X5=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Of=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Q5=(t,e,n)=>_e(void 0,void 0,void 0,function*(){const s=yield J5();t instanceof s&&!n?.noResolveJson?t.json().then(i=>{const a=t.status||500,l=i?.statusCode||a+"";e(new Y5(Of(i),a,l))}).catch(i=>{e(new $h(Of(i),i))}):e(new $h(Of(t),t))}),Z5=(t,e,n,s)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!s?i:(X5(s)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(s)):i.body=s,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Ua(t,e,n,s,i,a){return _e(this,void 0,void 0,function*(){return new Promise((l,d)=>{t(n,Z5(e,s,i,a)).then(p=>{if(!p.ok)throw p;return s?.noResolveJson?p:p.json()}).then(p=>l(p)).catch(p=>Q5(p,d,s))})})}function Ta(t,e,n,s){return _e(this,void 0,void 0,function*(){return Ua(t,"GET",e,n,s)})}function nr(t,e,n,s,i){return _e(this,void 0,void 0,function*(){return Ua(t,"POST",e,s,i,n)})}function Vh(t,e,n,s,i){return _e(this,void 0,void 0,function*(){return Ua(t,"PUT",e,s,i,n)})}function eO(t,e,n,s){return _e(this,void 0,void 0,function*(){return Ua(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Jp(t,e,n,s,i){return _e(this,void 0,void 0,function*(){return Ua(t,"DELETE",e,s,i,n)})}class tO{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return _e(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ht(e))return{data:null,error:e};throw e}})}}var G1;class nO{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[G1]="BlobDownloadBuilder",this.promise=null}asStream(){return new tO(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _e(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ht(e))return{data:null,error:e};throw e}})}}G1=Symbol.toStringTag;const rO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ox={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sO{constructor(e,n={},s,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=Yp(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,i){return _e(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},ox),i);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const p=l.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),p&&a.append("metadata",this.encodeMetadata(p)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",l.cacheControl),p&&a.append("metadata",this.encodeMetadata(p))):(a=s,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,p&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const h=this._removeEmptyFolders(n),m=this._getFinalPath(h),g=yield(e=="PUT"?Vh:nr)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:d},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}upload(e,n,s){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,i){return _e(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",n);try{let p;const h=Object.assign({upsert:ox.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",h.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",h.cacheControl)):(p=s,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const g=yield Vh(this.fetch,d.toString(),p,{headers:m});return{data:{path:a,fullPath:g.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(ht(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return _e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield nr(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),l=new URL(this.url+a.url),d=l.searchParams.get("token");if(!d)throw new qp("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ht(s))return{data:null,error:s};throw s}})}update(e,n,s){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return _e(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}copy(e,n,s){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield nr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,s){return _e(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield nr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,s){return _e(this,void 0,void 0,function*(){try{const i=yield nr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),l=a?`?${a}`:"",d=this._getFinalPath(e),p=()=>Ta(this.fetch,`${this.url}/${i}/${d}${l}`,{headers:this.headers,noResolveJson:!0});return new nO(p,this.shouldThrowOnError)}info(e){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield Ta(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Fh(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ht(s))return{data:null,error:s};throw s}})}exists(e){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield eO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ht(s)&&s instanceof $h){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const d=typeof n?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(n?.transform||{});p!==""&&i.push(p);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${h}`)}}}remove(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Jp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}list(e,n,s){return _e(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},rO),n),{prefix:e||""});return{data:yield nr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}listV2(e,n){return _e(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield nr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ht(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const q1="2.78.0",Y1={"X-Client-Info":`storage-js/${q1}`};class oO{constructor(e,n={},s,i){this.shouldThrowOnError=!1;const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Y1),n),this.fetch=Yp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return _e(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Ta(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}getBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Ta(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}createBucket(e){return _e(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield nr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return _e(this,void 0,void 0,function*(){try{return{data:yield Vh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ht(s))return{data:null,error:s};throw s}})}emptyBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}deleteBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Jp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class iO{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Y1),n),this.fetch=Yp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}listBuckets(e){return _e(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const s=n.toString(),i=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Ta(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}deleteBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Jp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}}const Xp={"X-Client-Info":`storage-js/${q1}`,"Content-Type":"application/json"};class J1 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Cn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class If extends J1{constructor(e,n,s){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class aO extends J1{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var ix;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(ix||(ix={}));const Qp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yi(async()=>{const{default:s}=await Promise.resolve().then(()=>oo);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},lO=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ax=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cO=(t,e,n)=>_e(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(l=>{const d=l?.statusCode||l?.code||i+"";e(new If(ax(l),i,d))}).catch(()=>{const l=i+"",d=a.statusText||`HTTP ${i} error`;e(new If(d,i,l))});else{const l=i+"",d=a.statusText||`HTTP ${i} error`;e(new If(d,i,l))}}else e(new aO(ax(t),t))}),uO=(t,e,n,s)=>{const i={method:t,headers:e?.headers||{}};return s?(lO(s)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(s)):i.body=s,Object.assign(Object.assign({},i),n)):i};function dO(t,e,n,s,i,a){return _e(this,void 0,void 0,function*(){return new Promise((l,d)=>{t(n,uO(e,s,i,a)).then(p=>{if(!p.ok)throw p;if(s?.noResolveJson)return p;const h=p.headers.get("content-type");return!h||!h.includes("application/json")?{}:p.json()}).then(p=>l(p)).catch(p=>cO(p,d,s))})})}function En(t,e,n,s,i){return _e(this,void 0,void 0,function*(){return dO(t,"POST",e,s,i,n)})}class fO{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xp),n),this.fetch=Qp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return _e(this,void 0,void 0,function*(){try{return{data:(yield En(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return _e(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Cn(s))return{data:null,error:s};throw s}})}listIndexes(e){return _e(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return _e(this,void 0,void 0,function*(){try{return{data:(yield En(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Cn(s))return{data:null,error:s};throw s}})}}class hO{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xp),n),this.fetch=Qp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return _e(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield En(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}getVectors(e){return _e(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}listVectors(e){return _e(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield En(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}queryVectors(e){return _e(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return _e(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield En(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}}class pO{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xp),n),this.fetch=Qp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:(yield En(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}getBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}listBuckets(){return _e(this,arguments,void 0,function*(e={}){try{return{data:yield En(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:(yield En(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}}class mO extends pO{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new gO(this.url,this.headers,e,this.fetch)}}class gO extends fO{constructor(e,n,s,i){super(e,n,i),this.vectorBucketName=s}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _e(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _e(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _e(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _e(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new vO(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class vO extends hO{constructor(e,n,s,i,a){super(e,n,a),this.vectorBucketName=s,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _e(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _e(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _e(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _e(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _e(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class yO extends oO{constructor(e,n={},s,i){super(e,n,s,i)}from(e){return new sO(this.url,this.headers,e,this.fetch)}get vectors(){return new mO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new iO(this.url+"/iceberg",this.headers,this.fetch)}}const xO="2.78.0";let da="";typeof Deno<"u"?da="deno":typeof document<"u"?da="web":typeof navigator<"u"&&navigator.product==="ReactNative"?da="react-native":da="node";const wO={"X-Client-Info":`supabase-js-${da}/${xO}`},bO={headers:wO},SO={schema:"public"},_O={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kO={},jO=t=>{let e;return t?e=t:typeof fetch>"u"?e=D1:e=fetch,(...n)=>e(...n)},CO=()=>typeof Headers>"u"?L1:Headers,EO=(t,e,n)=>{const s=jO(n),i=CO();return async(a,l)=>{var d;const p=(d=await e())!==null&&d!==void 0?d:t;let h=new i(l?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${p}`),s(a,Object.assign(Object.assign({},l),{headers:h}))}};function NO(t){return t.endsWith("/")?t:t+"/"}function TO(t,e){var n,s;const{db:i,auth:a,realtime:l,global:d}=t,{db:p,auth:h,realtime:m,global:g}=e,x={db:Object.assign(Object.assign({},p),i),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},m),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),d),{headers:Object.assign(Object.assign({},(n=g?.headers)!==null&&n!==void 0?n:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function PO(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(NO(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const X1="2.78.0",Bo=30*1e3,Bh=3,Mf=Bh*Bo,AO="http://localhost:9999",RO="supabase.auth.token",OO={"X-Client-Info":`gotrue-js/${X1}`},Uh="X-Supabase-Api-Version",Q1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},IO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,MO=600*1e3;class Pa extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Ce(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class DO extends Pa{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function LO(t){return Ce(t)&&t.name==="AuthApiError"}class Ws extends Pa{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ss extends Pa{constructor(e,n,s,i){super(e,s,i),this.name=n,this.status=s}}class Zn extends Ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $O(t){return Ce(t)&&t.name==="AuthSessionMissingError"}class Ro extends Ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gc extends Ss{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vc extends Ss{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FO(t){return Ce(t)&&t.name==="AuthImplicitGrantRedirectError"}class lx extends Ss{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zh extends Ss{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Df(t){return Ce(t)&&t.name==="AuthRetryableFetchError"}class cx extends Ss{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Wh extends Ss{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ux=` 	
\r=`.split(""),VO=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ux.length;e+=1)t[ux[e].charCodeAt(0)]=-2;for(let e=0;e<Bc.length;e+=1)t[Bc[e].charCodeAt(0)]=e;return t})();function dx(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Bc[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Bc[s]),e.queuedBits-=6}}function Z1(t,e,n){const s=VO[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function fx(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{zO(l,s,n)};for(let l=0;l<t.length;l+=1)Z1(t.charCodeAt(l),i,a);return e.join("")}function BO(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function UO(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}BO(s,e)}}function zO(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Qo(t){const e=[],n={queue:0,queuedBits:0},s=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Z1(t.charCodeAt(i),n,s);return new Uint8Array(e)}function WO(t){const e=[];return UO(t,n=>e.push(n)),new Uint8Array(e)}function qs(t){const e=[],n={queue:0,queuedBits:0},s=i=>{e.push(i)};return t.forEach(i=>dx(i,n,s)),dx(null,n,s),e.join("")}function HO(t){return Math.round(Date.now()/1e3)+t}function KO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const on=()=>typeof window<"u"&&typeof document<"u",Fs={tested:!1,writable:!1},eS=()=>{if(!on())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fs.tested)return Fs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Fs.tested=!0,Fs.writable=!0}catch{Fs.tested=!0,Fs.writable=!1}return Fs.writable};function GO(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((s,i)=>{e[i]=s}),e}const tS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yi(async()=>{const{default:s}=await Promise.resolve().then(()=>oo);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},qO=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Uo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Vs=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},us=async(t,e)=>{await t.removeItem(e)};class iu{constructor(){this.promise=new iu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}iu.promiseConstructor=Promise;function Lf(t){const e=t.split(".");if(e.length!==3)throw new Wh("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!IO.test(e[s]))throw new Wh("JWT not in base64url format");return{header:JSON.parse(fx(e[0])),payload:JSON.parse(fx(e[1])),signature:Qo(e[2]),raw:{header:e[0],payload:e[1]}}}async function YO(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function JO(t,e){return new Promise((s,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){s(l);return}}catch(l){if(!e(a,l)){i(l);return}}})()})}function XO(t){return("0"+t.toString(16)).substr(-2)}function QO(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(e),Array.from(e,XO).join("")}async function ZO(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function eI(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ZO(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Oo(t,e,n=!1){const s=QO();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Uo(t,`${e}-code-verifier`,i);const a=await eI(s);return[a,s===a?"plain":"s256"]}const tI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nI(t){const e=t.headers.get(Uh);if(!e||!e.match(tI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function rI(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function sI(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Io(t){if(!oI.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $f(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function iI(t,e){return new Proxy(t,{get:(n,s,i)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,i)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,i)}})}function hx(t){return JSON.parse(JSON.stringify(t))}const Us=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),aI=[502,503,504];async function px(t){var e;if(!qO(t))throw new zh(Us(t),0);if(aI.includes(t.status))throw new zh(Us(t),t.status);let n;try{n=await t.json()}catch(a){throw new Ws(Us(a),a)}let s;const i=nI(t);if(i&&i.getTime()>=Q1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new cx(Us(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Zn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new cx(Us(n),t.status,n.weak_password.reasons);throw new DO(Us(n),t.status||500,s)}const lI=(t,e,n,s)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function Re(t,e,n,s){var i;const a=Object.assign({},s?.headers);a[Uh]||(a[Uh]=Q1["2024-01-01"].name),s?.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const l=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(l.redirect_to=s.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",p=await cI(t,e,n+d,{headers:a,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(p):{data:Object.assign({},p),error:null}}async function cI(t,e,n,s,i,a){const l=lI(e,s,i,a);let d;try{d=await t(n,Object.assign({},l))}catch(p){throw console.error(p),new zh(Us(p),0)}if(d.ok||await px(d),s?.noResolveJson)return d;try{return await d.json()}catch(p){await px(p)}}function er(t){var e;let n=null;fI(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=HO(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function mx(t){const e=er(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function hs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function uI(t){return{data:t,error:null}}function dI(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a}=t,l=bs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a},p=Object.assign({},l);return{data:{properties:d,user:p},error:null}}function gx(t){return t}function fI(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ff=["global","local","others"];class hI{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=tS(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Ff[0]){if(Ff.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ff.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hs})}catch(s){if(Ce(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=bs(e,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:dI,redirectTo:n?.redirectTo})}catch(n){if(Ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:hs})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,i,a,l,d,p;try{const h={nextPage:null,lastPage:0,total:0},m=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:gx});if(m.error)throw m.error;const g=await m.json(),x=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(p=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);h[`${j}Page`]=_}),h.total=parseInt(x)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ce(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Io(e);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:hs})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Io(e);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:hs})}catch(s){if(Ce(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Io(e);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:hs})}catch(s){if(Ce(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Io(e.userId);try{const{data:n,error:s}=await Re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Io(e.userId),Io(e.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,i,a,l,d,p;try{const h={nextPage:null,lastPage:0,total:0},m=await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:gx});if(m.error)throw m.error;const g=await m.json(),x=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(p=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);h[`${j}Page`]=_}),h.total=parseInt(x)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ce(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Ce(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}}function vx(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Mo={debug:!!(globalThis&&eS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class pI extends nS{}async function mI(t,e,n){Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new pI(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Mo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function gI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function rS(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function vI(t){return parseInt(t,16)}function yI(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function xI(t){var e;const{chainId:n,domain:s,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:d,requestId:p,resources:h,scheme:m,uri:g,version:x}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=rS(t.address),S=m?`${m}://${s}`:s,_=t.statement?`${t.statement}
`:"",j=`${S} wants you to sign in with your Ethereum account:
${b}

${_}`;let C=`URI: ${g}
Version: ${x}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),p&&(C+=`
Request ID: ${p}`),h){let T=`
Resources:`;for(const E of h){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);T+=`
- ${E}`}C+=T}return`${j}
${C}`}class Ct extends Error{constructor({message:e,code:n,cause:s,name:i}){var a;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(a=i??(s instanceof Error?s.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Uc extends Ct{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function wI({error:t,options:e}){var n,s,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(sS(l)){if(a.rp.id!==l)return new Ct({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function bI({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(sS(s)){if(n.rpId!==s)return new Ct({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class SI{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const _I=new SI;function kI(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,i=bs(t,["challenge","user","excludeCredentials"]),a=Qo(e).buffer,l=Object.assign(Object.assign({},n),{id:Qo(n.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:a,user:l});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let p=0;p<s.length;p++){const h=s[p];d.excludeCredentials[p]=Object.assign(Object.assign({},h),{id:Qo(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function jI(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=bs(t,["challenge","allowCredentials"]),i=Qo(e).buffer,a=Object.assign(Object.assign({},s),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const d=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},d),{id:Qo(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function CI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:qs(new Uint8Array(t.response.attestationObject)),clientDataJSON:qs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function EI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:qs(new Uint8Array(i.authenticatorData)),clientDataJSON:qs(new Uint8Array(i.clientDataJSON)),signature:qs(new Uint8Array(i.signature)),userHandle:i.userHandle?qs(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sS(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function yx(){var t,e;return!!(on()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function NI(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Uc("Browser returned unexpected credential type",e)}:{data:null,error:new Uc("Empty credential response",e)}}catch(e){return{data:null,error:wI({error:e,options:t})}}}async function TI(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Uc("Browser returned unexpected credential type",e)}:{data:null,error:new Uc("Empty credential response",e)}}catch(e){return{data:null,error:bI({error:e,options:t})}}}const PI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},AI={userVerification:"preferred",hints:["security-key"]};function zc(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),s={};for(const i of t)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))s[a]=l;else if(n(l))s[a]=l;else if(e(l)){const d=s[a];e(d)?s[a]=zc(d,l):s[a]=zc(l)}else s[a]=l}return s}function RI(t,e){return zc(PI,t,e||{})}function OI(t,e){return zc(AI,t,e||{})}class II{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:i},a){try{const{data:l,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!l)return{data:null,error:d};const p=i??_I.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${s}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=RI(l.webauthn.credential_options.publicKey,a?.create),{data:m,error:g}=await NI({publicKey:h,signal:p});return m?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const h=OI(l.webauthn.credential_options.publicKey,a?.request),{data:m,error:g}=await TI(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:p}));return m?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(l){return Ce(l)?{data:null,error:l}:{data:null,error:new Ws("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!n)return{data:null,error:new Pa("rpId is required for WebAuthn authentication")};try{if(!yx())return{data:null,error:new Ws("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:i},{request:a});if(!l)return{data:null,error:d};const{webauthn:p}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:s,credential_response:p.credential_response}})}catch(l){return Ce(l)?{data:null,error:l}:{data:null,error:new Ws("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!n)return{data:null,error:new Pa("rpId is required for WebAuthn registration")};try{if(!yx())return{data:null,error:new Ws("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:d};const{data:p,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:i},{create:a});return p?this._verify({factorId:l.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:s,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Ce(l)?{data:null,error:l}:{data:null,error:new Ws("Unexpected error in register",l)}}}}gI();const MI={url:AO,storageKey:RO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:OO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function xx(t,e,n){return await n()}const Do={};class Aa{get jwks(){var e,n;return(n=(e=Do[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Do[this.storageKey]=Object.assign(Object.assign({},Do[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Do[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Do[this.storageKey]=Object.assign(Object.assign({},Do[this.storageKey]),{cachedAt:e})}constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Aa.nextInstanceID,Aa.nextInstanceID+=1,this.instanceID>0&&on()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},MI),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new hI({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=tS(i.fetch),this.lock=i.lock||xx,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:on()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=mI:this.lock=xx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new II(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:eS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vx(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=vx(this.memoryStorage)),on()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${X1}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=GO(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),on()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),FO(a)){const p=(e=a.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ce(n)?{error:n}:{error:new Ws("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,i;try{const a=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:er}),{data:l,error:d}=a;if(d||!l)return{data:{user:null,session:null},error:d};const p=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:h,session:p},error:null}}catch(a){if(Ce(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,s,i;try{let a;if("email"in e){const{email:m,password:g,options:x}=e;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await Oo(this.storage,this.storageKey)),a=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:m,password:g,data:(n=x?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:b,code_challenge_method:S},xform:er})}else if("phone"in e){const{phone:m,password:g,options:x}=e;a=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(s=x?.data)!==null&&s!==void 0?s:{},channel:(i=x?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:er})}else throw new gc("You must provide either an email or phone number and a password");const{data:l,error:d}=a;if(d||!l)return{data:{user:null,session:null},error:d};const p=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:h,session:p},error:null}}catch(a){if(Ce(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:l,options:d}=e;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:mx})}else if("phone"in e){const{phone:a,password:l,options:d}=e;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:mx})}else throw new gc("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Ro}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,i,a,l,d,p,h,m,g,x;let b,S;if("message"in e)b=e.message,S=e.signature;else{const{chain:_,wallet:j,statement:C,options:T}=e;let E;if(on())if(typeof j=="object")E=j;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")E=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=j}const N=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href),P=await E.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=rS(P[0]);let D=(s=T?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!D){const B=await E.request({method:"eth_chainId"});D=vI(B)}const F={domain:N.host,address:I,statement:C,uri:N.href,version:"1",chainId:D,nonce:(i=T?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=T?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=T?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(p=T?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(h=T?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=T?.signInWithEthereum)===null||m===void 0?void 0:m.resources};b=xI(F),S=await E.request({method:"personal_sign",params:[yI(b),I]})}try{const{data:_,error:j}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:S},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:er});if(j)throw j;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Ro}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:j})}catch(_){if(Ce(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(e){var n,s,i,a,l,d,p,h,m,g,x,b;let S,_;if("message"in e)S=e.message,_=e.signature;else{const{chain:j,wallet:C,statement:T,options:E}=e;let N;if(on())if(typeof C=="object")N=C;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))N=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=C}const P=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const I=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),T?{statement:T}:null));let D;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")D=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)D=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)S=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),_=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${P.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(s=E?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=E?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((p=E?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((g=(m=E?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...E.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const I=await N.signMessage(new TextEncoder().encode(S),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=I}}try{const{data:j,error:C}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:qs(_)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:er});if(C)throw C;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Ro}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:C})}catch(j){if(Ce(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await Vs(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:a,error:l}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:er});if(await us(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ro}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(Ce(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:s,token:i,access_token:a,nonce:l}=e,d=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:er}),{data:p,error:h}=d;return h?{data:{user:null,session:null},error:h}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Ro}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:h})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,i,a,l;try{if("email"in e){const{email:d,options:p}=e;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Oo(this.storage,this.storageKey));const{error:g}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=p?.data)!==null&&n!==void 0?n:{},create_user:(s=p?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:d,options:p}=e,{data:h,error:m}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=p?.data)!==null&&i!==void 0?i:{},create_user:(a=p?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(l=p?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:m}}throw new gc("You must provide either an email or phone number.")}catch(d){if(Ce(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var n,s;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:l,error:d}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:er});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const p=l.session,h=l.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:h,session:p},error:null}}catch(i){if(Ce(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,s,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await Oo(this.storage,this.storageKey)),await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:uI})}catch(a){if(Ce(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Zn;const{error:i}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ce(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:i,options:a}=e,{error:l}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:s,type:i,options:a}=e,{data:l,error:d}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new gc("You must provide either an email or phone number and a type")}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Vs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Mf:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const l=await Vs(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=$f()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=iI(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:hs}):await this._useSession(async n=>{var s,i,a;const{data:l,error:d}=n;if(d)throw d;return!(!((s=l.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zn}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:hs})})}catch(n){if(Ce(n))return $O(n)&&(await this._removeSession(),await us(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new Zn;const l=i.session;let d=null,p=null;this.flowType==="pkce"&&e.email!=null&&([d,p]=await Oo(this.storage,this.storageKey));const{data:h,error:m}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:p}),jwt:l.access_token,xform:hs});if(m)throw m;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(s){if(Ce(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Zn;const n=Date.now()/1e3;let s=n,i=!0,a=null;const{payload:l}=Lf(e.access_token);if(l.exp&&(s=l.exp,i=s<=n),i){const{data:d,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:p}=await this._getUser(e.access_token);if(p)throw p;a={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Ce(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:l,error:d}=n;if(d)throw d;e=(s=l.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Zn;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!on())throw new vc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new lx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new lx("No code detected.");const{data:T,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:d,expires_at:p,token_type:h}=e;if(!a||!d||!l||!h)throw new vc("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(d);let x=m+g;p&&(x=parseInt(p));const b=x-m;b*1e3<=Bo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const S=x-g;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,x,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,x,m);const{data:_,error:j}=await this._getUser(a);if(j)throw j;const C={provider_token:s,provider_refresh_token:i,access_token:a,expires_in:g,expires_at:x,refresh_token:l,token_type:h,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(s){if(Ce(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Vs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{error:a};const l=(s=i.session)===null||s===void 0?void 0:s.access_token;if(l){const{error:d}=await this.admin.signOut(l,e);if(d&&!(LO(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await us(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=KO(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,i;try{const{data:{session:a},error:l}=n;if(l)throw l;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Oo(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ce(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:i}=await this._useSession(async a=>{var l,d,p,h,m;const{data:g,error:x}=a;if(x)throw x;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",b,{headers:this.headers,jwt:(m=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return on()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(Ce(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:l,provider:d,token:p,access_token:h,nonce:m}=e,g=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=a?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:p,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:er}),{data:x,error:b}=g;return b?{data:{user:null,session:null},error:b}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new Ro}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),{data:x,error:b})}catch(i){if(Ce(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,i;const{data:a,error:l}=n;if(l)throw l;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await JO(async i=>(i>0&&await YO(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:er})),(i,a)=>{const l=200*Math.pow(2,i);return a&&Df(a)&&Date.now()+l-s<Bo})}catch(s){if(this._debug(n,"error",s),Ce(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),on()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Vs(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Vs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Uo(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l?.user)!==null&&e!==void 0?e:$f()}else if(i&&!i.user&&!i.user){const l=await Vs(this.storage,this.storageKey+"-user");l&&l?.user?(i.user=l.user,await us(this.storage,this.storageKey+"-user"),await Uo(this.storage,this.storageKey,i)):i.user=$f()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Mf;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${Mf}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Df(l)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(i.access_token);!d&&l?.user?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(s,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Zn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new iu;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Zn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(i,"error",a),Ce(a)){const l={data:null,error:a};return Df(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,s=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(p){a.push(p)}});if(await Promise.all(l),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Uo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=hx(i);await Uo(this.storage,this.storageKey,a)}else{const i=hx(n);await Uo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await us(this.storage,this.storageKey),await us(this.storage,this.storageKey+"-code-verifier"),await us(this.storage,this.storageKey+"-user"),this.userStorage&&await us(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&on()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Bo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-e)/Bo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Bo}ms, refresh threshold is ${Bh} ticks`),i<=Bh&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof nS)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!on()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,l]=await Oo(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(d.toString())}if(s?.queryParams){const a=new URLSearchParams(s.queryParams);i.push(a.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await Re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,i;const{data:a,error:l}=n;if(l)return{data:null,error:l};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:h}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&p.type==="totp"&&(!((i=p?.totp)===null||i===void 0)&&i.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?CI(e.webauthn.credential_response):EI(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:p}=await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:p})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:kI(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:jI(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Lf(s.access_token);let l=null;a.aal&&(l=a.aal);let d=l;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const h=a.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;return i?{data:null,error:i}:s?await Re(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):{data:null,error:new Zn}})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:i},error:a}=s;if(a)return{data:null,error:a};if(!i)return{data:null,error:new Zn};const l=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&on()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(s){if(Ce(s))return{data:null,error:s};throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:i},error:a}=s;if(a)return{data:null,error:a};if(!i)return{data:null,error:new Zn};const l=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&on()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(s){if(Ce(s))return{data:null,error:s};throw s}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(d=>d.kid===e);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+MO>i)return s;const{data:a,error:l}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,s=a.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:b,error:S}=await this.getSession();if(S||!b.session)return{data:null,error:S};s=b.session.access_token}const{header:i,payload:a,signature:l,raw:{header:d,payload:p}}=Lf(s);n?.allowExpired||rI(a.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:b}=await this.getUser(s);if(b)throw b;return{data:{claims:a,header:i,signature:l},error:null}}const m=sI(i.alg),g=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,l,WO(`${d}.${p}`)))throw new Wh("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}}}Aa.nextInstanceID=0;const DI=Aa;class LI extends DI{constructor(e){super(e)}}class $I{constructor(e,n,s){var i,a,l;this.supabaseUrl=e,this.supabaseKey=n;const d=PO(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const p=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:SO,realtime:kO,auth:Object.assign(Object.assign({},_O),{storageKey:p}),global:bO},m=TO(s??{},h);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=EO(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new A5(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new yO(this.storageUrl.href,this.headers,this.fetch,s?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new S5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,storageKey:l,flowType:d,lock:p,debug:h},m,g){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LI({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),m),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,flowType:d,lock:p,debug:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new q5(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FI=(t,e,n)=>new $I(t,e,n);function VI(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}VI()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ra="aavljgcuaajnimeohelq",li="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFhdmxqZ2N1YWFqbmltZW9oZWxxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA5OTE1ODUsImV4cCI6MjA3NjU2NzU4NX0.4cfyCfXlVLYmlLwa5Y7aGj0-BuVF4RDTpNooURWZXAo";let aa=null,wx=!1;function vn(){if(aa)return aa;const t=`https://${Ra}.supabase.co`;return console.log("[Supabase Client] Creating client with URL:",t),console.log("[Supabase Client] Using localStorage for session persistence"),aa=FI(t,li,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce",storage:{getItem:e=>localStorage.getItem(e),setItem:(e,n)=>{localStorage.setItem(e,n)},removeItem:e=>{localStorage.removeItem(e)}}},realtime:{params:{eventsPerSecond:10}}}),wx||(wx=!0,aa.auth.onAuthStateChange(async(e,n)=>{console.log("[Auth State Change]",e,n?"Session exists":"No session"),e==="SIGNED_OUT"?(console.log("[Auth] User signed out - clearing session"),localStorage.clear()):e==="TOKEN_REFRESHED"?(console.log("[Auth] ✅ Token refreshed successfully"),n?.access_token&&console.log("[Auth] New token expires at:",new Date(n.expires_at*1e3).toLocaleString())):e==="SIGNED_IN"?(console.log("[Auth] ✅ User signed in successfully"),n?.access_token&&console.log("[Auth] Session expires at:",new Date(n.expires_at*1e3).toLocaleString())):e==="USER_UPDATED"&&console.log("[Auth] User profile updated")})),aa}async function yc(){console.warn("[clearInvalidSession] Clearing corrupted/invalid session..."),localStorage.clear(),console.log("[clearInvalidSession] ✅ Session cleared, user needs to log in again"),window.location.reload()}async function Zp(){const t=vn();try{const{data:{session:e}}=await t.auth.getSession();if(!e)return null;if(e.access_token&&!e.access_token.startsWith("eyJ"))return console.error("[getAccessToken] 🚨 Invalid token format detected - clearing session"),await yc(),null;console.log("[getAccessToken] Refreshing session...");const{data:{session:n},error:s}=await t.auth.refreshSession();if(s)return console.error("[getAccessToken] Session refresh failed:",s.message),s.message.includes("Invalid Refresh Token")||s.message.includes("Auth session missing")||s.message.includes("invalid_grant")||s.message.includes("refresh_token_not_found")?(console.error("[getAccessToken] 🚨 Session is corrupted or from different project - forcing logout"),await yc(),null):e?.access_token&&e.access_token!==li?(console.warn("[getAccessToken] ⚠️ Using existing token as fallback (refresh failed)"),e.access_token):null;if(!n)return console.log("[getAccessToken] No session after refresh"),null;if(!n.access_token)return console.error("[getAccessToken] Session exists but has no access_token"),null;if(n.access_token===li)return console.error("[getAccessToken] 🚨 Session has anon key instead of JWT - clearing"),await yc(),null;if(n.expires_at){const i=n.expires_at*1e3,a=Date.now(),l=Math.floor((i-a)/1e3);console.log(`[getAccessToken] ✅ Token valid for ${Math.floor(l/60)} minutes`)}return n.access_token}catch(e){return console.error("[getAccessToken] Unexpected error:",e),e instanceof Error&&(e.message.includes("Auth")||e.message.includes("session")||e.message.includes("token"))&&(console.error("[getAccessToken] 🚨 Critical auth error - clearing session"),await yc()),null}}const Hh=`https://${Ra}.supabase.co/functions/v1/make-server-29f6739b`;async function He(t,e={},n=0){try{console.log(`[API] ========== REQUEST START: ${t} ==========`);const i=["/auth/signup","/auth/login","/health"].some(m=>t.includes(m));if(console.log(`[API] Endpoint: ${t}`),console.log(`[API] Is public: ${i}`),console.log(`[API] Retry count: ${n}`),!i&&n===0&&await new Promise(m=>setTimeout(m,100)),!i){console.log("[API] Protected endpoint - checking session...");const m=vn(),{data:{session:g},error:x}=await m.auth.getSession();if(x&&console.error("[API] ❌ Session error:",x),!g)return console.log("[API] ℹ️  No active session for endpoint:",t),console.log("[API] Request will not proceed - authentication required"),{success:!1,error:"No active session. Please log in to continue."};console.log("[API] ✅ Session found"),console.log("[API] Session user:",g.user?.id),console.log("[API] Session expires:",new Date(g.expires_at*1e3).toLocaleTimeString())}const a=await Zp();if(!a&&!i)return console.warn(`[API] ⚠️  No access token available for: ${t}`),console.log("[API] getAccessToken() returned null - session may have expired"),{success:!1,error:"Authentication token not available. Please try again."};const l={"Content-Type":"application/json",Authorization:`Bearer ${a||li}`,...e.headers},d=`${Hh}${t}`;console.log(`[API] ${e.method||"GET"} ${d}`,a?"(authenticated)":"(public)"),a?console.log("[API] Using access_token, preview:",a.substring(0,30)+"..."):console.log("[API] Using anon_key (public endpoint)");const p=await fetch(d,{...e,headers:l});if(console.log(`[API Response] ${t} - Status: ${p.status} ${p.statusText}`),p.status===401&&n<2&&!i){console.warn(`[API] Got 401, attempting to refresh session (retry ${n+1}/2)...`);const m=vn(),{data:{session:g}}=await m.auth.getSession();if(!g)return console.error("[API] No session to refresh - user must log in"),await m.auth.signOut(),localStorage.clear(),window.location.reload(),{success:!1,error:"Session expired. Please log in again."};const{data:{session:x},error:b}=await m.auth.refreshSession();if(!b&&x?.access_token)return console.log("[API] ✅ Session refreshed successfully, retrying request..."),await new Promise(S=>setTimeout(S,200)),He(t,e,n+1);if(console.error("[API] ❌ Failed to refresh session:",b?.message||"Unknown error"),n===1)return console.error("[API] Session cannot be recovered - forcing logout"),await m.auth.signOut(),localStorage.clear(),window.location.reload(),{success:!1,error:"Session expired. Please log out and log back in."}}if(!p.ok){const m=await p.text();return console.error(`[API Error] ${t} (${p.status}):`,m),p.status===401?{success:!1,error:"Authentication failed. Please log in again."}:{success:!1,error:m||`HTTP ${p.status}`}}return{success:!0,data:await p.json()}}catch(s){console.error(`[Network Error] ${t}:`,s),console.error("[Error Details]",{name:s instanceof Error?s.name:"Unknown",message:s instanceof Error?s.message:String(s),stack:s instanceof Error?s.stack:"No stack"});let i="Network error";return s instanceof Error&&(s.message==="Failed to fetch"?(i="Unable to connect to server. Please check your internet connection.",console.error("[Network Error] This typically means:"),console.error("  - The Supabase Edge Function is not deployed or not accessible"),console.error("  - Network connection issues"),console.error("  - CORS or firewall blocking the request"),console.error(`  - URL being called: ${Hh}${t}`)):i=s.message),{success:!1,error:i}}}const BI={signup:(t,e,n,s)=>He("/auth/signup",{method:"POST",body:JSON.stringify({email:t,password:e,full_name:n,phone_number:s})}),login:async(t,e)=>({success:!0})},Lo={send:(t,e,n="text",s,i)=>He("/messages/send",{method:"POST",body:JSON.stringify({conversation_id:t,body:e,type:n,reply_to:s,attachments:i})}),markAsRead:t=>He("/messages/mark-read",{method:"POST",body:JSON.stringify({message_ids:t})}),react:(t,e)=>He("/messages/react",{method:"POST",body:JSON.stringify({message_id:t,emoji:e})}),deleteForMe:t=>He("/messages/delete-for-me",{method:"POST",body:JSON.stringify({message_id:t})}),deleteForEveryone:t=>He("/messages/delete-for-everyone",{method:"POST",body:JSON.stringify({message_id:t})})},ci={create:(t,e,n)=>He("/conversations/create",{method:"POST",body:JSON.stringify({type:t,member_ids:e,title:n})}),list:()=>He("/conversations"),get:t=>He(`/conversations/${t}`),delete:t=>He("/conversations/delete",{method:"POST",body:JSON.stringify({conversation_id:t})})},Wc={uploadFile:async(t,e)=>{const n=new FormData;n.append("file",t),n.append("type",e);const s=await Zp();try{const i=await fetch(`${Hh}/upload`,{method:"POST",headers:{Authorization:`Bearer ${s||li}`},body:n});return i.ok?{success:!0,data:await i.json()}:{success:!1,error:await i.text()}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Upload failed"}}}},Vf={start:t=>He("/typing/start",{method:"POST",body:JSON.stringify({conversation_id:t})}),stop:t=>He("/typing/stop",{method:"POST",body:JSON.stringify({conversation_id:t})})},xc={updateStatus:t=>He("/presence/update",{method:"POST",body:JSON.stringify({is_online:t})})},Bf={update:t=>He("/profile/update",{method:"POST",body:JSON.stringify(t)}),get:t=>He(`/profile/${t}`)},bx={block:t=>He("/users/block",{method:"POST",body:JSON.stringify({user_id:t})}),unblock:t=>He("/users/unblock",{method:"POST",body:JSON.stringify({user_id:t})}),getBlockedUsers:()=>He("/users/blocked")},Sx={initiate:(t,e)=>He("/calls/initiate",{method:"POST",body:JSON.stringify({recipient_id:t,call_type:e})}),signal:(t,e,n)=>He("/calls/signal",{method:"POST",body:JSON.stringify({call_id:t,signal_type:e,signal_data:n})}),accept:t=>He("/calls/accept",{method:"POST",body:JSON.stringify({call_id:t})}),reject:t=>He("/calls/reject",{method:"POST",body:JSON.stringify({call_id:t})}),end:t=>He("/calls/end",{method:"POST",body:JSON.stringify({call_id:t})}),getSignals:(t,e)=>He(`/calls/${t}/signals${e?`?after=${e}`:""}`),checkIncoming:()=>He("/calls/incoming")};function oS(t){const e=new Date;return t.filter(n=>n.expires_at?new Date(n.expires_at)>e:!0)}function UI(t){return t.map(e=>{if(!e.stories)return null;const n=oS(e.stories);return n.length===0?null:{...e,stories:n}}).filter(e=>e!==null)}const sr={getAllStories:async()=>{const t=await He("/stories");return t.success&&t.data?.stories&&(t.data.stories=UI(t.data.stories)),t},getUserStories:t=>He(`/stories/user/${t}`),create:(t,e)=>He("/stories/create",{method:"POST",body:JSON.stringify({type:t,...e})}),view:t=>He("/stories/view",{method:"POST",body:JSON.stringify({story_id:t})}),getViews:t=>He(`/stories/${t}/views`),reply:(t,e)=>He("/stories/reply",{method:"POST",body:JSON.stringify({story_id:t,message:e})}),delete:t=>He("/stories/delete",{method:"POST",body:JSON.stringify({story_id:t})}),getMyStories:async()=>{const t=await He("/stories/my-stories");return t.success&&t.data?.stories&&(t.data.stories=oS(t.data.stories)),t},cleanup:()=>He("/stories/cleanup",{method:"POST"})};var _x=1,zI=.9,WI=.8,HI=.17,Uf=.1,zf=.999,KI=.9999,GI=.99,qI=/[\\\/_+.#"@\[\(\{&]/,YI=/[\\\/_+.#"@\[\(\{&]/g,JI=/[\s-]/,iS=/[\s-]/g;function Kh(t,e,n,s,i,a,l){if(a===e.length)return i===t.length?_x:GI;var d=`${i},${a}`;if(l[d]!==void 0)return l[d];for(var p=s.charAt(a),h=n.indexOf(p,i),m=0,g,x,b,S;h>=0;)g=Kh(t,e,n,s,h+1,a+1,l),g>m&&(h===i?g*=_x:qI.test(t.charAt(h-1))?(g*=WI,b=t.slice(i,h-1).match(YI),b&&i>0&&(g*=Math.pow(zf,b.length))):JI.test(t.charAt(h-1))?(g*=zI,S=t.slice(i,h-1).match(iS),S&&i>0&&(g*=Math.pow(zf,S.length))):(g*=HI,i>0&&(g*=Math.pow(zf,h-i))),t.charAt(h)!==e.charAt(a)&&(g*=KI)),(g<Uf&&n.charAt(h-1)===s.charAt(a+1)||s.charAt(a+1)===s.charAt(a)&&n.charAt(h-1)!==s.charAt(a))&&(x=Kh(t,e,n,s,h+1,a+2,l),x*Uf>g&&(g=x*Uf)),g>m&&(m=g),h=n.indexOf(p,h+1);return l[d]=m,m}function kx(t){return t.toLowerCase().replace(iS," ")}function XI(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,Kh(t,e,kx(t),kx(e),0,0,{})}function De(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function QI(t,e){const n=w.createContext(e),s=a=>{const{children:l,...d}=a,p=w.useMemo(()=>d,Object.values(d));return u.jsx(n.Provider,{value:p,children:l})};s.displayName=t+"Provider";function i(a){const l=w.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[s,i]}function Fr(t,e=[]){let n=[];function s(a,l){const d=w.createContext(l),p=n.length;n=[...n,l];const h=g=>{const{scope:x,children:b,...S}=g,_=x?.[t]?.[p]||d,j=w.useMemo(()=>S,Object.values(S));return u.jsx(_.Provider,{value:j,children:b})};h.displayName=a+"Provider";function m(g,x){const b=x?.[t]?.[p]||d,S=w.useContext(b);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=n.map(l=>w.createContext(l));return function(d){const p=d?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...d,[t]:p}}),[d,p])}};return i.scopeName=t,[s,ZI(i,...e)]}function ZI(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=s.reduce((d,{useScope:p,scopeName:h})=>{const g=p(a)[`__scope${h}`];return{...d,...g}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}var gs=globalThis?.document?w.useLayoutEffect:()=>{},eM=iw[" useId ".trim().toString()]||(()=>{}),tM=0;function Nn(t){const[e,n]=w.useState(eM());return gs(()=>{n(s=>s??String(tM++))},[t]),t||(e?`radix-${e}`:"")}var nM=iw[" useInsertionEffect ".trim().toString()]||gs;function za({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[i,a,l]=rM({defaultProp:e,onChange:n}),d=t!==void 0,p=d?t:i;{const m=w.useRef(t!==void 0);w.useEffect(()=>{const g=m.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=d},[d,s])}const h=w.useCallback(m=>{if(d){const g=sM(m)?m(t):m;g!==t&&l.current?.(g)}else a(m)},[d,t,a,l]);return[p,h]}function rM({defaultProp:t,onChange:e}){const[n,s]=w.useState(t),i=w.useRef(n),a=w.useRef(e);return nM(()=>{a.current=e},[e]),w.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,s,a]}function sM(t){return typeof t=="function"}function Dr(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>e.current?.(...n),[])}function oM(t,e=globalThis?.document){const n=Dr(t);w.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var iM="DismissableLayer",Gh="dismissableLayer.update",aM="dismissableLayer.pointerDownOutside",lM="dismissableLayer.focusOutside",jx,aS=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),au=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:d,...p}=t,h=w.useContext(aS),[m,g]=w.useState(null),x=m?.ownerDocument??globalThis?.document,[,b]=w.useState({}),S=mt(e,D=>g(D)),_=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),C=_.indexOf(j),T=m?_.indexOf(m):-1,E=h.layersWithOutsidePointerEventsDisabled.size>0,N=T>=C,P=dM(D=>{const F=D.target,B=[...h.branches].some(V=>V.contains(F));!N||B||(i?.(D),l?.(D),D.defaultPrevented||d?.())},x),I=fM(D=>{const F=D.target;[...h.branches].some(V=>V.contains(F))||(a?.(D),l?.(D),D.defaultPrevented||d?.())},x);return oM(D=>{T===h.layers.size-1&&(s?.(D),!D.defaultPrevented&&d&&(D.preventDefault(),d()))},x),w.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(jx=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),Cx(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=jx)}},[m,x,n,h]),w.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),Cx())},[m,h]),w.useEffect(()=>{const D=()=>b({});return document.addEventListener(Gh,D),()=>document.removeEventListener(Gh,D)},[]),u.jsx(qe.div,{...p,ref:S,style:{pointerEvents:E?N?"auto":"none":void 0,...t.style},onFocusCapture:De(t.onFocusCapture,I.onFocusCapture),onBlurCapture:De(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:De(t.onPointerDownCapture,P.onPointerDownCapture)})});au.displayName=iM;var cM="DismissableLayerBranch",uM=w.forwardRef((t,e)=>{const n=w.useContext(aS),s=w.useRef(null),i=mt(e,s);return w.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),u.jsx(qe.div,{...t,ref:i})});uM.displayName=cM;function dM(t,e=globalThis?.document){const n=Dr(t),s=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=d=>{if(d.target&&!s.current){let p=function(){lS(aM,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=p,e.addEventListener("click",i.current,{once:!0})):p()}else e.removeEventListener("click",i.current);s.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function fM(t,e=globalThis?.document){const n=Dr(t),s=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!s.current&&lS(lM,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Cx(){const t=new CustomEvent(Gh);document.dispatchEvent(t)}function lS(t,e,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),s?u1(i,a):i.dispatchEvent(a)}var Wf="focusScope.autoFocusOnMount",Hf="focusScope.autoFocusOnUnmount",Ex={bubbles:!1,cancelable:!0},hM="FocusScope",lu=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=t,[d,p]=w.useState(null),h=Dr(i),m=Dr(a),g=w.useRef(null),x=mt(e,_=>p(_)),b=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(s){let _=function(E){if(b.paused||!d)return;const N=E.target;d.contains(N)?g.current=N:fs(g.current,{select:!0})},j=function(E){if(b.paused||!d)return;const N=E.relatedTarget;N!==null&&(d.contains(N)||fs(g.current,{select:!0}))},C=function(E){if(document.activeElement===document.body)for(const P of E)P.removedNodes.length>0&&fs(d)};document.addEventListener("focusin",_),document.addEventListener("focusout",j);const T=new MutationObserver(C);return d&&T.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",j),T.disconnect()}}},[s,d,b.paused]),w.useEffect(()=>{if(d){Tx.add(b);const _=document.activeElement;if(!d.contains(_)){const C=new CustomEvent(Wf,Ex);d.addEventListener(Wf,h),d.dispatchEvent(C),C.defaultPrevented||(pM(xM(cS(d)),{select:!0}),document.activeElement===_&&fs(d))}return()=>{d.removeEventListener(Wf,h),setTimeout(()=>{const C=new CustomEvent(Hf,Ex);d.addEventListener(Hf,m),d.dispatchEvent(C),C.defaultPrevented||fs(_??document.body,{select:!0}),d.removeEventListener(Hf,m),Tx.remove(b)},0)}}},[d,h,m,b]);const S=w.useCallback(_=>{if(!n&&!s||b.paused)return;const j=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,C=document.activeElement;if(j&&C){const T=_.currentTarget,[E,N]=mM(T);E&&N?!_.shiftKey&&C===N?(_.preventDefault(),n&&fs(E,{select:!0})):_.shiftKey&&C===E&&(_.preventDefault(),n&&fs(N,{select:!0})):C===T&&_.preventDefault()}},[n,s,b.paused]);return u.jsx(qe.div,{tabIndex:-1,...l,ref:x,onKeyDown:S})});lu.displayName=hM;function pM(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(fs(s,{select:e}),document.activeElement!==n)return}function mM(t){const e=cS(t),n=Nx(e,t),s=Nx(e.reverse(),t);return[n,s]}function cS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Nx(t,e){for(const n of t)if(!gM(n,{upTo:e}))return n}function gM(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function vM(t){return t instanceof HTMLInputElement&&"select"in t}function fs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&vM(t)&&e&&t.select()}}var Tx=yM();function yM(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=Px(t,e),t.unshift(e)},remove(e){t=Px(t,e),t[0]?.resume()}}}function Px(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function xM(t){return t.filter(e=>e.tagName!=="A")}var wM="Portal",cu=w.forwardRef((t,e)=>{const{container:n,...s}=t,[i,a]=w.useState(!1);gs(()=>a(!0),[]);const l=n||i&&globalThis?.document?.body;return l?aw.createPortal(u.jsx(qe.div,{...s,ref:e}),l):null});cu.displayName=wM;function bM(t,e){return w.useReducer((n,s)=>e[n][s]??n,t)}var br=t=>{const{present:e,children:n}=t,s=SM(e),i=typeof n=="function"?n({present:s.isPresent}):w.Children.only(n),a=mt(s.ref,_M(i));return typeof n=="function"||s.isPresent?w.cloneElement(i,{ref:a}):null};br.displayName="Presence";function SM(t){const[e,n]=w.useState(),s=w.useRef(null),i=w.useRef(t),a=w.useRef("none"),l=t?"mounted":"unmounted",[d,p]=bM(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const h=wc(s.current);a.current=d==="mounted"?h:"none"},[d]),gs(()=>{const h=s.current,m=i.current;if(m!==t){const x=a.current,b=wc(h);t?p("MOUNT"):b==="none"||h?.display==="none"?p("UNMOUNT"):p(m&&x!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,p]),gs(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,g=b=>{const _=wc(s.current).includes(CSS.escape(b.animationName));if(b.target===e&&_&&(p("ANIMATION_END"),!i.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},x=b=>{b.target===e&&(a.current=wc(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:w.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function wc(t){return t?.animationName||"none"}function _M(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Kf=0;function em(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ax()),document.body.insertAdjacentElement("beforeend",t[1]??Ax()),Kf++,()=>{Kf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Kf--}},[])}function Ax(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Pc="right-scroll-bar-position",Ac="width-before-scroll-bar",kM="with-scroll-bars-hidden",jM="--removed-body-scroll-bar-size";function Gf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function CM(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=e,n.facade}var EM=typeof window<"u"?w.useLayoutEffect:w.useEffect,Rx=new WeakMap;function NM(t,e){var n=CM(null,function(s){return t.forEach(function(i){return Gf(i,s)})});return EM(function(){var s=Rx.get(n);if(s){var i=new Set(s),a=new Set(t),l=n.current;i.forEach(function(d){a.has(d)||Gf(d,null)}),a.forEach(function(d){i.has(d)||Gf(d,l)})}Rx.set(n,t)},[t]),n}function TM(t){return t}function PM(t,e){e===void 0&&(e=TM);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,s);return n.push(l),function(){n=n.filter(function(d){return d!==l})}},assignSyncMedium:function(a){for(s=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){s=!0;var l=[];if(n.length){var d=n;n=[],d.forEach(a),l=n}var p=function(){var m=l;l=[],m.forEach(a)},h=function(){return Promise.resolve().then(p)};h(),n={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),n}}}};return i}function AM(t){t===void 0&&(t={});var e=PM(null);return e.options=Bn({async:!0,ssr:!1},t),e}var uS=function(t){var e=t.sideCar,n=bs(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return w.createElement(s,Bn({},n))};uS.isSideCarExport=!0;function RM(t,e){return t.useMedium(e),uS}var dS=AM(),qf=function(){},uu=w.forwardRef(function(t,e){var n=w.useRef(null),s=w.useState({onScrollCapture:qf,onWheelCapture:qf,onTouchMoveCapture:qf}),i=s[0],a=s[1],l=t.forwardProps,d=t.children,p=t.className,h=t.removeScrollBar,m=t.enabled,g=t.shards,x=t.sideCar,b=t.noRelative,S=t.noIsolation,_=t.inert,j=t.allowPinchZoom,C=t.as,T=C===void 0?"div":C,E=t.gapMode,N=bs(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=x,I=NM([n,e]),D=Bn(Bn({},N),i);return w.createElement(w.Fragment,null,m&&w.createElement(P,{sideCar:dS,removeScrollBar:h,shards:g,noRelative:b,noIsolation:S,inert:_,setCallbacks:a,allowPinchZoom:!!j,lockRef:n,gapMode:E}),l?w.cloneElement(w.Children.only(d),Bn(Bn({},D),{ref:I})):w.createElement(T,Bn({},D,{className:p,ref:I}),d))});uu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uu.classNames={fullWidth:Ac,zeroRight:Pc};var OM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IM(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=OM();return e&&t.setAttribute("nonce",e),t}function MM(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function DM(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var LM=function(){var t=0,e=null;return{add:function(n){t==0&&(e=IM())&&(MM(e,n),DM(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$M=function(){var t=LM();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},fS=function(){var t=$M(),e=function(n){var s=n.styles,i=n.dynamic;return t(s,i),null};return e},FM={left:0,top:0,right:0,gap:0},Yf=function(t){return parseInt(t||"",10)||0},VM=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Yf(n),Yf(s),Yf(i)]},BM=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return FM;var e=VM(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},UM=fS(),Zo="data-scroll-locked",zM=function(t,e,n,s){var i=t.left,a=t.top,l=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(kM,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Zo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pc,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Ac,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Pc," .").concat(Pc,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Ac," .").concat(Ac,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Zo,`] {
    `).concat(jM,": ").concat(d,`px;
  }
`)},Ox=function(){var t=parseInt(document.body.getAttribute(Zo)||"0",10);return isFinite(t)?t:0},WM=function(){w.useEffect(function(){return document.body.setAttribute(Zo,(Ox()+1).toString()),function(){var t=Ox()-1;t<=0?document.body.removeAttribute(Zo):document.body.setAttribute(Zo,t.toString())}},[])},HM=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,i=s===void 0?"margin":s;WM();var a=w.useMemo(function(){return BM(i)},[i]);return w.createElement(UM,{styles:zM(a,!e,i,n?"":"!important")})},qh=!1;if(typeof window<"u")try{var bc=Object.defineProperty({},"passive",{get:function(){return qh=!0,!0}});window.addEventListener("test",bc,bc),window.removeEventListener("test",bc,bc)}catch{qh=!1}var $o=qh?{passive:!1}:!1,KM=function(t){return t.tagName==="TEXTAREA"},hS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!KM(t)&&n[e]==="visible")},GM=function(t){return hS(t,"overflowY")},qM=function(t){return hS(t,"overflowX")},Ix=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=pS(t,s);if(i){var a=mS(t,s),l=a[1],d=a[2];if(l>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},YM=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},JM=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},pS=function(t,e){return t==="v"?GM(e):qM(e)},mS=function(t,e){return t==="v"?YM(e):JM(e)},XM=function(t,e){return t==="h"&&e==="rtl"?-1:1},QM=function(t,e,n,s,i){var a=XM(t,window.getComputedStyle(e).direction),l=a*s,d=n.target,p=e.contains(d),h=!1,m=l>0,g=0,x=0;do{if(!d)break;var b=mS(t,d),S=b[0],_=b[1],j=b[2],C=_-j-a*S;(S||C)&&pS(t,d)&&(g+=C,x+=S);var T=d.parentNode;d=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!p&&d!==document.body||p&&(e.contains(d)||e===d));return(m&&Math.abs(g)<1||!m&&Math.abs(x)<1)&&(h=!0),h},Sc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Mx=function(t){return[t.deltaX,t.deltaY]},Dx=function(t){return t&&"current"in t?t.current:t},ZM=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e3=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},t3=0,Fo=[];function n3(t){var e=w.useRef([]),n=w.useRef([0,0]),s=w.useRef(),i=w.useState(t3++)[0],a=w.useState(fS)[0],l=w.useRef(t);w.useEffect(function(){l.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=Wp([t.lockRef.current],(t.shards||[]).map(Dx),!0).filter(Boolean);return _.forEach(function(j){return j.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=w.useCallback(function(_,j){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var C=Sc(_),T=n.current,E="deltaX"in _?_.deltaX:T[0]-C[0],N="deltaY"in _?_.deltaY:T[1]-C[1],P,I=_.target,D=Math.abs(E)>Math.abs(N)?"h":"v";if("touches"in _&&D==="h"&&I.type==="range")return!1;var F=Ix(D,I);if(!F)return!0;if(F?P=D:(P=D==="v"?"h":"v",F=Ix(D,I)),!F)return!1;if(!s.current&&"changedTouches"in _&&(E||N)&&(s.current=P),!P)return!0;var B=s.current||P;return QM(B,j,_,B==="h"?E:N)},[]),p=w.useCallback(function(_){var j=_;if(!(!Fo.length||Fo[Fo.length-1]!==a)){var C="deltaY"in j?Mx(j):Sc(j),T=e.current.filter(function(P){return P.name===j.type&&(P.target===j.target||j.target===P.shadowParent)&&ZM(P.delta,C)})[0];if(T&&T.should){j.cancelable&&j.preventDefault();return}if(!T){var E=(l.current.shards||[]).map(Dx).filter(Boolean).filter(function(P){return P.contains(j.target)}),N=E.length>0?d(j,E[0]):!l.current.noIsolation;N&&j.cancelable&&j.preventDefault()}}},[]),h=w.useCallback(function(_,j,C,T){var E={name:_,delta:j,target:C,should:T,shadowParent:r3(C)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(N){return N!==E})},1)},[]),m=w.useCallback(function(_){n.current=Sc(_),s.current=void 0},[]),g=w.useCallback(function(_){h(_.type,Mx(_),_.target,d(_,t.lockRef.current))},[]),x=w.useCallback(function(_){h(_.type,Sc(_),_.target,d(_,t.lockRef.current))},[]);w.useEffect(function(){return Fo.push(a),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",p,$o),document.addEventListener("touchmove",p,$o),document.addEventListener("touchstart",m,$o),function(){Fo=Fo.filter(function(_){return _!==a}),document.removeEventListener("wheel",p,$o),document.removeEventListener("touchmove",p,$o),document.removeEventListener("touchstart",m,$o)}},[]);var b=t.removeScrollBar,S=t.inert;return w.createElement(w.Fragment,null,S?w.createElement(a,{styles:e3(i)}):null,b?w.createElement(HM,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function r3(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const s3=RM(dS,n3);var du=w.forwardRef(function(t,e){return w.createElement(uu,Bn({},t,{ref:e,sideCar:s3}))});du.classNames=uu.classNames;var o3=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Vo=new WeakMap,_c=new WeakMap,kc={},Jf=0,gS=function(t){return t&&(t.host||gS(t.parentNode))},i3=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=gS(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},a3=function(t,e,n,s){var i=i3(e,Array.isArray(t)?t:[t]);kc[n]||(kc[n]=new WeakMap);var a=kc[n],l=[],d=new Set,p=new Set(i),h=function(g){!g||d.has(g)||(d.add(g),h(g.parentNode))};i.forEach(h);var m=function(g){!g||p.has(g)||Array.prototype.forEach.call(g.children,function(x){if(d.has(x))m(x);else try{var b=x.getAttribute(s),S=b!==null&&b!=="false",_=(Vo.get(x)||0)+1,j=(a.get(x)||0)+1;Vo.set(x,_),a.set(x,j),l.push(x),_===1&&S&&_c.set(x,!0),j===1&&x.setAttribute(n,"true"),S||x.setAttribute(s,"true")}catch(C){console.error("aria-hidden: cannot operate on ",x,C)}})};return m(e),d.clear(),Jf++,function(){l.forEach(function(g){var x=Vo.get(g)-1,b=a.get(g)-1;Vo.set(g,x),a.set(g,b),x||(_c.has(g)||g.removeAttribute(s),_c.delete(g)),b||g.removeAttribute(n)}),Jf--,Jf||(Vo=new WeakMap,Vo=new WeakMap,_c=new WeakMap,kc={})}},tm=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),i=o3(t);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),a3(s,i,n,"aria-hidden")):function(){return null}},fu="Dialog",[vS,yS]=Fr(fu),[l3,ar]=vS(fu),xS=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,d=w.useRef(null),p=w.useRef(null),[h,m]=za({prop:s,defaultProp:i??!1,onChange:a,caller:fu});return u.jsx(l3,{scope:e,triggerRef:d,contentRef:p,contentId:Nn(),titleId:Nn(),descriptionId:Nn(),open:h,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(g=>!g),[m]),modal:l,children:n})};xS.displayName=fu;var wS="DialogTrigger",bS=w.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=ar(wS,n),a=mt(e,i.triggerRef);return u.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":sm(i.open),...s,ref:a,onClick:De(t.onClick,i.onOpenToggle)})});bS.displayName=wS;var nm="DialogPortal",[c3,SS]=vS(nm,{forceMount:void 0}),_S=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:i}=t,a=ar(nm,e);return u.jsx(c3,{scope:e,forceMount:n,children:w.Children.map(s,l=>u.jsx(br,{present:n||a.open,children:u.jsx(cu,{asChild:!0,container:i,children:l})}))})};_S.displayName=nm;var Hc="DialogOverlay",kS=w.forwardRef((t,e)=>{const n=SS(Hc,t.__scopeDialog),{forceMount:s=n.forceMount,...i}=t,a=ar(Hc,t.__scopeDialog);return a.modal?u.jsx(br,{present:s||a.open,children:u.jsx(d3,{...i,ref:e})}):null});kS.displayName=Hc;var u3=to("DialogOverlay.RemoveScroll"),d3=w.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=ar(Hc,n);return u.jsx(du,{as:u3,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(qe.div,{"data-state":sm(i.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),no="DialogContent",jS=w.forwardRef((t,e)=>{const n=SS(no,t.__scopeDialog),{forceMount:s=n.forceMount,...i}=t,a=ar(no,t.__scopeDialog);return u.jsx(br,{present:s||a.open,children:a.modal?u.jsx(f3,{...i,ref:e}):u.jsx(h3,{...i,ref:e})})});jS.displayName=no;var f3=w.forwardRef((t,e)=>{const n=ar(no,t.__scopeDialog),s=w.useRef(null),i=mt(e,n.contentRef,s);return w.useEffect(()=>{const a=s.current;if(a)return tm(a)},[]),u.jsx(CS,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:De(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&a.preventDefault()}),onFocusOutside:De(t.onFocusOutside,a=>a.preventDefault())})}),h3=w.forwardRef((t,e)=>{const n=ar(no,t.__scopeDialog),s=w.useRef(!1),i=w.useRef(!1);return u.jsx(CS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||n.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;n.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),CS=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=t,d=ar(no,n),p=w.useRef(null),h=mt(e,p);return em(),u.jsxs(u.Fragment,{children:[u.jsx(lu,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(au,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":sm(d.open),...l,ref:h,onDismiss:()=>d.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(m3,{titleId:d.titleId}),u.jsx(v3,{contentRef:p,descriptionId:d.descriptionId})]})]})}),rm="DialogTitle",ES=w.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=ar(rm,n);return u.jsx(qe.h2,{id:i.titleId,...s,ref:e})});ES.displayName=rm;var NS="DialogDescription",TS=w.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=ar(NS,n);return u.jsx(qe.p,{id:i.descriptionId,...s,ref:e})});TS.displayName=NS;var PS="DialogClose",AS=w.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=ar(PS,n);return u.jsx(qe.button,{type:"button",...s,ref:e,onClick:De(t.onClick,()=>i.onOpenChange(!1))})});AS.displayName=PS;function sm(t){return t?"open":"closed"}var RS="DialogTitleWarning",[p3,OS]=QI(RS,{contentName:no,titleName:rm,docsSlug:"dialog"}),m3=({titleId:t})=>{const e=OS(RS),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},g3="DialogDescriptionWarning",v3=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${OS(g3).contentName}}.`;return w.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},om=xS,y3=bS,im=_S,hu=kS,pu=jS,IS=ES,MS=TS,am=AS,la='[cmdk-group=""]',Xf='[cmdk-group-items=""]',x3='[cmdk-group-heading=""]',DS='[cmdk-item=""]',Lx=`${DS}:not([aria-disabled="true"])`,Yh="cmdk-item-select",zo="data-value",w3=(t,e,n)=>XI(t,e,n),LS=w.createContext(void 0),Wa=()=>w.useContext(LS),$S=w.createContext(void 0),lm=()=>w.useContext($S),FS=w.createContext(void 0),VS=w.forwardRef((t,e)=>{let n=Wo(()=>{var O,H;return{search:"",value:(H=(O=t.value)!=null?O:t.defaultValue)!=null?H:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Wo(()=>new Set),i=Wo(()=>new Map),a=Wo(()=>new Map),l=Wo(()=>new Set),d=BS(t),{label:p,children:h,value:m,onValueChange:g,filter:x,shouldFilter:b,loop:S,disablePointerSelection:_=!1,vimBindings:j=!0,...C}=t,T=Nn(),E=Nn(),N=Nn(),P=w.useRef(null),I=A3();ro(()=>{if(m!==void 0){let O=m.trim();n.current.value=O,D.emit()}},[m]),ro(()=>{I(6,re)},[]);let D=w.useMemo(()=>({subscribe:O=>(l.current.add(O),()=>l.current.delete(O)),snapshot:()=>n.current,setState:(O,H,Y)=>{var q,le,ee,de;if(!Object.is(n.current[O],H)){if(n.current[O]=H,O==="search")Q(),V(),I(1,Z);else if(O==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ke=document.getElementById(N);ke?ke.focus():(q=document.getElementById(T))==null||q.focus()}if(I(7,()=>{var ke;n.current.selectedItemId=(ke=fe())==null?void 0:ke.id,D.emit()}),Y||I(5,re),((le=d.current)==null?void 0:le.value)!==void 0){let ke=H??"";(de=(ee=d.current).onValueChange)==null||de.call(ee,ke);return}}D.emit()}},emit:()=>{l.current.forEach(O=>O())}}),[]),F=w.useMemo(()=>({value:(O,H,Y)=>{var q;H!==((q=a.current.get(O))==null?void 0:q.value)&&(a.current.set(O,{value:H,keywords:Y}),n.current.filtered.items.set(O,B(H,Y)),I(2,()=>{V(),D.emit()}))},item:(O,H)=>(s.current.add(O),H&&(i.current.has(H)?i.current.get(H).add(O):i.current.set(H,new Set([O]))),I(3,()=>{Q(),V(),n.current.value||Z(),D.emit()}),()=>{a.current.delete(O),s.current.delete(O),n.current.filtered.items.delete(O);let Y=fe();I(4,()=>{Q(),Y?.getAttribute("id")===O&&Z(),D.emit()})}),group:O=>(i.current.has(O)||i.current.set(O,new Set),()=>{a.current.delete(O),i.current.delete(O)}),filter:()=>d.current.shouldFilter,label:p||t["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:T,inputId:N,labelId:E,listInnerRef:P}),[]);function B(O,H){var Y,q;let le=(q=(Y=d.current)==null?void 0:Y.filter)!=null?q:w3;return O?le(O,n.current.search,H):0}function V(){if(!n.current.search||d.current.shouldFilter===!1)return;let O=n.current.filtered.items,H=[];n.current.filtered.groups.forEach(q=>{let le=i.current.get(q),ee=0;le.forEach(de=>{let ke=O.get(de);ee=Math.max(ke,ee)}),H.push([q,ee])});let Y=P.current;ve().sort((q,le)=>{var ee,de;let ke=q.getAttribute("id"),ze=le.getAttribute("id");return((ee=O.get(ze))!=null?ee:0)-((de=O.get(ke))!=null?de:0)}).forEach(q=>{let le=q.closest(Xf);le?le.appendChild(q.parentElement===le?q:q.closest(`${Xf} > *`)):Y.appendChild(q.parentElement===Y?q:q.closest(`${Xf} > *`))}),H.sort((q,le)=>le[1]-q[1]).forEach(q=>{var le;let ee=(le=P.current)==null?void 0:le.querySelector(`${la}[${zo}="${encodeURIComponent(q[0])}"]`);ee?.parentElement.appendChild(ee)})}function Z(){let O=ve().find(Y=>Y.getAttribute("aria-disabled")!=="true"),H=O?.getAttribute(zo);D.setState("value",H||void 0)}function Q(){var O,H,Y,q;if(!n.current.search||d.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let le=0;for(let ee of s.current){let de=(H=(O=a.current.get(ee))==null?void 0:O.value)!=null?H:"",ke=(q=(Y=a.current.get(ee))==null?void 0:Y.keywords)!=null?q:[],ze=B(de,ke);n.current.filtered.items.set(ee,ze),ze>0&&le++}for(let[ee,de]of i.current)for(let ke of de)if(n.current.filtered.items.get(ke)>0){n.current.filtered.groups.add(ee);break}n.current.filtered.count=le}function re(){var O,H,Y;let q=fe();q&&(((O=q.parentElement)==null?void 0:O.firstChild)===q&&((Y=(H=q.closest(la))==null?void 0:H.querySelector(x3))==null||Y.scrollIntoView({block:"nearest"})),q.scrollIntoView({block:"nearest"}))}function fe(){var O;return(O=P.current)==null?void 0:O.querySelector(`${DS}[aria-selected="true"]`)}function ve(){var O;return Array.from(((O=P.current)==null?void 0:O.querySelectorAll(Lx))||[])}function K(O){let H=ve()[O];H&&D.setState("value",H.getAttribute(zo))}function X(O){var H;let Y=fe(),q=ve(),le=q.findIndex(de=>de===Y),ee=q[le+O];(H=d.current)!=null&&H.loop&&(ee=le+O<0?q[q.length-1]:le+O===q.length?q[0]:q[le+O]),ee&&D.setState("value",ee.getAttribute(zo))}function R(O){let H=fe(),Y=H?.closest(la),q;for(;Y&&!q;)Y=O>0?T3(Y,la):P3(Y,la),q=Y?.querySelector(Lx);q?D.setState("value",q.getAttribute(zo)):X(O)}let W=()=>K(ve().length-1),J=O=>{O.preventDefault(),O.metaKey?W():O.altKey?R(1):X(1)},L=O=>{O.preventDefault(),O.metaKey?K(0):O.altKey?R(-1):X(-1)};return w.createElement(qe.div,{ref:e,tabIndex:-1,...C,"cmdk-root":"",onKeyDown:O=>{var H;(H=C.onKeyDown)==null||H.call(C,O);let Y=O.nativeEvent.isComposing||O.keyCode===229;if(!(O.defaultPrevented||Y))switch(O.key){case"n":case"j":{j&&O.ctrlKey&&J(O);break}case"ArrowDown":{J(O);break}case"p":case"k":{j&&O.ctrlKey&&L(O);break}case"ArrowUp":{L(O);break}case"Home":{O.preventDefault(),K(0);break}case"End":{O.preventDefault(),W();break}case"Enter":{O.preventDefault();let q=fe();if(q){let le=new Event(Yh);q.dispatchEvent(le)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:F.inputId,id:F.labelId,style:O3},p),mu(t,O=>w.createElement($S.Provider,{value:D},w.createElement(LS.Provider,{value:F},O))))}),b3=w.forwardRef((t,e)=>{var n,s;let i=Nn(),a=w.useRef(null),l=w.useContext(FS),d=Wa(),p=BS(t),h=(s=(n=p.current)==null?void 0:n.forceMount)!=null?s:l?.forceMount;ro(()=>{if(!h)return d.item(i,l?.id)},[h]);let m=US(i,a,[t.value,t.children,a],t.keywords),g=lm(),x=vs(I=>I.value&&I.value===m.current),b=vs(I=>h||d.filter()===!1?!0:I.search?I.filtered.items.get(i)>0:!0);w.useEffect(()=>{let I=a.current;if(!(!I||t.disabled))return I.addEventListener(Yh,S),()=>I.removeEventListener(Yh,S)},[b,t.onSelect,t.disabled]);function S(){var I,D;_(),(D=(I=p.current).onSelect)==null||D.call(I,m.current)}function _(){g.setState("value",m.current,!0)}if(!b)return null;let{disabled:j,value:C,onSelect:T,forceMount:E,keywords:N,...P}=t;return w.createElement(qe.div,{ref:Mr(a,e),...P,id:i,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!x,"data-disabled":!!j,"data-selected":!!x,onPointerMove:j||d.getDisablePointerSelection()?void 0:_,onClick:j?void 0:S},t.children)}),S3=w.forwardRef((t,e)=>{let{heading:n,children:s,forceMount:i,...a}=t,l=Nn(),d=w.useRef(null),p=w.useRef(null),h=Nn(),m=Wa(),g=vs(b=>i||m.filter()===!1?!0:b.search?b.filtered.groups.has(l):!0);ro(()=>m.group(l),[]),US(l,d,[t.value,t.heading,p]);let x=w.useMemo(()=>({id:l,forceMount:i}),[i]);return w.createElement(qe.div,{ref:Mr(d,e),...a,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},n&&w.createElement("div",{ref:p,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),mu(t,b=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},w.createElement(FS.Provider,{value:x},b))))}),_3=w.forwardRef((t,e)=>{let{alwaysRender:n,...s}=t,i=w.useRef(null),a=vs(l=>!l.search);return!n&&!a?null:w.createElement(qe.div,{ref:Mr(i,e),...s,"cmdk-separator":"",role:"separator"})}),k3=w.forwardRef((t,e)=>{let{onValueChange:n,...s}=t,i=t.value!=null,a=lm(),l=vs(h=>h.search),d=vs(h=>h.selectedItemId),p=Wa();return w.useEffect(()=>{t.value!=null&&a.setState("search",t.value)},[t.value]),w.createElement(qe.input,{ref:e,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":p.listId,"aria-labelledby":p.labelId,"aria-activedescendant":d,id:p.inputId,type:"text",value:i?t.value:l,onChange:h=>{i||a.setState("search",h.target.value),n?.(h.target.value)}})}),j3=w.forwardRef((t,e)=>{let{children:n,label:s="Suggestions",...i}=t,a=w.useRef(null),l=w.useRef(null),d=vs(h=>h.selectedItemId),p=Wa();return w.useEffect(()=>{if(l.current&&a.current){let h=l.current,m=a.current,g,x=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let b=h.offsetHeight;m.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return x.observe(h),()=>{cancelAnimationFrame(g),x.unobserve(h)}}},[]),w.createElement(qe.div,{ref:Mr(a,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":s,id:p.listId},mu(t,h=>w.createElement("div",{ref:Mr(l,p.listInnerRef),"cmdk-list-sizer":""},h)))}),C3=w.forwardRef((t,e)=>{let{open:n,onOpenChange:s,overlayClassName:i,contentClassName:a,container:l,...d}=t;return w.createElement(om,{open:n,onOpenChange:s},w.createElement(im,{container:l},w.createElement(hu,{"cmdk-overlay":"",className:i}),w.createElement(pu,{"aria-label":t.label,"cmdk-dialog":"",className:a},w.createElement(VS,{ref:e,...d}))))}),E3=w.forwardRef((t,e)=>vs(n=>n.filtered.count===0)?w.createElement(qe.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),N3=w.forwardRef((t,e)=>{let{progress:n,children:s,label:i="Loading...",...a}=t;return w.createElement(qe.div,{ref:e,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},mu(t,l=>w.createElement("div",{"aria-hidden":!0},l)))}),wi=Object.assign(VS,{List:j3,Item:b3,Input:k3,Group:S3,Separator:_3,Dialog:C3,Empty:E3,Loading:N3});function T3(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function P3(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function BS(t){let e=w.useRef(t);return ro(()=>{e.current=t}),e}var ro=typeof window>"u"?w.useEffect:w.useLayoutEffect;function Wo(t){let e=w.useRef();return e.current===void 0&&(e.current=t()),e}function vs(t){let e=lm(),n=()=>t(e.snapshot());return w.useSyncExternalStore(e.subscribe,n,n)}function US(t,e,n,s=[]){let i=w.useRef(),a=Wa();return ro(()=>{var l;let d=(()=>{var h;for(let m of n){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(h=m.current.textContent)==null?void 0:h.trim():i.current}})(),p=s.map(h=>h.trim());a.value(t,d,p),(l=e.current)==null||l.setAttribute(zo,d),i.current=d}),i}var A3=()=>{let[t,e]=w.useState(),n=Wo(()=>new Map);return ro(()=>{n.current.forEach(s=>s()),n.current=new Map},[t]),(s,i)=>{n.current.set(s,i),e({})}};function R3(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function mu({asChild:t,children:e},n){return t&&w.isValidElement(e)?w.cloneElement(R3(e),{ref:e.ref},n(e.props.children)):n(e)}var O3={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function I3({...t}){return u.jsx(om,{"data-slot":"dialog",...t})}function M3({...t}){return u.jsx(im,{"data-slot":"dialog-portal",...t})}const zS=w.forwardRef(({className:t,...e},n)=>u.jsx(hu,{ref:n,"data-slot":"dialog-overlay",className:Ze("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));zS.displayName=hu.displayName;const WS=w.forwardRef(({className:t,children:e,...n},s)=>u.jsxs(M3,{"data-slot":"dialog-portal",children:[u.jsx(zS,{}),u.jsxs(pu,{ref:s,"data-slot":"dialog-content",className:Ze("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,u.jsxs(am,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(eo,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));WS.displayName=pu.displayName;function D3({className:t,...e}){return u.jsx("div",{"data-slot":"dialog-header",className:Ze("flex flex-col gap-2 text-center sm:text-left",t),...e})}function L3({className:t,...e}){return u.jsx(IS,{"data-slot":"dialog-title",className:Ze("text-lg leading-none font-semibold",t),...e})}function $3({className:t,...e}){return u.jsx(MS,{"data-slot":"dialog-description",className:Ze("text-muted-foreground text-sm",t),...e})}function F3({className:t,...e}){return u.jsx(wi,{"data-slot":"command",className:Ze("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...e})}function V3({className:t,...e}){return u.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[u.jsx(ru,{className:"size-4 shrink-0 opacity-50"}),u.jsx(wi.Input,{"data-slot":"command-input",className:Ze("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),...e})]})}function B3({className:t,...e}){return u.jsx(wi.List,{"data-slot":"command-list",className:Ze("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),...e})}function U3({...t}){return u.jsx(wi.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t})}function z3({className:t,...e}){return u.jsx(wi.Group,{"data-slot":"command-group",className:Ze("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),...e})}function W3({className:t,...e}){return u.jsx(wi.Item,{"data-slot":"command-item",className:Ze("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}const H3=["top","right","bottom","left"],ys=Math.min,jn=Math.max,Kc=Math.round,jc=Math.floor,yr=t=>({x:t,y:t}),K3={left:"right",right:"left",bottom:"top",top:"bottom"},G3={start:"end",end:"start"};function Jh(t,e,n){return jn(t,ys(e,n))}function Lr(t,e){return typeof t=="function"?t(e):t}function $r(t){return t.split("-")[0]}function bi(t){return t.split("-")[1]}function cm(t){return t==="x"?"y":"x"}function um(t){return t==="y"?"height":"width"}const q3=new Set(["top","bottom"]);function pr(t){return q3.has($r(t))?"y":"x"}function dm(t){return cm(pr(t))}function Y3(t,e,n){n===void 0&&(n=!1);const s=bi(t),i=dm(t),a=um(i);let l=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Gc(l)),[l,Gc(l)]}function J3(t){const e=Gc(t);return[Xh(t),e,Xh(e)]}function Xh(t){return t.replace(/start|end/g,e=>G3[e])}const $x=["left","right"],Fx=["right","left"],X3=["top","bottom"],Q3=["bottom","top"];function Z3(t,e,n){switch(t){case"top":case"bottom":return n?e?Fx:$x:e?$x:Fx;case"left":case"right":return e?X3:Q3;default:return[]}}function e4(t,e,n,s){const i=bi(t);let a=Z3($r(t),n==="start",s);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(Xh)))),a}function Gc(t){return t.replace(/left|right|bottom|top/g,e=>K3[e])}function t4(t){return{top:0,right:0,bottom:0,left:0,...t}}function HS(t){return typeof t!="number"?t4(t):{top:t,right:t,bottom:t,left:t}}function qc(t){const{x:e,y:n,width:s,height:i}=t;return{width:s,height:i,top:n,left:e,right:e+s,bottom:n+i,x:e,y:n}}function Vx(t,e,n){let{reference:s,floating:i}=t;const a=pr(e),l=dm(e),d=um(l),p=$r(e),h=a==="y",m=s.x+s.width/2-i.width/2,g=s.y+s.height/2-i.height/2,x=s[d]/2-i[d]/2;let b;switch(p){case"top":b={x:m,y:s.y-i.height};break;case"bottom":b={x:m,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:g};break;case"left":b={x:s.x-i.width,y:g};break;default:b={x:s.x,y:s.y}}switch(bi(e)){case"start":b[l]-=x*(n&&h?-1:1);break;case"end":b[l]+=x*(n&&h?-1:1);break}return b}const n4=async(t,e,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:l}=n,d=a.filter(Boolean),p=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:m,y:g}=Vx(h,s,p),x=s,b={},S=0;for(let _=0;_<d.length;_++){const{name:j,fn:C}=d[_],{x:T,y:E,data:N,reset:P}=await C({x:m,y:g,initialPlacement:s,placement:x,strategy:i,middlewareData:b,rects:h,platform:l,elements:{reference:t,floating:e}});m=T??m,g=E??g,b={...b,[j]:{...b[j],...N}},P&&S<=50&&(S++,typeof P=="object"&&(P.placement&&(x=P.placement),P.rects&&(h=P.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:m,y:g}=Vx(h,x,p)),_=-1)}return{x:m,y:g,placement:x,strategy:i,middlewareData:b}};async function Oa(t,e){var n;e===void 0&&(e={});const{x:s,y:i,platform:a,rects:l,elements:d,strategy:p}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:x=!1,padding:b=0}=Lr(e,t),S=HS(b),j=d[x?g==="floating"?"reference":"floating":g],C=qc(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(j)))==null||n?j:j.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:h,rootBoundary:m,strategy:p})),T=g==="floating"?{x:s,y:i,width:l.floating.width,height:l.floating.height}:l.reference,E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),N=await(a.isElement==null?void 0:a.isElement(E))?await(a.getScale==null?void 0:a.getScale(E))||{x:1,y:1}:{x:1,y:1},P=qc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:T,offsetParent:E,strategy:p}):T);return{top:(C.top-P.top+S.top)/N.y,bottom:(P.bottom-C.bottom+S.bottom)/N.y,left:(C.left-P.left+S.left)/N.x,right:(P.right-C.right+S.right)/N.x}}const r4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:i,rects:a,platform:l,elements:d,middlewareData:p}=e,{element:h,padding:m=0}=Lr(t,e)||{};if(h==null)return{};const g=HS(m),x={x:n,y:s},b=dm(i),S=um(b),_=await l.getDimensions(h),j=b==="y",C=j?"top":"left",T=j?"bottom":"right",E=j?"clientHeight":"clientWidth",N=a.reference[S]+a.reference[b]-x[b]-a.floating[S],P=x[b]-a.reference[b],I=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let D=I?I[E]:0;(!D||!await(l.isElement==null?void 0:l.isElement(I)))&&(D=d.floating[E]||a.floating[S]);const F=N/2-P/2,B=D/2-_[S]/2-1,V=ys(g[C],B),Z=ys(g[T],B),Q=V,re=D-_[S]-Z,fe=D/2-_[S]/2+F,ve=Jh(Q,fe,re),K=!p.arrow&&bi(i)!=null&&fe!==ve&&a.reference[S]/2-(fe<Q?V:Z)-_[S]/2<0,X=K?fe<Q?fe-Q:fe-re:0;return{[b]:x[b]+X,data:{[b]:ve,centerOffset:fe-ve-X,...K&&{alignmentOffset:X}},reset:K}}}),s4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:i,middlewareData:a,rects:l,initialPlacement:d,platform:p,elements:h}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:_=!0,...j}=Lr(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const C=$r(i),T=pr(d),E=$r(d)===d,N=await(p.isRTL==null?void 0:p.isRTL(h.floating)),P=x||(E||!_?[Gc(d)]:J3(d)),I=S!=="none";!x&&I&&P.push(...e4(d,_,S,N));const D=[d,...P],F=await Oa(e,j),B=[];let V=((s=a.flip)==null?void 0:s.overflows)||[];if(m&&B.push(F[C]),g){const fe=Y3(i,l,N);B.push(F[fe[0]],F[fe[1]])}if(V=[...V,{placement:i,overflows:B}],!B.every(fe=>fe<=0)){var Z,Q;const fe=(((Z=a.flip)==null?void 0:Z.index)||0)+1,ve=D[fe];if(ve&&(!(g==="alignment"?T!==pr(ve):!1)||V.every(R=>pr(R.placement)===T?R.overflows[0]>0:!0)))return{data:{index:fe,overflows:V},reset:{placement:ve}};let K=(Q=V.filter(X=>X.overflows[0]<=0).sort((X,R)=>X.overflows[1]-R.overflows[1])[0])==null?void 0:Q.placement;if(!K)switch(b){case"bestFit":{var re;const X=(re=V.filter(R=>{if(I){const W=pr(R.placement);return W===T||W==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(W=>W>0).reduce((W,J)=>W+J,0)]).sort((R,W)=>R[1]-W[1])[0])==null?void 0:re[0];X&&(K=X);break}case"initialPlacement":K=d;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function Bx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ux(t){return H3.some(e=>t[e]>=0)}const o4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...i}=Lr(t,e);switch(s){case"referenceHidden":{const a=await Oa(e,{...i,elementContext:"reference"}),l=Bx(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Ux(l)}}}case"escaped":{const a=await Oa(e,{...i,altBoundary:!0}),l=Bx(a,n.floating);return{data:{escapedOffsets:l,escaped:Ux(l)}}}default:return{}}}}},KS=new Set(["left","top"]);async function i4(t,e){const{placement:n,platform:s,elements:i}=t,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),l=$r(n),d=bi(n),p=pr(n)==="y",h=KS.has(l)?-1:1,m=a&&p?-1:1,g=Lr(e,t);let{mainAxis:x,crossAxis:b,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof S=="number"&&(b=d==="end"?S*-1:S),p?{x:b*m,y:x*h}:{x:x*h,y:b*m}}const a4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:i,y:a,placement:l,middlewareData:d}=e,p=await i4(e,t);return l===((n=d.offset)==null?void 0:n.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:i+p.x,y:a+p.y,data:{...p,placement:l}}}}},l4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:d={fn:j=>{let{x:C,y:T}=j;return{x:C,y:T}}},...p}=Lr(t,e),h={x:n,y:s},m=await Oa(e,p),g=pr($r(i)),x=cm(g);let b=h[x],S=h[g];if(a){const j=x==="y"?"top":"left",C=x==="y"?"bottom":"right",T=b+m[j],E=b-m[C];b=Jh(T,b,E)}if(l){const j=g==="y"?"top":"left",C=g==="y"?"bottom":"right",T=S+m[j],E=S-m[C];S=Jh(T,S,E)}const _=d.fn({...e,[x]:b,[g]:S});return{..._,data:{x:_.x-n,y:_.y-s,enabled:{[x]:a,[g]:l}}}}}},c4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:i,rects:a,middlewareData:l}=e,{offset:d=0,mainAxis:p=!0,crossAxis:h=!0}=Lr(t,e),m={x:n,y:s},g=pr(i),x=cm(g);let b=m[x],S=m[g];const _=Lr(d,e),j=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(p){const E=x==="y"?"height":"width",N=a.reference[x]-a.floating[E]+j.mainAxis,P=a.reference[x]+a.reference[E]-j.mainAxis;b<N?b=N:b>P&&(b=P)}if(h){var C,T;const E=x==="y"?"width":"height",N=KS.has($r(i)),P=a.reference[g]-a.floating[E]+(N&&((C=l.offset)==null?void 0:C[g])||0)+(N?0:j.crossAxis),I=a.reference[g]+a.reference[E]+(N?0:((T=l.offset)==null?void 0:T[g])||0)-(N?j.crossAxis:0);S<P?S=P:S>I&&(S=I)}return{[x]:b,[g]:S}}}},u4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:i,rects:a,platform:l,elements:d}=e,{apply:p=()=>{},...h}=Lr(t,e),m=await Oa(e,h),g=$r(i),x=bi(i),b=pr(i)==="y",{width:S,height:_}=a.floating;let j,C;g==="top"||g==="bottom"?(j=g,C=x===(await(l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(C=g,j=x==="end"?"top":"bottom");const T=_-m.top-m.bottom,E=S-m.left-m.right,N=ys(_-m[j],T),P=ys(S-m[C],E),I=!e.middlewareData.shift;let D=N,F=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(F=E),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(D=T),I&&!x){const V=jn(m.left,0),Z=jn(m.right,0),Q=jn(m.top,0),re=jn(m.bottom,0);b?F=S-2*(V!==0||Z!==0?V+Z:jn(m.left,m.right)):D=_-2*(Q!==0||re!==0?Q+re:jn(m.top,m.bottom))}await p({...e,availableWidth:F,availableHeight:D});const B=await l.getDimensions(d.floating);return S!==B.width||_!==B.height?{reset:{rects:!0}}:{}}}};function gu(){return typeof window<"u"}function Si(t){return GS(t)?(t.nodeName||"").toLowerCase():"#document"}function Tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Sr(t){var e;return(e=(GS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function GS(t){return gu()?t instanceof Node||t instanceof Tn(t).Node:!1}function or(t){return gu()?t instanceof Element||t instanceof Tn(t).Element:!1}function wr(t){return gu()?t instanceof HTMLElement||t instanceof Tn(t).HTMLElement:!1}function zx(t){return!gu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tn(t).ShadowRoot}const d4=new Set(["inline","contents"]);function Ha(t){const{overflow:e,overflowX:n,overflowY:s,display:i}=ir(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!d4.has(i)}const f4=new Set(["table","td","th"]);function h4(t){return f4.has(Si(t))}const p4=[":popover-open",":modal"];function vu(t){return p4.some(e=>{try{return t.matches(e)}catch{return!1}})}const m4=["transform","translate","scale","rotate","perspective"],g4=["transform","translate","scale","rotate","perspective","filter"],v4=["paint","layout","strict","content"];function fm(t){const e=hm(),n=or(t)?ir(t):t;return m4.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||g4.some(s=>(n.willChange||"").includes(s))||v4.some(s=>(n.contain||"").includes(s))}function y4(t){let e=xs(t);for(;wr(e)&&!ui(e);){if(fm(e))return e;if(vu(e))return null;e=xs(e)}return null}function hm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const x4=new Set(["html","body","#document"]);function ui(t){return x4.has(Si(t))}function ir(t){return Tn(t).getComputedStyle(t)}function yu(t){return or(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xs(t){if(Si(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zx(t)&&t.host||Sr(t);return zx(e)?e.host:e}function qS(t){const e=xs(t);return ui(e)?t.ownerDocument?t.ownerDocument.body:t.body:wr(e)&&Ha(e)?e:qS(e)}function Ia(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=qS(t),a=i===((s=t.ownerDocument)==null?void 0:s.body),l=Tn(i);if(a){const d=Qh(l);return e.concat(l,l.visualViewport||[],Ha(i)?i:[],d&&n?Ia(d):[])}return e.concat(i,Ia(i,[],n))}function Qh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function YS(t){const e=ir(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=wr(t),a=i?t.offsetWidth:n,l=i?t.offsetHeight:s,d=Kc(n)!==a||Kc(s)!==l;return d&&(n=a,s=l),{width:n,height:s,$:d}}function pm(t){return or(t)?t:t.contextElement}function ei(t){const e=pm(t);if(!wr(e))return yr(1);const n=e.getBoundingClientRect(),{width:s,height:i,$:a}=YS(e);let l=(a?Kc(n.width):n.width)/s,d=(a?Kc(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const w4=yr(0);function JS(t){const e=Tn(t);return!hm()||!e.visualViewport?w4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function b4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tn(t)?!1:e}function so(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=pm(t);let l=yr(1);e&&(s?or(s)&&(l=ei(s)):l=ei(t));const d=b4(a,n,s)?JS(a):yr(0);let p=(i.left+d.x)/l.x,h=(i.top+d.y)/l.y,m=i.width/l.x,g=i.height/l.y;if(a){const x=Tn(a),b=s&&or(s)?Tn(s):s;let S=x,_=Qh(S);for(;_&&s&&b!==S;){const j=ei(_),C=_.getBoundingClientRect(),T=ir(_),E=C.left+(_.clientLeft+parseFloat(T.paddingLeft))*j.x,N=C.top+(_.clientTop+parseFloat(T.paddingTop))*j.y;p*=j.x,h*=j.y,m*=j.x,g*=j.y,p+=E,h+=N,S=Tn(_),_=Qh(S)}}return qc({width:m,height:g,x:p,y:h})}function xu(t,e){const n=yu(t).scrollLeft;return e?e.left+n:so(Sr(t)).left+n}function XS(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-xu(t,n),i=n.top+e.scrollTop;return{x:s,y:i}}function S4(t){let{elements:e,rect:n,offsetParent:s,strategy:i}=t;const a=i==="fixed",l=Sr(s),d=e?vu(e.floating):!1;if(s===l||d&&a)return n;let p={scrollLeft:0,scrollTop:0},h=yr(1);const m=yr(0),g=wr(s);if((g||!g&&!a)&&((Si(s)!=="body"||Ha(l))&&(p=yu(s)),wr(s))){const b=so(s);h=ei(s),m.x=b.x+s.clientLeft,m.y=b.y+s.clientTop}const x=l&&!g&&!a?XS(l,p):yr(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-p.scrollLeft*h.x+m.x+x.x,y:n.y*h.y-p.scrollTop*h.y+m.y+x.y}}function _4(t){return Array.from(t.getClientRects())}function k4(t){const e=Sr(t),n=yu(t),s=t.ownerDocument.body,i=jn(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),a=jn(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let l=-n.scrollLeft+xu(t);const d=-n.scrollTop;return ir(s).direction==="rtl"&&(l+=jn(e.clientWidth,s.clientWidth)-i),{width:i,height:a,x:l,y:d}}const Wx=25;function j4(t,e){const n=Tn(t),s=Sr(t),i=n.visualViewport;let a=s.clientWidth,l=s.clientHeight,d=0,p=0;if(i){a=i.width,l=i.height;const m=hm();(!m||m&&e==="fixed")&&(d=i.offsetLeft,p=i.offsetTop)}const h=xu(s);if(h<=0){const m=s.ownerDocument,g=m.body,x=getComputedStyle(g),b=m.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,S=Math.abs(s.clientWidth-g.clientWidth-b);S<=Wx&&(a-=S)}else h<=Wx&&(a+=h);return{width:a,height:l,x:d,y:p}}const C4=new Set(["absolute","fixed"]);function E4(t,e){const n=so(t,!0,e==="fixed"),s=n.top+t.clientTop,i=n.left+t.clientLeft,a=wr(t)?ei(t):yr(1),l=t.clientWidth*a.x,d=t.clientHeight*a.y,p=i*a.x,h=s*a.y;return{width:l,height:d,x:p,y:h}}function Hx(t,e,n){let s;if(e==="viewport")s=j4(t,n);else if(e==="document")s=k4(Sr(t));else if(or(e))s=E4(e,n);else{const i=JS(t);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return qc(s)}function QS(t,e){const n=xs(t);return n===e||!or(n)||ui(n)?!1:ir(n).position==="fixed"||QS(n,e)}function N4(t,e){const n=e.get(t);if(n)return n;let s=Ia(t,[],!1).filter(d=>or(d)&&Si(d)!=="body"),i=null;const a=ir(t).position==="fixed";let l=a?xs(t):t;for(;or(l)&&!ui(l);){const d=ir(l),p=fm(l);!p&&d.position==="fixed"&&(i=null),(a?!p&&!i:!p&&d.position==="static"&&!!i&&C4.has(i.position)||Ha(l)&&!p&&QS(t,l))?s=s.filter(m=>m!==l):i=d,l=xs(l)}return e.set(t,s),s}function T4(t){let{element:e,boundary:n,rootBoundary:s,strategy:i}=t;const l=[...n==="clippingAncestors"?vu(e)?[]:N4(e,this._c):[].concat(n),s],d=l[0],p=l.reduce((h,m)=>{const g=Hx(e,m,i);return h.top=jn(g.top,h.top),h.right=ys(g.right,h.right),h.bottom=ys(g.bottom,h.bottom),h.left=jn(g.left,h.left),h},Hx(e,d,i));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function P4(t){const{width:e,height:n}=YS(t);return{width:e,height:n}}function A4(t,e,n){const s=wr(e),i=Sr(e),a=n==="fixed",l=so(t,!0,a,e);let d={scrollLeft:0,scrollTop:0};const p=yr(0);function h(){p.x=xu(i)}if(s||!s&&!a)if((Si(e)!=="body"||Ha(i))&&(d=yu(e)),s){const b=so(e,!0,a,e);p.x=b.x+e.clientLeft,p.y=b.y+e.clientTop}else i&&h();a&&!s&&i&&h();const m=i&&!s&&!a?XS(i,d):yr(0),g=l.left+d.scrollLeft-p.x-m.x,x=l.top+d.scrollTop-p.y-m.y;return{x:g,y:x,width:l.width,height:l.height}}function Qf(t){return ir(t).position==="static"}function Kx(t,e){if(!wr(t)||ir(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Sr(t)===n&&(n=n.ownerDocument.body),n}function ZS(t,e){const n=Tn(t);if(vu(t))return n;if(!wr(t)){let i=xs(t);for(;i&&!ui(i);){if(or(i)&&!Qf(i))return i;i=xs(i)}return n}let s=Kx(t,e);for(;s&&h4(s)&&Qf(s);)s=Kx(s,e);return s&&ui(s)&&Qf(s)&&!fm(s)?n:s||y4(t)||n}const R4=async function(t){const e=this.getOffsetParent||ZS,n=this.getDimensions,s=await n(t.floating);return{reference:A4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function O4(t){return ir(t).direction==="rtl"}const I4={convertOffsetParentRelativeRectToViewportRelativeRect:S4,getDocumentElement:Sr,getClippingRect:T4,getOffsetParent:ZS,getElementRects:R4,getClientRects:_4,getDimensions:P4,getScale:ei,isElement:or,isRTL:O4};function e_(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function M4(t,e){let n=null,s;const i=Sr(t);function a(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function l(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),a();const h=t.getBoundingClientRect(),{left:m,top:g,width:x,height:b}=h;if(d||e(),!x||!b)return;const S=jc(g),_=jc(i.clientWidth-(m+x)),j=jc(i.clientHeight-(g+b)),C=jc(m),E={rootMargin:-S+"px "+-_+"px "+-j+"px "+-C+"px",threshold:jn(0,ys(1,p))||1};let N=!0;function P(I){const D=I[0].intersectionRatio;if(D!==p){if(!N)return l();D?l(!1,D):s=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!e_(h,t.getBoundingClientRect())&&l(),N=!1}try{n=new IntersectionObserver(P,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,E)}n.observe(t)}return l(!0),a}function D4(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=s,h=pm(t),m=i||a?[...h?Ia(h):[],...Ia(e)]:[];m.forEach(C=>{i&&C.addEventListener("scroll",n,{passive:!0}),a&&C.addEventListener("resize",n)});const g=h&&d?M4(h,n):null;let x=-1,b=null;l&&(b=new ResizeObserver(C=>{let[T]=C;T&&T.target===h&&b&&(b.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var E;(E=b)==null||E.observe(e)})),n()}),h&&!p&&b.observe(h),b.observe(e));let S,_=p?so(t):null;p&&j();function j(){const C=so(t);_&&!e_(_,C)&&n(),_=C,S=requestAnimationFrame(j)}return n(),()=>{var C;m.forEach(T=>{i&&T.removeEventListener("scroll",n),a&&T.removeEventListener("resize",n)}),g?.(),(C=b)==null||C.disconnect(),b=null,p&&cancelAnimationFrame(S)}}const L4=a4,$4=l4,F4=s4,V4=u4,B4=o4,Gx=r4,U4=c4,z4=(t,e,n)=>{const s=new Map,i={platform:I4,...n},a={...i.platform,_c:s};return n4(t,e,{...i,platform:a})};var W4=typeof document<"u",H4=function(){},Rc=W4?w.useLayoutEffect:H4;function Yc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Yc(t[s],e[s]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&t.$$typeof)&&!Yc(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function t_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function qx(t,e){const n=t_(t);return Math.round(e*n)/n}function Zf(t){const e=w.useRef(t);return Rc(()=>{e.current=t}),e}function K4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:l}={},transform:d=!0,whileElementsMounted:p,open:h}=t,[m,g]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,b]=w.useState(s);Yc(x,s)||b(s);const[S,_]=w.useState(null),[j,C]=w.useState(null),T=w.useCallback(R=>{R!==I.current&&(I.current=R,_(R))},[]),E=w.useCallback(R=>{R!==D.current&&(D.current=R,C(R))},[]),N=a||S,P=l||j,I=w.useRef(null),D=w.useRef(null),F=w.useRef(m),B=p!=null,V=Zf(p),Z=Zf(i),Q=Zf(h),re=w.useCallback(()=>{if(!I.current||!D.current)return;const R={placement:e,strategy:n,middleware:x};Z.current&&(R.platform=Z.current),z4(I.current,D.current,R).then(W=>{const J={...W,isPositioned:Q.current!==!1};fe.current&&!Yc(F.current,J)&&(F.current=J,sp.flushSync(()=>{g(J)}))})},[x,e,n,Z,Q]);Rc(()=>{h===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,g(R=>({...R,isPositioned:!1})))},[h]);const fe=w.useRef(!1);Rc(()=>(fe.current=!0,()=>{fe.current=!1}),[]),Rc(()=>{if(N&&(I.current=N),P&&(D.current=P),N&&P){if(V.current)return V.current(N,P,re);re()}},[N,P,re,V,B]);const ve=w.useMemo(()=>({reference:I,floating:D,setReference:T,setFloating:E}),[T,E]),K=w.useMemo(()=>({reference:N,floating:P}),[N,P]),X=w.useMemo(()=>{const R={position:n,left:0,top:0};if(!K.floating)return R;const W=qx(K.floating,m.x),J=qx(K.floating,m.y);return d?{...R,transform:"translate("+W+"px, "+J+"px)",...t_(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:J}},[n,d,K.floating,m.x,m.y]);return w.useMemo(()=>({...m,update:re,refs:ve,elements:K,floatingStyles:X}),[m,re,ve,K,X])}const G4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:i}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?Gx({element:s.current,padding:i}).fn(n):{}:s?Gx({element:s,padding:i}).fn(n):{}}}},q4=(t,e)=>({...L4(t),options:[t,e]}),Y4=(t,e)=>({...$4(t),options:[t,e]}),J4=(t,e)=>({...U4(t),options:[t,e]}),X4=(t,e)=>({...F4(t),options:[t,e]}),Q4=(t,e)=>({...V4(t),options:[t,e]}),Z4=(t,e)=>({...B4(t),options:[t,e]}),eD=(t,e)=>({...G4(t),options:[t,e]});var tD="Arrow",n_=w.forwardRef((t,e)=>{const{children:n,width:s=10,height:i=5,...a}=t;return u.jsx(qe.svg,{...a,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});n_.displayName=tD;var nD=n_;function r_(t){const[e,n]=w.useState(void 0);return gs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,d;if("borderBoxSize"in a){const p=a.borderBoxSize,h=Array.isArray(p)?p[0]:p;l=h.inlineSize,d=h.blockSize}else l=t.offsetWidth,d=t.offsetHeight;n({width:l,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var mm="Popper",[s_,wu]=Fr(mm),[rD,o_]=s_(mm),i_=t=>{const{__scopePopper:e,children:n}=t,[s,i]=w.useState(null);return u.jsx(rD,{scope:e,anchor:s,onAnchorChange:i,children:n})};i_.displayName=mm;var a_="PopperAnchor",l_=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...i}=t,a=o_(a_,n),l=w.useRef(null),d=mt(e,l),p=w.useRef(null);return w.useEffect(()=>{const h=p.current;p.current=s?.current||l.current,h!==p.current&&a.onAnchorChange(p.current)}),s?null:u.jsx(qe.div,{...i,ref:d})});l_.displayName=a_;var gm="PopperContent",[sD,oD]=s_(gm),c_=w.forwardRef((t,e)=>{const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:p=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:S,..._}=t,j=o_(gm,n),[C,T]=w.useState(null),E=mt(e,ee=>T(ee)),[N,P]=w.useState(null),I=r_(N),D=I?.width??0,F=I?.height??0,B=s+(a!=="center"?"-"+a:""),V=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Z=Array.isArray(h)?h:[h],Q=Z.length>0,re={padding:V,boundary:Z.filter(aD),altBoundary:Q},{refs:fe,floatingStyles:ve,placement:K,isPositioned:X,middlewareData:R}=K4({strategy:"fixed",placement:B,whileElementsMounted:(...ee)=>D4(...ee,{animationFrame:b==="always"}),elements:{reference:j.anchor},middleware:[q4({mainAxis:i+F,alignmentAxis:l}),p&&Y4({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?J4():void 0,...re}),p&&X4({...re}),Q4({...re,apply:({elements:ee,rects:de,availableWidth:ke,availableHeight:ze})=>{const{width:rt,height:pe}=de.reference,Ke=ee.floating.style;Ke.setProperty("--radix-popper-available-width",`${ke}px`),Ke.setProperty("--radix-popper-available-height",`${ze}px`),Ke.setProperty("--radix-popper-anchor-width",`${rt}px`),Ke.setProperty("--radix-popper-anchor-height",`${pe}px`)}}),N&&eD({element:N,padding:d}),lD({arrowWidth:D,arrowHeight:F}),x&&Z4({strategy:"referenceHidden",...re})]}),[W,J]=f_(K),L=Dr(S);gs(()=>{X&&L?.()},[X,L]);const O=R.arrow?.x,H=R.arrow?.y,Y=R.arrow?.centerOffset!==0,[q,le]=w.useState();return gs(()=>{C&&le(window.getComputedStyle(C).zIndex)},[C]),u.jsx("div",{ref:fe.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:X?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(sD,{scope:n,placedSide:W,onArrowChange:P,arrowX:O,arrowY:H,shouldHideArrow:Y,children:u.jsx(qe.div,{"data-side":W,"data-align":J,..._,ref:E,style:{..._.style,animation:X?void 0:"none"}})})})});c_.displayName=gm;var u_="PopperArrow",iD={top:"bottom",right:"left",bottom:"top",left:"right"},d_=w.forwardRef(function(e,n){const{__scopePopper:s,...i}=e,a=oD(u_,s),l=iD[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(nD,{...i,ref:n,style:{...i.style,display:"block"}})})});d_.displayName=u_;function aD(t){return t!==null}var lD=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:s,middlewareData:i}=e,l=i.arrow?.centerOffset!==0,d=l?0:t.arrowWidth,p=l?0:t.arrowHeight,[h,m]=f_(n),g={start:"0%",center:"50%",end:"100%"}[m],x=(i.arrow?.x??0)+d/2,b=(i.arrow?.y??0)+p/2;let S="",_="";return h==="bottom"?(S=l?g:`${x}px`,_=`${-p}px`):h==="top"?(S=l?g:`${x}px`,_=`${s.floating.height+p}px`):h==="right"?(S=`${-p}px`,_=l?g:`${b}px`):h==="left"&&(S=`${s.floating.width+p}px`,_=l?g:`${b}px`),{data:{x:S,y:_}}}});function f_(t){const[e,n="center"]=t.split("-");return[e,n]}var h_=i_,vm=l_,p_=c_,m_=d_,bu="Popover",[g_]=Fr(bu,[wu]),Ka=wu(),[cD,_s]=g_(bu),v_=t=>{const{__scopePopover:e,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:l=!1}=t,d=Ka(e),p=w.useRef(null),[h,m]=w.useState(!1),[g,x]=za({prop:s,defaultProp:i??!1,onChange:a,caller:bu});return u.jsx(h_,{...d,children:u.jsx(cD,{scope:e,contentId:Nn(),triggerRef:p,open:g,onOpenChange:x,onOpenToggle:w.useCallback(()=>x(b=>!b),[x]),hasCustomAnchor:h,onCustomAnchorAdd:w.useCallback(()=>m(!0),[]),onCustomAnchorRemove:w.useCallback(()=>m(!1),[]),modal:l,children:n})})};v_.displayName=bu;var y_="PopoverAnchor",uD=w.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=_s(y_,n),a=Ka(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:d}=i;return w.useEffect(()=>(l(),()=>d()),[l,d]),u.jsx(vm,{...a,...s,ref:e})});uD.displayName=y_;var x_="PopoverTrigger",w_=w.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=_s(x_,n),a=Ka(n),l=mt(e,i.triggerRef),d=u.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":j_(i.open),...s,ref:l,onClick:De(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?d:u.jsx(vm,{asChild:!0,...a,children:d})});w_.displayName=x_;var ym="PopoverPortal",[dD,fD]=g_(ym,{forceMount:void 0}),b_=t=>{const{__scopePopover:e,forceMount:n,children:s,container:i}=t,a=_s(ym,e);return u.jsx(dD,{scope:e,forceMount:n,children:u.jsx(br,{present:n||a.open,children:u.jsx(cu,{asChild:!0,container:i,children:s})})})};b_.displayName=ym;var di="PopoverContent",S_=w.forwardRef((t,e)=>{const n=fD(di,t.__scopePopover),{forceMount:s=n.forceMount,...i}=t,a=_s(di,t.__scopePopover);return u.jsx(br,{present:s||a.open,children:a.modal?u.jsx(pD,{...i,ref:e}):u.jsx(mD,{...i,ref:e})})});S_.displayName=di;var hD=to("PopoverContent.RemoveScroll"),pD=w.forwardRef((t,e)=>{const n=_s(di,t.__scopePopover),s=w.useRef(null),i=mt(e,s),a=w.useRef(!1);return w.useEffect(()=>{const l=s.current;if(l)return tm(l)},[]),u.jsx(du,{as:hD,allowPinchZoom:!0,children:u.jsx(__,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(t.onCloseAutoFocus,l=>{l.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:De(t.onPointerDownOutside,l=>{const d=l.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0,h=d.button===2||p;a.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:De(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),mD=w.forwardRef((t,e)=>{const n=_s(di,t.__scopePopover),s=w.useRef(!1),i=w.useRef(!1);return u.jsx(__,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||n.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;n.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),__=w.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:m,...g}=t,x=_s(di,n),b=Ka(n);return em(),u.jsx(lu,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(au,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:h,onDismiss:()=>x.onOpenChange(!1),children:u.jsx(p_,{"data-state":j_(x.open),role:"dialog",id:x.contentId,...b,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),k_="PopoverClose",gD=w.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=_s(k_,n);return u.jsx(qe.button,{type:"button",...s,ref:e,onClick:De(t.onClick,()=>i.onOpenChange(!1))})});gD.displayName=k_;var vD="PopoverArrow",yD=w.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=Ka(n);return u.jsx(m_,{...i,...s,ref:e})});yD.displayName=vD;function j_(t){return t?"open":"closed"}var xD=v_,wD=w_,bD=b_,SD=S_;function C_({...t}){return u.jsx(xD,{"data-slot":"popover",...t})}function E_({...t}){return u.jsx(wD,{"data-slot":"popover-trigger",...t})}function N_({className:t,align:e="center",sideOffset:n=4,...s}){return u.jsx(bD,{children:u.jsx(SD,{"data-slot":"popover-content",align:e,sideOffset:n,className:Ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...s})})}const Ys=[{code:"US",name:"United States",dialCode:"+1",flag:"🇺🇸",placeholder:"(555) 123-4567"},{code:"GB",name:"United Kingdom",dialCode:"+44",flag:"🇬🇧",placeholder:"7400 123456"},{code:"AF",name:"Afghanistan",dialCode:"+93",flag:"🇦🇫",placeholder:"70 123 4567"},{code:"AL",name:"Albania",dialCode:"+355",flag:"🇦🇱",placeholder:"66 123 4567"},{code:"DZ",name:"Algeria",dialCode:"+213",flag:"🇩🇿",placeholder:"551 23 45 67"},{code:"AS",name:"American Samoa",dialCode:"+1684",flag:"🇦🇸",placeholder:"733 1234"},{code:"AD",name:"Andorra",dialCode:"+376",flag:"🇦🇩",placeholder:"312 345"},{code:"AO",name:"Angola",dialCode:"+244",flag:"🇦🇴",placeholder:"923 123 456"},{code:"AR",name:"Argentina",dialCode:"+54",flag:"🇦🇷",placeholder:"11 2345-6789"},{code:"AM",name:"Armenia",dialCode:"+374",flag:"🇦🇲",placeholder:"77 123456"},{code:"AU",name:"Australia",dialCode:"+61",flag:"🇦🇺",placeholder:"412 345 678"},{code:"AT",name:"Austria",dialCode:"+43",flag:"🇦🇹",placeholder:"664 1234567"},{code:"AZ",name:"Azerbaijan",dialCode:"+994",flag:"🇦🇿",placeholder:"40 123 45 67"},{code:"BH",name:"Bahrain",dialCode:"+973",flag:"🇧🇭",placeholder:"3600 1234"},{code:"BD",name:"Bangladesh",dialCode:"+880",flag:"🇧🇩",placeholder:"1812 345678"},{code:"BY",name:"Belarus",dialCode:"+375",flag:"🇧🇾",placeholder:"29 123 45 67"},{code:"BE",name:"Belgium",dialCode:"+32",flag:"🇧🇪",placeholder:"470 12 34 56"},{code:"BZ",name:"Belize",dialCode:"+501",flag:"🇧🇿",placeholder:"622 1234"},{code:"BJ",name:"Benin",dialCode:"+229",flag:"🇧🇯",placeholder:"90 01 12 34"},{code:"BT",name:"Bhutan",dialCode:"+975",flag:"🇧🇹",placeholder:"17 12 34 56"},{code:"BO",name:"Bolivia",dialCode:"+591",flag:"🇧🇴",placeholder:"71234567"},{code:"BA",name:"Bosnia and Herzegovina",dialCode:"+387",flag:"🇧🇦",placeholder:"61 123 456"},{code:"BW",name:"Botswana",dialCode:"+267",flag:"🇧🇼",placeholder:"71 123 456"},{code:"BR",name:"Brazil",dialCode:"+55",flag:"🇧🇷",placeholder:"11 91234-5678"},{code:"BN",name:"Brunei",dialCode:"+673",flag:"🇧🇳",placeholder:"712 3456"},{code:"BG",name:"Bulgaria",dialCode:"+359",flag:"🇧🇬",placeholder:"48 123 456"},{code:"BF",name:"Burkina Faso",dialCode:"+226",flag:"🇧🇫",placeholder:"70 12 34 56"},{code:"BI",name:"Burundi",dialCode:"+257",flag:"🇧🇮",placeholder:"79 56 12 34"},{code:"KH",name:"Cambodia",dialCode:"+855",flag:"🇰🇭",placeholder:"91 234 567"},{code:"CM",name:"Cameroon",dialCode:"+237",flag:"🇨🇲",placeholder:"6 71 23 45 67"},{code:"CA",name:"Canada",dialCode:"+1",flag:"🇨🇦",placeholder:"(555) 123-4567"},{code:"CV",name:"Cape Verde",dialCode:"+238",flag:"🇨🇻",placeholder:"991 12 34"},{code:"CF",name:"Central African Republic",dialCode:"+236",flag:"🇨🇫",placeholder:"70 01 23 45"},{code:"TD",name:"Chad",dialCode:"+235",flag:"🇹🇩",placeholder:"63 01 23 45"},{code:"CL",name:"Chile",dialCode:"+56",flag:"🇨🇱",placeholder:"9 1234 5678"},{code:"CN",name:"China",dialCode:"+86",flag:"🇨🇳",placeholder:"138 0013 8000"},{code:"CO",name:"Colombia",dialCode:"+57",flag:"🇨🇴",placeholder:"321 1234567"},{code:"KM",name:"Comoros",dialCode:"+269",flag:"🇰🇲",placeholder:"321 23 45"},{code:"CG",name:"Congo",dialCode:"+242",flag:"🇨🇬",placeholder:"06 123 4567"},{code:"CD",name:"Congo (DRC)",dialCode:"+243",flag:"🇨🇩",placeholder:"991 234 567"},{code:"CR",name:"Costa Rica",dialCode:"+506",flag:"🇨🇷",placeholder:"8312 3456"},{code:"HR",name:"Croatia",dialCode:"+385",flag:"🇭🇷",placeholder:"92 123 4567"},{code:"CU",name:"Cuba",dialCode:"+53",flag:"🇨🇺",placeholder:"5 1234567"},{code:"CY",name:"Cyprus",dialCode:"+357",flag:"🇨🇾",placeholder:"96 123456"},{code:"CZ",name:"Czech Republic",dialCode:"+420",flag:"🇨🇿",placeholder:"601 123 456"},{code:"DK",name:"Denmark",dialCode:"+45",flag:"🇩🇰",placeholder:"32 12 34 56"},{code:"DJ",name:"Djibouti",dialCode:"+253",flag:"🇩🇯",placeholder:"77 83 10 01"},{code:"DO",name:"Dominican Republic",dialCode:"+1809",flag:"🇩🇴",placeholder:"809 234 5678"},{code:"EC",name:"Ecuador",dialCode:"+593",flag:"🇪🇨",placeholder:"99 123 4567"},{code:"EG",name:"Egypt",dialCode:"+20",flag:"🇪🇬",placeholder:"100 123 4567"},{code:"SV",name:"El Salvador",dialCode:"+503",flag:"🇸🇻",placeholder:"7012 3456"},{code:"GQ",name:"Equatorial Guinea",dialCode:"+240",flag:"🇬🇶",placeholder:"222 123 456"},{code:"ER",name:"Eritrea",dialCode:"+291",flag:"🇪🇷",placeholder:"7 123 456"},{code:"EE",name:"Estonia",dialCode:"+372",flag:"🇪🇪",placeholder:"5123 4567"},{code:"ET",name:"Ethiopia",dialCode:"+251",flag:"🇪🇹",placeholder:"91 123 4567"},{code:"FJ",name:"Fiji",dialCode:"+679",flag:"🇫🇯",placeholder:"701 2345"},{code:"FI",name:"Finland",dialCode:"+358",flag:"🇫🇮",placeholder:"41 2345678"},{code:"FR",name:"France",dialCode:"+33",flag:"🇫🇷",placeholder:"6 12 34 56 78"},{code:"GA",name:"Gabon",dialCode:"+241",flag:"🇬🇦",placeholder:"06 03 12 34"},{code:"GM",name:"Gambia",dialCode:"+220",flag:"🇬🇲",placeholder:"301 2345"},{code:"GE",name:"Georgia",dialCode:"+995",flag:"🇬🇪",placeholder:"555 12 34 56"},{code:"DE",name:"Germany",dialCode:"+49",flag:"🇩🇪",placeholder:"1512 3456789"},{code:"GH",name:"Ghana",dialCode:"+233",flag:"🇬🇭",placeholder:"23 123 4567"},{code:"GR",name:"Greece",dialCode:"+30",flag:"🇬🇷",placeholder:"691 234 5678"},{code:"GT",name:"Guatemala",dialCode:"+502",flag:"🇬🇹",placeholder:"5123 4567"},{code:"GN",name:"Guinea",dialCode:"+224",flag:"🇬🇳",placeholder:"601 12 34 56"},{code:"GW",name:"Guinea-Bissau",dialCode:"+245",flag:"🇬🇼",placeholder:"955 012 345"},{code:"GY",name:"Guyana",dialCode:"+592",flag:"🇬🇾",placeholder:"609 1234"},{code:"HT",name:"Haiti",dialCode:"+509",flag:"🇭🇹",placeholder:"34 10 1234"},{code:"HN",name:"Honduras",dialCode:"+504",flag:"🇭🇳",placeholder:"9123 4567"},{code:"HK",name:"Hong Kong",dialCode:"+852",flag:"🇭🇰",placeholder:"5123 4567"},{code:"HU",name:"Hungary",dialCode:"+36",flag:"🇭🇺",placeholder:"20 123 4567"},{code:"IS",name:"Iceland",dialCode:"+354",flag:"🇮🇸",placeholder:"611 1234"},{code:"IN",name:"India",dialCode:"+91",flag:"🇮🇳",placeholder:"98765 43210"},{code:"ID",name:"Indonesia",dialCode:"+62",flag:"🇮🇩",placeholder:"812 3456 7890"},{code:"IR",name:"Iran",dialCode:"+98",flag:"🇮🇷",placeholder:"912 345 6789"},{code:"IQ",name:"Iraq",dialCode:"+964",flag:"🇮🇶",placeholder:"791 234 5678"},{code:"IE",name:"Ireland",dialCode:"+353",flag:"🇮🇪",placeholder:"85 012 3456"},{code:"IL",name:"Israel",dialCode:"+972",flag:"🇮🇱",placeholder:"50 123 4567"},{code:"IT",name:"Italy",dialCode:"+39",flag:"🇮🇹",placeholder:"312 345 6789"},{code:"CI",name:"Ivory Coast",dialCode:"+225",flag:"🇨🇮",placeholder:"01 23 45 67"},{code:"JM",name:"Jamaica",dialCode:"+1876",flag:"🇯🇲",placeholder:"876 210 1234"},{code:"JP",name:"Japan",dialCode:"+81",flag:"🇯🇵",placeholder:"90 1234 5678"},{code:"JO",name:"Jordan",dialCode:"+962",flag:"🇯🇴",placeholder:"7 9012 3456"},{code:"KZ",name:"Kazakhstan",dialCode:"+7",flag:"🇰🇿",placeholder:"771 000 9998"},{code:"KE",name:"Kenya",dialCode:"+254",flag:"🇰🇪",placeholder:"712 345678"},{code:"KW",name:"Kuwait",dialCode:"+965",flag:"🇰🇼",placeholder:"500 12345"},{code:"KG",name:"Kyrgyzstan",dialCode:"+996",flag:"🇰🇬",placeholder:"700 123 456"},{code:"LA",name:"Laos",dialCode:"+856",flag:"🇱🇦",placeholder:"20 23 123 456"},{code:"LV",name:"Latvia",dialCode:"+371",flag:"🇱🇻",placeholder:"21 234 567"},{code:"LB",name:"Lebanon",dialCode:"+961",flag:"🇱🇧",placeholder:"71 123 456"},{code:"LS",name:"Lesotho",dialCode:"+266",flag:"🇱🇸",placeholder:"5012 3456"},{code:"LR",name:"Liberia",dialCode:"+231",flag:"🇱🇷",placeholder:"77 012 3456"},{code:"LY",name:"Libya",dialCode:"+218",flag:"🇱🇾",placeholder:"91 2345678"},{code:"LI",name:"Liechtenstein",dialCode:"+423",flag:"🇱🇮",placeholder:"660 234 567"},{code:"LT",name:"Lithuania",dialCode:"+370",flag:"🇱🇹",placeholder:"612 34567"},{code:"LU",name:"Luxembourg",dialCode:"+352",flag:"🇱🇺",placeholder:"628 123 456"},{code:"MO",name:"Macau",dialCode:"+853",flag:"🇲🇴",placeholder:"6612 3456"},{code:"MK",name:"Macedonia",dialCode:"+389",flag:"🇲🇰",placeholder:"72 345 678"},{code:"MG",name:"Madagascar",dialCode:"+261",flag:"🇲🇬",placeholder:"32 12 345 67"},{code:"MW",name:"Malawi",dialCode:"+265",flag:"🇲🇼",placeholder:"991 23 45 67"},{code:"MY",name:"Malaysia",dialCode:"+60",flag:"🇲🇾",placeholder:"12 345 6789"},{code:"MV",name:"Maldives",dialCode:"+960",flag:"🇲🇻",placeholder:"771 2345"},{code:"ML",name:"Mali",dialCode:"+223",flag:"🇲🇱",placeholder:"65 01 23 45"},{code:"MT",name:"Malta",dialCode:"+356",flag:"🇲🇹",placeholder:"9696 1234"},{code:"MR",name:"Mauritania",dialCode:"+222",flag:"🇲🇷",placeholder:"22 12 34 56"},{code:"MU",name:"Mauritius",dialCode:"+230",flag:"🇲🇺",placeholder:"5251 2345"},{code:"MX",name:"Mexico",dialCode:"+52",flag:"🇲🇽",placeholder:"55 1234 5678"},{code:"MD",name:"Moldova",dialCode:"+373",flag:"🇲🇩",placeholder:"621 12 345"},{code:"MC",name:"Monaco",dialCode:"+377",flag:"🇲🇨",placeholder:"6 12 34 56 78"},{code:"MN",name:"Mongolia",dialCode:"+976",flag:"🇲🇳",placeholder:"8812 3456"},{code:"ME",name:"Montenegro",dialCode:"+382",flag:"🇲🇪",placeholder:"67 622 901"},{code:"MA",name:"Morocco",dialCode:"+212",flag:"🇲🇦",placeholder:"650 123456"},{code:"MZ",name:"Mozambique",dialCode:"+258",flag:"🇲🇿",placeholder:"82 123 4567"},{code:"MM",name:"Myanmar",dialCode:"+95",flag:"🇲🇲",placeholder:"9 212 3456"},{code:"NA",name:"Namibia",dialCode:"+264",flag:"🇳🇦",placeholder:"81 123 4567"},{code:"NP",name:"Nepal",dialCode:"+977",flag:"🇳🇵",placeholder:"984 1234567"},{code:"NL",name:"Netherlands",dialCode:"+31",flag:"🇳🇱",placeholder:"6 12345678"},{code:"NZ",name:"New Zealand",dialCode:"+64",flag:"🇳🇿",placeholder:"21 123 4567"},{code:"NI",name:"Nicaragua",dialCode:"+505",flag:"🇳🇮",placeholder:"8123 4567"},{code:"NE",name:"Niger",dialCode:"+227",flag:"🇳🇪",placeholder:"93 12 34 56"},{code:"NG",name:"Nigeria",dialCode:"+234",flag:"🇳🇬",placeholder:"802 123 4567"},{code:"NO",name:"Norway",dialCode:"+47",flag:"🇳🇴",placeholder:"412 34 567"},{code:"OM",name:"Oman",dialCode:"+968",flag:"🇴🇲",placeholder:"9212 3456"},{code:"PK",name:"Pakistan",dialCode:"+92",flag:"🇵🇰",placeholder:"301 2345678"},{code:"PS",name:"Palestine",dialCode:"+970",flag:"🇵🇸",placeholder:"599 123 456"},{code:"PA",name:"Panama",dialCode:"+507",flag:"🇵🇦",placeholder:"6123 4567"},{code:"PG",name:"Papua New Guinea",dialCode:"+675",flag:"🇵🇬",placeholder:"7012 3456"},{code:"PY",name:"Paraguay",dialCode:"+595",flag:"🇵🇾",placeholder:"961 456789"},{code:"PE",name:"Peru",dialCode:"+51",flag:"🇵🇪",placeholder:"912 345 678"},{code:"PH",name:"Philippines",dialCode:"+63",flag:"🇵🇭",placeholder:"917 123 4567"},{code:"PL",name:"Poland",dialCode:"+48",flag:"🇵🇱",placeholder:"512 345 678"},{code:"PT",name:"Portugal",dialCode:"+351",flag:"🇵🇹",placeholder:"912 345 678"},{code:"PR",name:"Puerto Rico",dialCode:"+1787",flag:"🇵🇷",placeholder:"787 234 5678"},{code:"QA",name:"Qatar",dialCode:"+974",flag:"🇶🇦",placeholder:"3312 3456"},{code:"RO",name:"Romania",dialCode:"+40",flag:"🇷🇴",placeholder:"712 034 567"},{code:"RU",name:"Russia",dialCode:"+7",flag:"🇷🇺",placeholder:"912 345-67-89"},{code:"RW",name:"Rwanda",dialCode:"+250",flag:"🇷🇼",placeholder:"720 123 456"},{code:"SA",name:"Saudi Arabia",dialCode:"+966",flag:"🇸🇦",placeholder:"50 123 4567"},{code:"SN",name:"Senegal",dialCode:"+221",flag:"🇸🇳",placeholder:"70 123 45 67"},{code:"RS",name:"Serbia",dialCode:"+381",flag:"🇷🇸",placeholder:"60 1234567"},{code:"SC",name:"Seychelles",dialCode:"+248",flag:"🇸🇨",placeholder:"2 510 123"},{code:"SL",name:"Sierra Leone",dialCode:"+232",flag:"🇸🇱",placeholder:"25 123456"},{code:"SG",name:"Singapore",dialCode:"+65",flag:"🇸🇬",placeholder:"8123 4567"},{code:"SK",name:"Slovakia",dialCode:"+421",flag:"🇸🇰",placeholder:"912 123 456"},{code:"SI",name:"Slovenia",dialCode:"+386",flag:"🇸🇮",placeholder:"31 234 567"},{code:"SO",name:"Somalia",dialCode:"+252",flag:"🇸🇴",placeholder:"7 1123456"},{code:"ZA",name:"South Africa",dialCode:"+27",flag:"🇿🇦",placeholder:"71 123 4567"},{code:"KR",name:"South Korea",dialCode:"+82",flag:"🇰🇷",placeholder:"10-1234-5678"},{code:"SS",name:"South Sudan",dialCode:"+211",flag:"🇸🇸",placeholder:"977 123 456"},{code:"ES",name:"Spain",dialCode:"+34",flag:"🇪🇸",placeholder:"612 34 56 78"},{code:"LK",name:"Sri Lanka",dialCode:"+94",flag:"🇱🇰",placeholder:"71 234 5678"},{code:"SD",name:"Sudan",dialCode:"+249",flag:"🇸🇩",placeholder:"91 123 1234"},{code:"SR",name:"Suriname",dialCode:"+597",flag:"🇸🇷",placeholder:"741 2345"},{code:"SZ",name:"Swaziland",dialCode:"+268",flag:"🇸🇿",placeholder:"7612 3456"},{code:"SE",name:"Sweden",dialCode:"+46",flag:"🇸🇪",placeholder:"70 123 45 67"},{code:"CH",name:"Switzerland",dialCode:"+41",flag:"🇨🇭",placeholder:"78 123 45 67"},{code:"SY",name:"Syria",dialCode:"+963",flag:"🇸🇾",placeholder:"944 567 890"},{code:"TW",name:"Taiwan",dialCode:"+886",flag:"🇹🇼",placeholder:"912 345 678"},{code:"TJ",name:"Tajikistan",dialCode:"+992",flag:"🇹🇯",placeholder:"917 12 3456"},{code:"TZ",name:"Tanzania",dialCode:"+255",flag:"🇹🇿",placeholder:"621 234 567"},{code:"TH",name:"Thailand",dialCode:"+66",flag:"🇹🇭",placeholder:"81 234 5678"},{code:"TG",name:"Togo",dialCode:"+228",flag:"🇹🇬",placeholder:"90 11 23 45"},{code:"TO",name:"Tonga",dialCode:"+676",flag:"🇹🇴",placeholder:"771 5123"},{code:"TT",name:"Trinidad and Tobago",dialCode:"+1868",flag:"🇹🇹",placeholder:"868 291 1234"},{code:"TN",name:"Tunisia",dialCode:"+216",flag:"🇹🇳",placeholder:"20 123 456"},{code:"TR",name:"Turkey",dialCode:"+90",flag:"🇹🇷",placeholder:"532 123 4567"},{code:"TM",name:"Turkmenistan",dialCode:"+993",flag:"🇹🇲",placeholder:"66 123456"},{code:"UG",name:"Uganda",dialCode:"+256",flag:"🇺🇬",placeholder:"712 345678"},{code:"UA",name:"Ukraine",dialCode:"+380",flag:"🇺🇦",placeholder:"50 123 4567"},{code:"AE",name:"UAE",dialCode:"+971",flag:"🇦🇪",placeholder:"50 123 4567"},{code:"UY",name:"Uruguay",dialCode:"+598",flag:"🇺🇾",placeholder:"94 231 234"},{code:"UZ",name:"Uzbekistan",dialCode:"+998",flag:"🇺🇿",placeholder:"91 234 56 78"},{code:"VU",name:"Vanuatu",dialCode:"+678",flag:"🇻🇺",placeholder:"591 2345"},{code:"VE",name:"Venezuela",dialCode:"+58",flag:"🇻🇪",placeholder:"412 1234567"},{code:"VN",name:"Vietnam",dialCode:"+84",flag:"🇻🇳",placeholder:"91 234 5678"},{code:"YE",name:"Yemen",dialCode:"+967",flag:"🇾🇪",placeholder:"712 345 678"},{code:"ZM",name:"Zambia",dialCode:"+260",flag:"🇿🇲",placeholder:"95 5123456"},{code:"ZW",name:"Zimbabwe",dialCode:"+263",flag:"🇿🇼",placeholder:"71 234 5678"}];function Yx(t){const e=t.replace(/\D/g,"");return e.length>=7&&e.length<=15}function _D(t,e){const n=e.replace(/\D/g,"");return`${t.startsWith("+")?t:`+${t}`}${n}`}function kD(t){if(!t.startsWith("+"))return null;for(const e of Ys)if(t.startsWith(e.dialCode))return{dialCode:e.dialCode,phone:t.slice(e.dialCode.length)};return null}function T_(t,e){Ys.find(s=>s.dialCode===t);const n=e.replace(/\D/g,"");return(t==="+1"||t==="+7")&&n.length===10?`(${n.slice(0,3)}) ${n.slice(3,6)}-${n.slice(6)}`:n.replace(/(\d{3,4})(?=\d)/g,"$1 ").trim()}function Jx(t){if(!t)return"";const e=kD(t);if(e){const n=T_(e.dialCode,e.phone);return`${e.dialCode} ${n}`}return t.replace(/(\d{1,4})(?=\d)/g,"$1 ").trim()}function P_({value:t,dialCode:e,onChange:n,onValidationChange:s,error:i,disabled:a,autoFocus:l}){const[d,p]=w.useState(!1),[h,m]=w.useState(Ys.find(_=>_.dialCode===e)||Ys[0]),g=w.useRef(null);w.useEffect(()=>{const _=Ys.find(j=>j.dialCode===e);_&&m(_)},[e]),w.useEffect(()=>{t&&s&&s(Yx(t))},[t,s]);const x=_=>{m(_),n(t,_.dialCode),p(!1),setTimeout(()=>{g.current?.focus()},100)},b=_=>{const j=_.target.value.replace(/[^\d\s\-()]/g,"");n(j,h.dialCode)},S=t?Yx(t):null;return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(C_,{open:d,onOpenChange:p,children:[u.jsx(E_,{asChild:!0,children:u.jsxs(Be,{variant:"outline",role:"combobox","aria-expanded":d,"aria-label":"Select country code",disabled:a,className:"w-[140px] justify-between bg-input-background border-border hover:bg-[var(--hover-surface)] transition-colors",children:[u.jsxs("span",{className:"flex items-center gap-2 truncate",children:[u.jsx("span",{className:"text-lg",children:h.flag}),u.jsx("span",{children:h.dialCode})]}),u.jsx(uA,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),u.jsx(N_,{className:"w-[320px] p-0",align:"start",children:u.jsxs(F3,{children:[u.jsx(V3,{placeholder:"Search country...",className:"h-9"}),u.jsxs(B3,{children:[u.jsx(U3,{children:"No country found."}),u.jsx(z3,{children:Ys.map(_=>u.jsxs(W3,{value:`${_.name} ${_.dialCode} ${_.code}`,onSelect:()=>x(_),className:"cursor-pointer",children:[u.jsx("span",{className:"mr-2 text-lg",children:_.flag}),u.jsx("span",{className:"flex-1",children:_.name}),u.jsx("span",{className:"text-muted-foreground ml-2",children:_.dialCode}),h.code===_.code&&u.jsx(Qs,{className:"ml-2 h-4 w-4 text-primary"})]},_.code))})]})]})})]}),u.jsxs("div",{className:"relative flex-1",children:[u.jsx(vr,{ref:g,type:"tel",value:t,onChange:b,placeholder:h.placeholder,disabled:a,autoFocus:l,"aria-invalid":i?"true":"false","aria-describedby":i?"phone-error":void 0,className:`
              bg-input-background border-border transition-all
              ${i?"border-error focus-visible:ring-error":""}
              ${S===!0?"border-success":""}
            `}),S===!0&&u.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:u.jsx(Qs,{className:"h-4 w-4 text-success"})})]})]}),i&&u.jsx("p",{id:"phone-error",className:"text-sm text-error",role:"alert",children:i}),!i&&t&&u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Format: ",h.dialCode," ",T_(h.dialCode,t)]})]})}function jD({onAuthSuccess:t}){const[e,n]=w.useState("login"),[s,i]=w.useState(""),[a,l]=w.useState(""),[d,p]=w.useState(""),[h,m]=w.useState(""),[g,x]=w.useState("+1"),[b,S]=w.useState(!1),[_,j]=w.useState(""),C=async T=>{T.preventDefault(),j(""),S(!0);try{const E=vn();if(e==="signup"){if(!h){j("Phone number is required"),S(!1);return}const N=`${g}${h}`,P=await BI.signup(s,a,d,N);if(!P.success){let V=P.error||"Signup failed";try{V=JSON.parse(V).error||V}catch{}V.includes("Phone number is already registered")&&(V="This phone number is already registered. Please use a different phone number or sign in."),j(V),S(!1);return}console.log("[Auth] Signing in after signup...");const{data:I,error:D}=await E.auth.signInWithPassword({email:s,password:a});if(D){console.error("[Auth] Sign in error after signup:",D),j(D.message),S(!1);return}if(!I.session){console.error("[Auth] No session returned after sign in"),j("Failed to establish session. Please try logging in."),S(!1);return}console.log("[Auth] Sign in successful, session established"),console.log("[Auth] Session user:",I.session.user.id),console.log("[Auth] Access token available:",!!I.session.access_token),console.log("[Auth] Explicitly setting session...");const{error:F}=await E.auth.setSession({access_token:I.session.access_token,refresh_token:I.session.refresh_token});if(F){console.error("[Auth] Failed to set session:",F),j("Failed to save session. Please try again."),S(!1);return}console.log("[Auth] Waiting for session persistence..."),await new Promise(V=>setTimeout(V,1500)),console.log("[Auth] Verifying session in storage...");const{data:{session:B}}=await E.auth.getSession();if(!B){console.error("[Auth] CRITICAL: Session not persisted to storage!");const V=Object.keys(localStorage);console.error("[Auth] Available localStorage keys:",V),j("Session failed to save. Please ensure cookies/storage is enabled."),S(!1);return}console.log("[Auth] ✅ Session verified in storage"),t()}else{console.log("[Auth] Attempting login...");const{data:N,error:P}=await E.auth.signInWithPassword({email:s,password:a});if(P){P.message.toLowerCase().includes("invalid login credentials")||console.error("[Auth] Login error:",P.message),j(P.message),S(!1);return}if(!N.session){console.error("[Auth] No session returned after login"),j("Failed to establish session. Please try again."),S(!1);return}console.log("[Auth] Login successful, session established"),console.log("[Auth] Session user:",N.session.user.id),console.log("[Auth] Access token available:",!!N.session.access_token),console.log("[Auth] Access token preview:",N.session.access_token?.substring(0,30)+"..."),console.log("[Auth] Explicitly setting session...");const{error:I}=await E.auth.setSession({access_token:N.session.access_token,refresh_token:N.session.refresh_token});if(I){console.error("[Auth] Failed to set session:",I),j("Failed to save session. Please try again."),S(!1);return}console.log("[Auth] Waiting for session persistence..."),await new Promise(B=>setTimeout(B,1500)),console.log("[Auth] Verifying session in storage...");const{data:{session:D},error:F}=await E.auth.getSession();if(F&&console.error("[Auth] Error verifying session:",F),!D){console.error("[Auth] CRITICAL: Session not persisted to storage!"),console.error("[Auth] This means localStorage may be disabled or cleared");const B=Object.keys(localStorage);console.error("[Auth] Available localStorage keys:",B),console.error("[Auth] Total localStorage keys:",B.length),j("Session failed to save. Please ensure cookies/storage is enabled."),S(!1);return}console.log("[Auth] ✅ Session verified in storage"),console.log("[Auth] Stored session user:",D.user.id),console.log("[Auth] Stored access token preview:",D.access_token?.substring(0,30)+"..."),t()}}catch(E){j(E instanceof Error?E.message:"An error occurred"),S(!1)}};return u.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center p-4 sm:p-6 md:p-8 pt-safe pb-safe pl-safe pr-safe relative overflow-hidden bg-gradient-to-br from-background via-surface to-background",children:[u.jsx(te.div,{className:"absolute inset-0 opacity-40",animate:{background:["radial-gradient(circle at 20% 30%, var(--primary) 0%, transparent 60%)","radial-gradient(circle at 80% 70%, var(--accent) 0%, transparent 60%)","radial-gradient(circle at 50% 50%, var(--primary) 0%, transparent 60%)","radial-gradient(circle at 20% 30%, var(--primary) 0%, transparent 60%)"]},transition:{duration:20,repeat:1/0,ease:"linear"}}),u.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(4)].map((T,E)=>u.jsx(te.div,{className:"absolute rounded-full bg-gradient-to-br from-primary/15 to-accent/15 backdrop-blur-2xl",style:{width:Math.random()*250+150,height:Math.random()*250+150,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{x:[0,Math.random()*60-30],y:[0,Math.random()*60-30],scale:[1,1.15,1],opacity:[.2,.4,.2]},transition:{duration:Math.random()*8+12,repeat:1/0,ease:"easeInOut"}},E))}),u.jsxs(te.div,{initial:{opacity:0,scale:.96,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative w-full max-w-sm xs:max-w-md",children:[u.jsxs("div",{className:"bg-card/90 dark:bg-card/50 backdrop-blur-3xl rounded-2xl sm:rounded-3xl shadow-2xl border border-border/50 p-6 xs:p-8 sm:p-10 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-accent/5 opacity-50 pointer-events-none"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs(te.div,{className:"text-center mb-8 sm:mb-10",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:[u.jsx(te.div,{className:"inline-flex items-center justify-center gap-2.5 sm:gap-3 mb-5 sm:mb-6",whileHover:{scale:1.03},transition:{type:"spring",stiffness:400,damping:20},children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-12 h-12 xs:w-14 xs:h-14 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl bg-gradient-to-br from-primary to-accent shadow-xl shadow-primary/30 flex items-center justify-center",children:u.jsx(Ba,{className:"w-7 h-7 xs:w-8 xs:h-8 sm:w-9 sm:h-9 text-white",strokeWidth:2.5})}),u.jsx(te.div,{className:"absolute inset-0 rounded-xl sm:rounded-2xl bg-gradient-to-br from-primary to-accent opacity-30 blur-xl",animate:{opacity:[.2,.4,.2],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}})]})}),u.jsx("h1",{className:"mb-2.5 sm:mb-3 text-2xl xs:text-3xl sm:text-4xl font-bold bg-gradient-to-r from-primary via-primary to-accent bg-clip-text text-transparent",children:"AuroraLink"}),u.jsx(te.p,{className:"text-muted-foreground text-base",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:e==="login"?"Welcome back! Sign in to continue.":"Create your account to get started"},e)]}),_&&u.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:u.jsxs(h5,{variant:"destructive",className:"mb-6",children:[u.jsx(Fc,{className:"h-4 w-4"}),u.jsx(p5,{children:_})]})}),u.jsxs(te.form,{onSubmit:C,className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[e==="signup"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ua,{htmlFor:"fullName",className:"text-sm font-semibold",children:"Full Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Yb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),u.jsx(vr,{id:"fullName",type:"text",value:d,onChange:T=>p(T.target.value),placeholder:"John Doe",className:"pl-11 h-12 text-base",required:!0,disabled:b})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ua,{htmlFor:"phoneNumber",className:"text-sm font-semibold",children:"Phone Number"}),u.jsxs("div",{children:[u.jsx(P_,{value:h,dialCode:g,onChange:(T,E)=>{m(T),x(E)},disabled:b}),u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Used to find and connect with others on AuroraLink"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ua,{htmlFor:"email",className:"text-sm font-semibold",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(Wb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),u.jsx(vr,{id:"email",type:"email",value:s,onChange:T=>i(T.target.value),placeholder:"you@example.com",className:"pl-11 h-12 text-base",required:!0,disabled:b})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ua,{htmlFor:"password",className:"text-sm font-semibold",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(EA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),u.jsx(vr,{id:"password",type:"password",value:a,onChange:T=>l(T.target.value),placeholder:"••••••••",className:"pl-11 h-12 text-base",required:!0,disabled:b,minLength:6})]}),e==="signup"&&u.jsx("p",{className:"text-xs text-muted-foreground",children:"At least 6 characters"})]}),u.jsx(te.div,{whileHover:{scale:b?1:1.01},whileTap:{scale:b?1:.99},className:"mt-2",children:u.jsx(Be,{type:"submit",className:"w-full h-14 text-base font-semibold bg-gradient-to-r from-primary to-accent hover:opacity-90 shadow-xl shadow-primary/30 transition-all duration-300",disabled:b,children:b?u.jsxs(u.Fragment,{children:[u.jsx(zb,{className:"mr-2 h-5 w-5 animate-spin"}),e==="login"?"Signing in...":"Creating account..."]}):u.jsxs(u.Fragment,{children:[e==="login"?"Sign In":"Create Account",u.jsx($c,{className:"ml-2 h-5 w-5"})]})})})]}),u.jsx(te.div,{className:"mt-8 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:u.jsxs("button",{onClick:()=>{n(e==="login"?"signup":"login"),j("")},className:"text-sm text-primary hover:text-primary/80 transition-colors font-medium inline-flex items-center gap-1",disabled:b,children:[e==="login"?"Don't have an account? Sign up":"Already have an account? Sign in",u.jsx($c,{className:"w-4 h-4"})]})}),u.jsx(te.div,{className:"mt-10 pt-6 border-t border-border/30 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:u.jsxs("p",{className:"text-xs text-muted-foreground leading-relaxed",children:["By continuing, you agree to our"," ",u.jsx("span",{className:"text-primary hover:underline cursor-pointer font-medium",children:"Terms of Service"})," ","and"," ",u.jsx("span",{className:"text-primary hover:underline cursor-pointer font-medium",children:"Privacy Policy"})]})})]})]}),u.jsx("div",{className:"absolute -z-10 top-0 left-0 w-40 h-40 bg-gradient-to-br from-primary/15 to-transparent rounded-full blur-3xl"}),u.jsx("div",{className:"absolute -z-10 bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-accent/15 to-transparent rounded-full blur-3xl"})]})]})}const CD="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function fi(t){const[e,n]=w.useState(!1),[s,i]=w.useState(!0),a=()=>{n(!0),i(!1)},l=()=>{i(!1)},{src:d,alt:p,className:h,style:m,fallback:g,...x}=t;return e?g?u.jsx(u.Fragment,{children:g}):u.jsx("div",{className:h,style:{...m,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--muted)"},children:u.jsx("div",{className:"flex items-center justify-center w-full h-full",children:u.jsx("img",{src:CD,alt:"Error loading image",...x,"data-original-url":d,style:{maxWidth:"60%",maxHeight:"60%",opacity:.5}})})}):u.jsxs("div",{className:"relative w-full h-full",style:m,children:[s&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted animate-pulse",style:{borderRadius:"inherit"},children:u.jsx("div",{className:"w-8 h-8 border-3 border-primary/30 border-t-primary rounded-full animate-spin"})}),u.jsx("img",{src:d,alt:p,className:h,style:{...m,opacity:s?0:1,transition:"opacity 0.2s ease-in-out"},...x,onError:a,onLoad:l})]})}const ED={xs:"w-6 h-6",sm:"w-10 h-10",md:"w-12 h-12",lg:"w-14 h-14",xl:"w-20 h-20","2xl":"w-24 h-24"},Xx={xs:"text-[8px]",sm:"text-xs",md:"text-sm",lg:"text-base",xl:"text-xl","2xl":"text-2xl"},ND={xs:"w-1.5 h-1.5",sm:"w-2 h-2",md:"w-2.5 h-2.5",lg:"w-3 h-3",xl:"w-4 h-4","2xl":"w-5 h-5"},eh=["from-blue-500 to-cyan-500","from-purple-500 to-pink-500","from-green-500 to-teal-500","from-orange-500 to-red-500","from-indigo-500 to-blue-500","from-pink-500 to-rose-500","from-teal-500 to-green-500","from-amber-500 to-orange-500","from-violet-500 to-purple-500","from-cyan-500 to-blue-500"];function TD(t){if(!t)return eh[0];const e=t.split("").reduce((n,s)=>n+s.charCodeAt(0),0)%eh.length;return eh[e]}function PD(t){if(!t)return"";const e=t.trim().split(/\s+/);return e.length===1?e[0].substring(0,2).toUpperCase():(e[0][0]+e[e.length-1][0]).toUpperCase()}function ln({user:t,src:e,alt:n="Avatar",fallbackText:s,size:i="md",status:a,className:l="",showBorder:d=!0,onClick:p}){const h={online:"bg-success",offline:"bg-muted-foreground",away:"bg-warning"},m=t?.avatar_url||e,g=t?.full_name||n,x=t?.full_name||s||n,b=t?t.is_online?"online":"offline":a,S=PD(x),_=TD(x);return u.jsxs("div",{className:`relative inline-block ${l}`,onClick:p,role:p?"button":void 0,tabIndex:p?0:void 0,children:[u.jsx("div",{className:`${ED[i]} rounded-full flex items-center justify-center overflow-hidden ${d?"ring-2 ring-border/20 shadow-md hover:shadow-lg":"shadow-sm"} transition-all duration-300 hover:ring-primary/40`,children:m?u.jsx("div",{className:"w-full h-full avatar-image-container",children:u.jsx(fi,{src:m,alt:g,className:"w-full h-full object-cover object-center",style:{display:"block",width:"100%",height:"100%",objectFit:"cover",objectPosition:"center center"},fallback:u.jsx("div",{className:`w-full h-full bg-gradient-to-br ${_} flex items-center justify-center`,children:u.jsx("span",{className:`${Xx[i]} font-semibold text-white select-none`,children:S})})})}):u.jsx("div",{className:`w-full h-full bg-gradient-to-br ${_} flex items-center justify-center`,children:u.jsx("span",{className:`${Xx[i]} font-semibold text-white select-none`,children:S})})}),b&&u.jsx("span",{className:`absolute bottom-0 right-0 ${ND[i]} ${h[b]} rounded-full border-3 border-background shadow-lg ${b==="online"?"animate-pulse":""}`,"aria-label":`Status: ${b}`,style:{borderWidth:"3px"}})]})}const AD=Vp("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function RD({className:t,variant:e,asChild:n=!1,...s}){const i=n?Jb:"span";return u.jsx(i,{"data-slot":"badge",className:Ze(AD({variant:e}),t),...s})}function OD({conversation:t,isActive:e=!1,onClick:n,currentUserId:s}){const i=g=>{if(!g)return"";const x=new Date(g),S=new Date().getTime()-x.getTime();return S<864e5?x.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):S<6048e5?x.toLocaleDateString("en-US",{weekday:"short"}):x.toLocaleDateString("en-US",{month:"short",day:"numeric"})},a=()=>t.type==="group"?t.title||"Group Chat":t.members?.find(x=>x.user_id!==s)?.user?.full_name||"Unknown",l=()=>t.type==="group"?t.avatar_url:t.members?.find(x=>x.user_id!==s)?.user?.avatar_url,d=()=>t.type==="group"?void 0:t.members?.find(x=>x.user_id!==s)?.user?.is_online?"online":"offline",p=()=>{if(!t.last_message||!(t.last_message.sender_id===s))return null;const x=t.last_message.statuses?.some(S=>S.status==="read"),b=t.last_message.statuses?.some(S=>S.status==="delivered");return x?"read":b?"delivered":"sent"},h=()=>{if(!t.last_message)return"Tap to start chatting";const g=t.last_message,x=g.sender_id===s,b="";if(g.type==="story_reply"){const S=g.story_reply?.story_type,_=S==="text"?"💬":S==="image"?"📷":"🎥";return x?g.body||`${_} Replied to your status`:`${_} Replied to their status: ${g.body||""}`}return g.type==="voice"?`${b}🎤 Voice message`:g.type==="image"?`${b}📷 Photo`:g.type==="file"?`${b}📎 File`:`${b}${g.body||""}`},m=t.unread_count&&t.unread_count>0;return u.jsxs("button",{onClick:n,className:`w-full max-w-full flex items-center gap-3 px-3 py-3 transition-all duration-150 text-left border-b border-border/50 hover:bg-[var(--hover-surface)] overflow-hidden active:bg-[var(--hover-muted)] touch-manipulation ${e?"bg-muted":""}`,"aria-label":`Conversation with ${a()}`,children:[u.jsx(ln,{src:l(),alt:a(),fallbackText:a(),size:"md",status:d(),className:"shrink-0 w-[52px] h-[52px]",showBorder:!0}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-baseline justify-between mb-0.5 gap-2",children:[u.jsx("h3",{className:`truncate text-[15px] leading-tight ${m?"font-semibold":""}`,children:a()}),u.jsx("span",{className:`text-xs flex-shrink-0 leading-tight ${m?"text-primary":"text-muted-foreground"}`,children:i(t.last_message?.created_at||t.updated_at)})]}),u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1 min-w-0 flex-1",children:[t.last_message?.sender_id===s&&u.jsx("span",{className:"flex-shrink-0 flex items-center",children:p()==="read"?u.jsx(Gs,{className:"w-[15px] h-[15px] text-[#53bdeb]"}):p()==="delivered"?u.jsx(Gs,{className:"w-[15px] h-[15px] text-muted-foreground"}):u.jsx(Qs,{className:"w-[15px] h-[15px] text-muted-foreground"})}),u.jsx("p",{className:`text-[13.5px] truncate leading-tight ${m?"text-foreground font-medium":"text-muted-foreground"}`,children:h()})]}),m&&u.jsx(RD,{className:"bg-primary text-primary-foreground rounded-full h-5 min-w-[20px] px-1.5 flex items-center justify-center flex-shrink-0 text-[11px] shadow-sm",children:t.unread_count>99?"99+":t.unread_count})]})]})]})}function Zh({icon:t,title:e,description:n,actionLabel:s,onAction:i}){return u.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[u.jsxs(te.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:20},className:"relative mb-6",children:[u.jsx(te.div,{className:"absolute inset-0 rounded-full bg-gradient-to-br from-primary/20 to-accent/20",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},style:{width:80,height:80,marginLeft:-8,marginTop:-8}}),u.jsx("div",{className:"relative w-16 h-16 rounded-full bg-gradient-to-br from-primary/10 to-accent/10 flex items-center justify-center shadow-soft",children:u.jsx(t,{className:"w-8 h-8 text-primary"})})]}),u.jsxs(te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[u.jsx("h3",{className:"mb-2 text-xl",children:e}),n&&u.jsx("p",{className:"text-muted-foreground mb-6 max-w-sm leading-relaxed",children:n}),s&&i&&u.jsx(te.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(Be,{onClick:i,className:"bg-gradient-to-r from-primary to-accent hover:opacity-90 shadow-lg shadow-primary/20",children:s})})]})]})}function ID(){return u.jsxs("div",{className:"flex items-center gap-3 p-3 animate-pulse",children:[u.jsx("div",{className:"w-12 h-12 bg-muted rounded-full"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),u.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})}function Qx({userStories:t,isMyStory:e,currentUser:n,onClick:s,onAddStory:i}){const a=t?.has_unviewed??!1,l=t?.user||n,d=t?.stories.length||0,p=t?.stories&&t.stories.length>0?t.stories[t.stories.length-1]:null;if(!l)return null;const h=()=>{e&&d>0,s()},m=g=>{g.stopPropagation(),i?i():s()};return u.jsxs("div",{className:"flex flex-col items-center gap-1 min-w-[68px] group",children:[u.jsxs(te.div,{className:"relative cursor-pointer",whileTap:{scale:.95},transition:{duration:.1},children:[a&&!e&&u.jsx("div",{className:"absolute inset-0 rounded-full p-[2px] pointer-events-none",children:u.jsx("div",{className:"w-full h-full rounded-full story-ring-gradient",style:{background:"linear-gradient(135deg, var(--story-ring-unviewed-start), var(--story-ring-unviewed-mid), var(--story-ring-unviewed-end))",backgroundSize:"200% 200%"},children:u.jsx("div",{className:"w-full h-full rounded-full bg-background scale-[0.93]"})})}),!a&&!e&&d>0&&u.jsx("div",{className:"absolute inset-0 rounded-full border-[2px] pointer-events-none",style:{borderColor:"var(--story-ring-viewed)"}}),e&&d>0&&u.jsx("div",{className:"absolute inset-0 rounded-full border-[2px] pointer-events-none",style:{borderColor:"var(--story-ring-my-story)"}}),u.jsx("button",{onClick:h,className:"absolute inset-0 rounded-full w-full h-full z-0 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2","aria-label":e?"View my status":`View ${l.full_name}'s status`}),u.jsxs("div",{className:`relative rounded-full ${a&&!e||e&&d>0||!a&&!e&&d>0?"p-[3px]":"p-0"} bg-background pointer-events-none`,children:[u.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden bg-muted flex items-center justify-center",children:p&&d>0?u.jsxs(u.Fragment,{children:[p.type==="image"&&p.media_url&&u.jsx(fi,{src:p.media_url,alt:"Story",className:"w-full h-full object-cover object-center"}),p.type==="video"&&p.media_url&&u.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[u.jsx(fi,{src:p.media_url,alt:"Story",className:"w-full h-full object-cover object-center"}),u.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:u.jsx("div",{className:"w-5 h-5 rounded-full bg-white/90 flex items-center justify-center",children:u.jsx("svg",{className:"w-2.5 h-2.5 text-black ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M8 5v14l11-7z"})})})})]}),p.type==="text"&&u.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",style:{background:p.background_color||"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:u.jsx("p",{className:"text-white text-[8px] font-medium text-center leading-tight line-clamp-4",children:p.text_content})})]}):u.jsx(ln,{user:l,size:"md",className:"w-full h-full",showBorder:!1})}),e&&u.jsx(te.button,{onClick:m,className:"absolute bottom-0 right-0 w-5 h-5 bg-primary rounded-full flex items-center justify-center border-[2.5px] border-background shadow-sm hover:bg-primary/90 transition-colors z-10 pointer-events-auto focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-1",whileTap:{scale:.9},transition:{duration:.1},"aria-label":"Add status",children:u.jsx(xa,{className:"w-[14px] h-[14px] text-white",strokeWidth:3})})]})]}),u.jsx("div",{className:"flex flex-col items-center gap-0 max-w-[68px]",children:u.jsx("span",{className:"text-[11px] text-center truncate transition-colors w-full leading-tight",style:{color:"var(--text-secondary)"},children:e?"My status":l.full_name})})]})}function MD({onRetry:t}){const[e,n]=w.useState(!1),s=async()=>{n(!0),await t?.(),setTimeout(()=>n(!1),1e3)};return u.jsx("div",{className:"bg-warning/10 border-b border-warning/20",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(oR,{className:"w-5 h-5 text-warning"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-warning-foreground",children:"Unable to connect to server"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"The backend server is not accessible. Please check your connection or try again later."})]})]}),t&&u.jsxs(Be,{size:"sm",variant:"outline",onClick:s,disabled:e,className:"flex-shrink-0",children:[u.jsx(KA,{className:`w-4 h-4 mr-2 ${e?"animate-spin":""}`}),"Retry"]})]})})})}async function DD(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission!=="denied"?await Notification.requestPermission()==="granted":!1:(console.warn("Browser does not support notifications"),!1)}function LD(t,e,n,s){if(!(!("Notification"in window)||Notification.permission!=="granted"))try{const i=new Notification(`${t}`,{body:e,icon:n||"/favicon.ico",badge:"/favicon.ico",tag:"auroralink-message",renotify:!0,requireInteraction:!1,silent:!1});i.onclick=()=>{window.focus(),i.close(),s?.()},setTimeout(()=>{i.close()},5e3)}catch(i){console.error("Failed to show notification:",i)}}function $D(){try{const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.frequency.value=800,e.type="sine",n.gain.setValueAtTime(0,t.currentTime),n.gain.linearRampToValueAtTime(.3,t.currentTime+.01),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.15),e.start(t.currentTime),e.stop(t.currentTime+.15)}catch(t){console.error("Failed to play notification sound:",t)}}function FD(t,e,n,s=!0,i){s&&!document.hidden&&$D(),document.hidden&&LD(t,e,n,i)}function Zx(){return"Notification"in window?Notification.permission:"unsupported"}function VD({currentUser:t,onSelectConversation:e,onNewChat:n,onSettings:s,onLogout:i,onViewStory:a,onCreateStory:l}){const[d,p]=w.useState([]),[h,m]=w.useState(!0),[g,x]=w.useState(""),[b,S]=w.useState("chats"),[_,j]=w.useState(!1),[C,T]=w.useState([]),[E,N]=w.useState(null),[P,I]=w.useState(!0);w.useEffect(()=>{D(!0),F();const V=setInterval(()=>{D(!1)},5e3),Z=setInterval(()=>{F()},3e4),Q=setInterval(async()=>{console.log("[HomeScreen] Running periodic story cleanup..."),await sr.cleanup(),await F()},300*1e3);return()=>{clearInterval(V),clearInterval(Z),clearInterval(Q)}},[]);const D=async(V=!1)=>{if(V&&m(!0),V){const Q=vn(),{data:{session:re}}=await Q.auth.getSession();if(!re?.access_token){console.error("[HomeScreen] No valid session, cannot load conversations"),m(!1);return}}let Z;try{Z=await ci.list(),j(!1)}catch(Q){console.error("[HomeScreen] Network error loading conversations:",Q),j(!0),V&&m(!1);return}if(Z.success&&Z.data?.conversations){j(!1);const Q=Z.data.conversations;if(!V&&d.length>0)for(const re of Q){const fe=d.find(ve=>ve.id===re.id);if(fe&&re.last_message){const ve=!fe.last_message||fe.last_message.id!==re.last_message.id,K=re.last_message.sender_id!==t.id;if(ve&&K){const X=re.members?.find(J=>J.user_id===re.last_message?.sender_id)?.user,R=X?.full_name||"Someone",W=re.last_message.body||"📷 Photo";FD(R,W,X?.avatar_url,!0,()=>e(re.id))}}}p(Q)}else V&&console.error("[HomeScreen] Failed to load conversations:",Z.error);V&&m(!1)},F=async()=>{try{const V=await sr.getAllStories();V.success&&V.data?.stories&&(console.log("[HomeScreen] 📖 Loaded stories:",V.data.stories.map(Q=>({user:Q.user.full_name,count:Q.stories.length,has_unviewed:Q.has_unviewed}))),T(V.data.stories));const Z=await sr.getMyStories();Z.success&&Z.data?.stories&&(Z.data.stories.length>0?N({user:t,stories:Z.data.stories,has_unviewed:!1}):N(null))}catch(V){console.error("[Stories] Error loading stories:",V)}finally{I(!1)}},B=d.filter(V=>{if(!g)return!0;const Z=g.toLowerCase();return V.type==="group"?V.title?.toLowerCase().includes(Z):V.members?.find(re=>re.user_id!==t.id)?.user?.full_name?.toLowerCase().includes(Z)});return u.jsxs("div",{className:"h-screen-safe flex flex-col bg-background overflow-hidden w-full max-w-full no-overscroll",children:[_&&u.jsx(MD,{onRetry:()=>D(!1)}),u.jsx("div",{className:"bg-gradient-to-r from-primary to-accent px-3 py-2.5 shadow-lg shrink-0 pt-safe",children:u.jsxs("div",{className:"flex items-center justify-between w-full",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("div",{className:"w-8 h-8 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center shrink-0",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),u.jsx("h1",{className:"text-white text-lg font-semibold tracking-wide truncate",children:"AuroraLink"})]}),u.jsxs("div",{className:"flex items-center gap-0.5 shrink-0",children:[u.jsx(Be,{variant:"ghost",size:"icon",onClick:s,className:"h-9 w-9 rounded-full hover:bg-white/20 text-white touch-target","aria-label":"Settings",children:u.jsx(Gb,{className:"w-[18px] h-[18px]"})}),u.jsx(Be,{variant:"ghost",size:"icon",onClick:i,className:"h-9 w-9 rounded-full hover:bg-white/20 text-white touch-target","aria-label":"Logout",children:u.jsx(TA,{className:"w-[18px] h-[18px]"})})]})]})}),u.jsxs("div",{className:"flex border-b border-border bg-surface shrink-0 w-full",children:[u.jsxs("button",{onClick:()=>S("chats"),className:`flex-1 py-3 flex items-center justify-center gap-1.5 relative font-medium touch-target transition-all ${b==="chats"?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:[u.jsx(L0,{className:"w-[18px] h-[18px]"}),u.jsx("span",{className:"text-sm",children:"Chats"}),b==="chats"&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-to-r from-primary to-accent rounded-t-full"})]}),u.jsxs("button",{onClick:()=>S("calls"),className:`flex-1 py-3 flex items-center justify-center gap-1.5 relative font-medium touch-target transition-all ${b==="calls"?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:[u.jsx(xr,{className:"w-[18px] h-[18px]"}),u.jsx("span",{className:"text-sm",children:"Calls"}),b==="calls"&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-to-r from-primary to-accent rounded-t-full"})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden w-full smooth-scroll",children:b==="chats"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-surface px-3 py-2 border-b border-border sticky top-0 z-10",children:u.jsxs("div",{className:"relative w-full",children:[u.jsx(ru,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"}),u.jsx(vr,{type:"search",placeholder:"Search or start new chat",value:g,onChange:V=>x(V.target.value),className:"pl-9 pr-3 h-9 bg-input-background rounded-[18px] border-0 focus:ring-1 focus:ring-primary/20 text-sm mobile-input w-full"})]})}),u.jsxs("div",{className:"bg-background",children:[u.jsx("div",{className:"overflow-x-auto scrollbar-hide smooth-scroll",children:u.jsxs("div",{className:"flex gap-2.5 px-2.5 py-2.5",children:[u.jsx(Qx,{userStories:E||void 0,isMyStory:!0,currentUser:t,onClick:()=>{if(E&&E.stories.length>0){const V=[E,...C];a(V,0)}else l()},onAddStory:()=>{l()}}),P?u.jsx(u.Fragment,{children:[1,2,3].map(V=>u.jsxs("div",{className:"flex flex-col items-center gap-1 min-w-[62px]",children:[u.jsx("div",{className:"w-[56px] h-[56px] rounded-full bg-muted animate-pulse"}),u.jsx("div",{className:"w-10 h-2 bg-muted rounded animate-pulse"})]},V))}):u.jsx(u.Fragment,{children:C.map((V,Z)=>u.jsx(Qx,{userStories:V,onClick:()=>{const Q=E?[E,...C]:C,re=E?Z+1:Z;a(Q,re)}},V.user.id))}),!P&&C.length===0&&!E&&u.jsx("div",{className:"flex-1 flex items-center justify-center py-2",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:"No status updates"})})]})}),u.jsx("div",{className:"h-[6px] bg-muted/30"})]}),h?u.jsx("div",{className:"w-full",children:[1,2,3,4,5,6].map(V=>u.jsx(ID,{},V))}):B.length>0?u.jsx("div",{className:"w-full",children:B.map(V=>u.jsx(OD,{conversation:V,onClick:()=>e(V.id),currentUserId:t.id},V.id))}):u.jsx(Zh,{icon:L0,title:g?"No conversations found":"No conversations yet",description:g?"Try a different search term":"Start a new chat to begin messaging",actionLabel:g?void 0:"New Chat",onAction:g?void 0:n})]}):u.jsx(Zh,{icon:xr,title:"Calls Coming Soon! 🚀",description:"Voice and video calling feature will be available soon. Stay tuned!"})}),u.jsx(Be,{onClick:n,size:"lg",className:"fixed bottom-5 right-5 rounded-full shadow-2xl shadow-primary/30 hover:shadow-primary/40 h-14 w-14 bg-gradient-to-r from-primary to-accent hover:opacity-90 transition-all hover:scale-105 active:scale-95 touch-target z-20",style:{bottom:"max(env(safe-area-inset-bottom, 0px) + 1.25rem, 1.25rem)"},"aria-label":"New conversation",children:u.jsx(xa,{className:"w-6 h-6"})})]})}function BD({audioUrl:t,duration:e,isSent:n=!1}){const[s,i]=w.useState(!1),[a,l]=w.useState(0),[d,p]=w.useState(e||0),h=w.useRef(null),m=w.useRef(null);w.useEffect(()=>{const S=new Audio(t);return h.current=S,S.addEventListener("loadedmetadata",()=>{p(Math.floor(S.duration))}),S.addEventListener("ended",()=>{i(!1),l(0),m.current&&clearInterval(m.current)}),()=>{S.pause(),S.src="",m.current&&clearInterval(m.current)}},[t]);const g=()=>{h.current&&(s?(h.current.pause(),m.current&&clearInterval(m.current)):(h.current.play(),m.current=setInterval(()=>{h.current&&l(Math.floor(h.current.currentTime))},100)),i(!s))},x=S=>{const _=Math.floor(S/60),j=S%60;return`${_}:${j.toString().padStart(2,"0")}`},b=d>0?a/d*100:0;return u.jsxs("div",{className:"flex items-center gap-2 min-w-[220px] py-1",children:[u.jsx(Be,{variant:"ghost",size:"icon",onClick:g,className:`h-9 w-9 rounded-full shrink-0 ${n?"hover:bg-primary-foreground/20 text-primary-foreground":"hover:bg-[var(--hover-muted)] text-foreground"}`,"aria-label":s?"Pause":"Play",children:s?u.jsx(Hb,{className:"w-5 h-5",fill:"currentColor"}):u.jsx(Kb,{className:"w-5 h-5 ml-0.5",fill:"currentColor"})}),u.jsxs("div",{className:"flex-1 flex flex-col gap-1.5",children:[u.jsx("div",{className:"relative h-1 bg-black/10 dark:bg-white/10 rounded-full overflow-hidden",children:u.jsx("div",{className:`absolute top-0 left-0 h-full rounded-full transition-all ${n?"bg-primary-foreground/80":"bg-primary"}`,style:{width:`${b}%`}})}),u.jsxs("div",{className:`flex justify-between items-center text-[11px] ${n?"text-primary-foreground/70":"text-muted-foreground"}`,children:[u.jsx("span",{children:x(s?a:d)}),u.jsx("svg",{className:`w-12 h-4 ${n?"opacity-50":"opacity-40"}`,viewBox:"0 0 48 16",fill:"none",children:u.jsx("path",{d:"M1 8 L1 8 M5 6 L5 10 M9 4 L9 12 M13 7 L13 9 M17 5 L17 11 M21 3 L21 13 M25 6 L25 10 M29 4 L29 12 M33 8 L33 8 M37 5 L37 11 M41 7 L41 9 M45 6 L45 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})]})]})]})}function A_(t){const e=t+"CollectionProvider",[n,s]=Fr(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=_=>{const{scope:j,children:C}=_,T=ue.useRef(null),E=ue.useRef(new Map).current;return u.jsx(i,{scope:j,itemMap:E,collectionRef:T,children:C})};l.displayName=e;const d=t+"CollectionSlot",p=to(d),h=ue.forwardRef((_,j)=>{const{scope:C,children:T}=_,E=a(d,C),N=mt(j,E.collectionRef);return u.jsx(p,{ref:N,children:T})});h.displayName=d;const m=t+"CollectionItemSlot",g="data-radix-collection-item",x=to(m),b=ue.forwardRef((_,j)=>{const{scope:C,children:T,...E}=_,N=ue.useRef(null),P=mt(j,N),I=a(m,C);return ue.useEffect(()=>(I.itemMap.set(N,{ref:N,...E}),()=>void I.itemMap.delete(N))),u.jsx(x,{[g]:"",ref:P,children:T})});b.displayName=m;function S(_){const j=a(t+"CollectionConsumer",_);return ue.useCallback(()=>{const T=j.collectionRef.current;if(!T)return[];const E=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(j.itemMap.values()).sort((I,D)=>E.indexOf(I.ref.current)-E.indexOf(D.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:l,Slot:h,ItemSlot:b},S,s]}var UD=w.createContext(void 0);function R_(t){const e=w.useContext(UD);return t||e||"ltr"}var th="rovingFocusGroup.onEntryFocus",zD={bubbles:!1,cancelable:!0},Ga="RovingFocusGroup",[ep,O_,WD]=A_(Ga),[HD,I_]=Fr(Ga,[WD]),[KD,GD]=HD(Ga),M_=w.forwardRef((t,e)=>u.jsx(ep.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(ep.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(qD,{...t,ref:e})})}));M_.displayName=Ga;var qD=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:p,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...g}=t,x=w.useRef(null),b=mt(e,x),S=R_(a),[_,j]=za({prop:l,defaultProp:d??null,onChange:p,caller:Ga}),[C,T]=w.useState(!1),E=Dr(h),N=O_(n),P=w.useRef(!1),[I,D]=w.useState(0);return w.useEffect(()=>{const F=x.current;if(F)return F.addEventListener(th,E),()=>F.removeEventListener(th,E)},[E]),u.jsx(KD,{scope:n,orientation:s,dir:S,loop:i,currentTabStopId:_,onItemFocus:w.useCallback(F=>j(F),[j]),onItemShiftTab:w.useCallback(()=>T(!0),[]),onFocusableItemAdd:w.useCallback(()=>D(F=>F+1),[]),onFocusableItemRemove:w.useCallback(()=>D(F=>F-1),[]),children:u.jsx(qe.div,{tabIndex:C||I===0?-1:0,"data-orientation":s,...g,ref:b,style:{outline:"none",...t.style},onMouseDown:De(t.onMouseDown,()=>{P.current=!0}),onFocus:De(t.onFocus,F=>{const B=!P.current;if(F.target===F.currentTarget&&B&&!C){const V=new CustomEvent(th,zD);if(F.currentTarget.dispatchEvent(V),!V.defaultPrevented){const Z=N().filter(K=>K.focusable),Q=Z.find(K=>K.active),re=Z.find(K=>K.id===_),ve=[Q,re,...Z].filter(Boolean).map(K=>K.ref.current);$_(ve,m)}}P.current=!1}),onBlur:De(t.onBlur,()=>T(!1))})})}),D_="RovingFocusGroupItem",L_=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:a,children:l,...d}=t,p=Nn(),h=a||p,m=GD(D_,n),g=m.currentTabStopId===h,x=O_(n),{onFocusableItemAdd:b,onFocusableItemRemove:S,currentTabStopId:_}=m;return w.useEffect(()=>{if(s)return b(),()=>S()},[s,b,S]),u.jsx(ep.ItemSlot,{scope:n,id:h,focusable:s,active:i,children:u.jsx(qe.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...d,ref:e,onMouseDown:De(t.onMouseDown,j=>{s?m.onItemFocus(h):j.preventDefault()}),onFocus:De(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:De(t.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){m.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const C=XD(j,m.orientation,m.dir);if(C!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let E=x().filter(N=>N.focusable).map(N=>N.ref.current);if(C==="last")E.reverse();else if(C==="prev"||C==="next"){C==="prev"&&E.reverse();const N=E.indexOf(j.currentTarget);E=m.loop?QD(E,N+1):E.slice(N+1)}setTimeout(()=>$_(E))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:_!=null}):l})})});L_.displayName=D_;var YD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function JD(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function XD(t,e,n){const s=JD(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return YD[s]}function $_(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function QD(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var ZD=M_,eL=L_,tp=["Enter"," "],tL=["ArrowDown","PageUp","Home"],F_=["ArrowUp","PageDown","End"],nL=[...tL,...F_],rL={ltr:[...tp,"ArrowRight"],rtl:[...tp,"ArrowLeft"]},sL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qa="Menu",[Ma,oL,iL]=A_(qa),[io,V_]=Fr(qa,[iL,wu,I_]),Su=wu(),B_=I_(),[aL,ao]=io(qa),[lL,Ya]=io(qa),U_=t=>{const{__scopeMenu:e,open:n=!1,children:s,dir:i,onOpenChange:a,modal:l=!0}=t,d=Su(e),[p,h]=w.useState(null),m=w.useRef(!1),g=Dr(a),x=R_(i);return w.useEffect(()=>{const b=()=>{m.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>m.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),u.jsx(h_,{...d,children:u.jsx(aL,{scope:e,open:n,onOpenChange:g,content:p,onContentChange:h,children:u.jsx(lL,{scope:e,onClose:w.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:x,modal:l,children:s})})})};U_.displayName=qa;var cL="MenuAnchor",xm=w.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,i=Su(n);return u.jsx(vm,{...i,...s,ref:e})});xm.displayName=cL;var wm="MenuPortal",[uL,z_]=io(wm,{forceMount:void 0}),W_=t=>{const{__scopeMenu:e,forceMount:n,children:s,container:i}=t,a=ao(wm,e);return u.jsx(uL,{scope:e,forceMount:n,children:u.jsx(br,{present:n||a.open,children:u.jsx(cu,{asChild:!0,container:i,children:s})})})};W_.displayName=wm;var Wn="MenuContent",[dL,bm]=io(Wn),H_=w.forwardRef((t,e)=>{const n=z_(Wn,t.__scopeMenu),{forceMount:s=n.forceMount,...i}=t,a=ao(Wn,t.__scopeMenu),l=Ya(Wn,t.__scopeMenu);return u.jsx(Ma.Provider,{scope:t.__scopeMenu,children:u.jsx(br,{present:s||a.open,children:u.jsx(Ma.Slot,{scope:t.__scopeMenu,children:l.modal?u.jsx(fL,{...i,ref:e}):u.jsx(hL,{...i,ref:e})})})})}),fL=w.forwardRef((t,e)=>{const n=ao(Wn,t.__scopeMenu),s=w.useRef(null),i=mt(e,s);return w.useEffect(()=>{const a=s.current;if(a)return tm(a)},[]),u.jsx(Sm,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:De(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),hL=w.forwardRef((t,e)=>{const n=ao(Wn,t.__scopeMenu);return u.jsx(Sm,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),pL=to("MenuContent.ScrollLock"),Sm=w.forwardRef((t,e)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEntryFocus:p,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:x,onDismiss:b,disableOutsideScroll:S,..._}=t,j=ao(Wn,n),C=Ya(Wn,n),T=Su(n),E=B_(n),N=oL(n),[P,I]=w.useState(null),D=w.useRef(null),F=mt(e,D,j.onContentChange),B=w.useRef(0),V=w.useRef(""),Z=w.useRef(0),Q=w.useRef(null),re=w.useRef("right"),fe=w.useRef(0),ve=S?du:w.Fragment,K=S?{as:pL,allowPinchZoom:!0}:void 0,X=W=>{const J=V.current+W,L=N().filter(ee=>!ee.disabled),O=document.activeElement,H=L.find(ee=>ee.ref.current===O)?.textValue,Y=L.map(ee=>ee.textValue),q=CL(Y,J,H),le=L.find(ee=>ee.textValue===q)?.ref.current;(function ee(de){V.current=de,window.clearTimeout(B.current),de!==""&&(B.current=window.setTimeout(()=>ee(""),1e3))})(J),le&&setTimeout(()=>le.focus())};w.useEffect(()=>()=>window.clearTimeout(B.current),[]),em();const R=w.useCallback(W=>re.current===Q.current?.side&&NL(W,Q.current?.area),[]);return u.jsx(dL,{scope:n,searchRef:V,onItemEnter:w.useCallback(W=>{R(W)&&W.preventDefault()},[R]),onItemLeave:w.useCallback(W=>{R(W)||(D.current?.focus(),I(null))},[R]),onTriggerLeave:w.useCallback(W=>{R(W)&&W.preventDefault()},[R]),pointerGraceTimerRef:Z,onPointerGraceIntentChange:w.useCallback(W=>{Q.current=W},[]),children:u.jsx(ve,{...K,children:u.jsx(lu,{asChild:!0,trapped:i,onMountAutoFocus:De(a,W=>{W.preventDefault(),D.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:u.jsx(au,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:x,onDismiss:b,children:u.jsx(ZD,{asChild:!0,...E,dir:C.dir,orientation:"vertical",loop:s,currentTabStopId:P,onCurrentTabStopIdChange:I,onEntryFocus:De(p,W=>{C.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(p_,{role:"menu","aria-orientation":"vertical","data-state":ak(j.open),"data-radix-menu-content":"",dir:C.dir,...T,..._,ref:F,style:{outline:"none",..._.style},onKeyDown:De(_.onKeyDown,W=>{const L=W.target.closest("[data-radix-menu-content]")===W.currentTarget,O=W.ctrlKey||W.altKey||W.metaKey,H=W.key.length===1;L&&(W.key==="Tab"&&W.preventDefault(),!O&&H&&X(W.key));const Y=D.current;if(W.target!==Y||!nL.includes(W.key))return;W.preventDefault();const le=N().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);F_.includes(W.key)&&le.reverse(),kL(le)}),onBlur:De(t.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(B.current),V.current="")}),onPointerMove:De(t.onPointerMove,Da(W=>{const J=W.target,L=fe.current!==W.clientX;if(W.currentTarget.contains(J)&&L){const O=W.clientX>fe.current?"right":"left";re.current=O,fe.current=W.clientX}}))})})})})})})});H_.displayName=Wn;var mL="MenuGroup",_m=w.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return u.jsx(qe.div,{role:"group",...s,ref:e})});_m.displayName=mL;var gL="MenuLabel",K_=w.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return u.jsx(qe.div,{...s,ref:e})});K_.displayName=gL;var Jc="MenuItem",ew="menu.itemSelect",_u=w.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:s,...i}=t,a=w.useRef(null),l=Ya(Jc,t.__scopeMenu),d=bm(Jc,t.__scopeMenu),p=mt(e,a),h=w.useRef(!1),m=()=>{const g=a.current;if(!n&&g){const x=new CustomEvent(ew,{bubbles:!0,cancelable:!0});g.addEventListener(ew,b=>s?.(b),{once:!0}),u1(g,x),x.defaultPrevented?h.current=!1:l.onClose()}};return u.jsx(G_,{...i,ref:p,disabled:n,onClick:De(t.onClick,m),onPointerDown:g=>{t.onPointerDown?.(g),h.current=!0},onPointerUp:De(t.onPointerUp,g=>{h.current||g.currentTarget?.click()}),onKeyDown:De(t.onKeyDown,g=>{const x=d.searchRef.current!=="";n||x&&g.key===" "||tp.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});_u.displayName=Jc;var G_=w.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...a}=t,l=bm(Jc,n),d=B_(n),p=w.useRef(null),h=mt(e,p),[m,g]=w.useState(!1),[x,b]=w.useState("");return w.useEffect(()=>{const S=p.current;S&&b((S.textContent??"").trim())},[a.children]),u.jsx(Ma.ItemSlot,{scope:n,disabled:s,textValue:i??x,children:u.jsx(eL,{asChild:!0,...d,focusable:!s,children:u.jsx(qe.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:h,onPointerMove:De(t.onPointerMove,Da(S=>{s?l.onItemLeave(S):(l.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:De(t.onPointerLeave,Da(S=>l.onItemLeave(S))),onFocus:De(t.onFocus,()=>g(!0)),onBlur:De(t.onBlur,()=>g(!1))})})})}),vL="MenuCheckboxItem",q_=w.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:s,...i}=t;return u.jsx(Z_,{scope:t.__scopeMenu,checked:n,children:u.jsx(_u,{role:"menuitemcheckbox","aria-checked":Xc(n)?"mixed":n,...i,ref:e,"data-state":jm(n),onSelect:De(i.onSelect,()=>s?.(Xc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});q_.displayName=vL;var Y_="MenuRadioGroup",[yL,xL]=io(Y_,{value:void 0,onValueChange:()=>{}}),J_=w.forwardRef((t,e)=>{const{value:n,onValueChange:s,...i}=t,a=Dr(s);return u.jsx(yL,{scope:t.__scopeMenu,value:n,onValueChange:a,children:u.jsx(_m,{...i,ref:e})})});J_.displayName=Y_;var X_="MenuRadioItem",Q_=w.forwardRef((t,e)=>{const{value:n,...s}=t,i=xL(X_,t.__scopeMenu),a=n===i.value;return u.jsx(Z_,{scope:t.__scopeMenu,checked:a,children:u.jsx(_u,{role:"menuitemradio","aria-checked":a,...s,ref:e,"data-state":jm(a),onSelect:De(s.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Q_.displayName=X_;var km="MenuItemIndicator",[Z_,wL]=io(km,{checked:!1}),ek=w.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:s,...i}=t,a=wL(km,n);return u.jsx(br,{present:s||Xc(a.checked)||a.checked===!0,children:u.jsx(qe.span,{...i,ref:e,"data-state":jm(a.checked)})})});ek.displayName=km;var bL="MenuSeparator",tk=w.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return u.jsx(qe.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});tk.displayName=bL;var SL="MenuArrow",nk=w.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,i=Su(n);return u.jsx(m_,{...i,...s,ref:e})});nk.displayName=SL;var _L="MenuSub",[C$,rk]=io(_L),fa="MenuSubTrigger",sk=w.forwardRef((t,e)=>{const n=ao(fa,t.__scopeMenu),s=Ya(fa,t.__scopeMenu),i=rk(fa,t.__scopeMenu),a=bm(fa,t.__scopeMenu),l=w.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:p}=a,h={__scopeMenu:t.__scopeMenu},m=w.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return w.useEffect(()=>m,[m]),w.useEffect(()=>{const g=d.current;return()=>{window.clearTimeout(g),p(null)}},[d,p]),u.jsx(xm,{asChild:!0,...h,children:u.jsx(G_,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":ak(n.open),...t,ref:Mr(e,i.onTriggerChange),onClick:g=>{t.onClick?.(g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:De(t.onPointerMove,Da(g=>{a.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:De(t.onPointerLeave,Da(g=>{m();const x=n.content?.getBoundingClientRect();if(x){const b=n.content?.dataset.side,S=b==="right",_=S?-5:5,j=x[S?"left":"right"],C=x[S?"right":"left"];a.onPointerGraceIntentChange({area:[{x:g.clientX+_,y:g.clientY},{x:j,y:x.top},{x:C,y:x.top},{x:C,y:x.bottom},{x:j,y:x.bottom}],side:b}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(g),g.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:De(t.onKeyDown,g=>{const x=a.searchRef.current!=="";t.disabled||x&&g.key===" "||rL[s.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});sk.displayName=fa;var ok="MenuSubContent",ik=w.forwardRef((t,e)=>{const n=z_(Wn,t.__scopeMenu),{forceMount:s=n.forceMount,...i}=t,a=ao(Wn,t.__scopeMenu),l=Ya(Wn,t.__scopeMenu),d=rk(ok,t.__scopeMenu),p=w.useRef(null),h=mt(e,p);return u.jsx(Ma.Provider,{scope:t.__scopeMenu,children:u.jsx(br,{present:s||a.open,children:u.jsx(Ma.Slot,{scope:t.__scopeMenu,children:u.jsx(Sm,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{l.isUsingKeyboardRef.current&&p.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:De(t.onFocusOutside,m=>{m.target!==d.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:De(t.onEscapeKeyDown,m=>{l.onClose(),m.preventDefault()}),onKeyDown:De(t.onKeyDown,m=>{const g=m.currentTarget.contains(m.target),x=sL[l.dir].includes(m.key);g&&x&&(a.onOpenChange(!1),d.trigger?.focus(),m.preventDefault())})})})})})});ik.displayName=ok;function ak(t){return t?"open":"closed"}function Xc(t){return t==="indeterminate"}function jm(t){return Xc(t)?"indeterminate":t?"checked":"unchecked"}function kL(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function jL(t,e){return t.map((n,s)=>t[(e+s)%t.length])}function CL(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=jL(t,Math.max(a,0));i.length===1&&(l=l.filter(h=>h!==n));const p=l.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return p!==n?p:void 0}function EL(t,e){const{x:n,y:s}=t;let i=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const d=e[a],p=e[l],h=d.x,m=d.y,g=p.x,x=p.y;m>s!=x>s&&n<(g-h)*(s-m)/(x-m)+h&&(i=!i)}return i}function NL(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return EL(n,e)}function Da(t){return e=>e.pointerType==="mouse"?t(e):void 0}var TL=U_,PL=xm,AL=W_,RL=H_,OL=_m,IL=K_,ML=_u,DL=q_,LL=J_,$L=Q_,FL=ek,VL=tk,BL=nk,UL=sk,zL=ik,ku="DropdownMenu",[WL]=Fr(ku,[V_]),cn=V_(),[HL,lk]=WL(ku),ck=t=>{const{__scopeDropdownMenu:e,children:n,dir:s,open:i,defaultOpen:a,onOpenChange:l,modal:d=!0}=t,p=cn(e),h=w.useRef(null),[m,g]=za({prop:i,defaultProp:a??!1,onChange:l,caller:ku});return u.jsx(HL,{scope:e,triggerId:Nn(),triggerRef:h,contentId:Nn(),open:m,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(x=>!x),[g]),modal:d,children:u.jsx(TL,{...p,open:m,onOpenChange:g,dir:s,modal:d,children:n})})};ck.displayName=ku;var uk="DropdownMenuTrigger",dk=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=t,a=lk(uk,n),l=cn(n);return u.jsx(PL,{asChild:!0,...l,children:u.jsx(qe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:Mr(e,a.triggerRef),onPointerDown:De(t.onPointerDown,d=>{!s&&d.button===0&&d.ctrlKey===!1&&(a.onOpenToggle(),a.open||d.preventDefault())}),onKeyDown:De(t.onKeyDown,d=>{s||(["Enter"," "].includes(d.key)&&a.onOpenToggle(),d.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});dk.displayName=uk;var KL="DropdownMenuPortal",fk=t=>{const{__scopeDropdownMenu:e,...n}=t,s=cn(e);return u.jsx(AL,{...s,...n})};fk.displayName=KL;var hk="DropdownMenuContent",pk=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=lk(hk,n),a=cn(n),l=w.useRef(!1);return u.jsx(RL,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...s,ref:e,onCloseAutoFocus:De(t.onCloseAutoFocus,d=>{l.current||i.triggerRef.current?.focus(),l.current=!1,d.preventDefault()}),onInteractOutside:De(t.onInteractOutside,d=>{const p=d.detail.originalEvent,h=p.button===0&&p.ctrlKey===!0,m=p.button===2||h;(!i.modal||m)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pk.displayName=hk;var GL="DropdownMenuGroup",qL=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=cn(n);return u.jsx(OL,{...i,...s,ref:e})});qL.displayName=GL;var YL="DropdownMenuLabel",JL=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=cn(n);return u.jsx(IL,{...i,...s,ref:e})});JL.displayName=YL;var XL="DropdownMenuItem",mk=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=cn(n);return u.jsx(ML,{...i,...s,ref:e})});mk.displayName=XL;var QL="DropdownMenuCheckboxItem",ZL=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=cn(n);return u.jsx(DL,{...i,...s,ref:e})});ZL.displayName=QL;var e6="DropdownMenuRadioGroup",t6=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=cn(n);return u.jsx(LL,{...i,...s,ref:e})});t6.displayName=e6;var n6="DropdownMenuRadioItem",r6=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=cn(n);return u.jsx($L,{...i,...s,ref:e})});r6.displayName=n6;var s6="DropdownMenuItemIndicator",o6=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=cn(n);return u.jsx(FL,{...i,...s,ref:e})});o6.displayName=s6;var i6="DropdownMenuSeparator",a6=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=cn(n);return u.jsx(VL,{...i,...s,ref:e})});a6.displayName=i6;var l6="DropdownMenuArrow",c6=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=cn(n);return u.jsx(BL,{...i,...s,ref:e})});c6.displayName=l6;var u6="DropdownMenuSubTrigger",d6=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=cn(n);return u.jsx(UL,{...i,...s,ref:e})});d6.displayName=u6;var f6="DropdownMenuSubContent",h6=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=cn(n);return u.jsx(zL,{...i,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});h6.displayName=f6;var p6=ck,m6=dk,g6=fk,v6=pk,y6=mk;function gk({...t}){return u.jsx(p6,{"data-slot":"dropdown-menu",...t})}function vk({...t}){return u.jsx(m6,{"data-slot":"dropdown-menu-trigger",...t})}function yk({className:t,sideOffset:e=4,...n}){return u.jsx(g6,{children:u.jsx(v6,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function Jo({className:t,inset:e,variant:n="default",...s}){return u.jsx(y6,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:Ze("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function x6({message:t,isSent:e,showAvatar:n=!0,showTimestamp:s=!0,currentUserId:i,isFirstInGroup:a=!0,isLastInGroup:l=!0,onReply:d,onDeleteForMe:p,onDeleteForEveryone:h,onCopy:m}){const[g,x]=w.useState(0),[b,S]=w.useState(0),[_,j]=w.useState(!1),C=w.useRef(null),T=B=>{x(B.touches[0].clientX)},E=B=>{const V=B.touches[0].clientX-g;e?V<0&&V>-80&&S(V):V>0&&V<80&&S(V)},N=()=>{(e&&b<-60||!e&&b>60)&&d?.(t),S(0)},P=async()=>{if(t.body)try{await navigator.clipboard.writeText(t.body),m?.(t.body)}catch(B){console.warn("Clipboard API blocked, using fallback method:",B);const V=document.createElement("textarea");V.value=t.body,V.style.position="fixed",V.style.left="-999999px",V.style.top="-999999px",document.body.appendChild(V),V.focus(),V.select();try{document.execCommand("copy")?m?.(t.body):console.error("Fallback copy failed")}catch(Z){console.error("Could not copy text:",Z)}document.body.removeChild(V)}},I=B=>new Date(B).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),D=t.statuses?.some(B=>B.user_id!==t.sender_id&&B.status==="read"),F=t.statuses?.some(B=>B.user_id!==t.sender_id&&B.status==="delivered");return t.deleted_for_everyone?u.jsxs("div",{className:`flex ${e?"justify-end":"justify-start"} px-2`,children:[!e&&n&&u.jsx(ln,{src:t.sender?.avatar_url,alt:t.sender?.full_name,size:"sm",className:"w-8 h-8 mr-2 self-end"}),!e&&!n&&u.jsx("div",{className:"w-8 mr-2"}),u.jsx("div",{className:`max-w-[65%] px-3 py-2 rounded-lg ${e?"bg-[#d9fdd3]":"bg-white"}`,style:{borderRadius:e?l?"7.5px 7.5px 0px 7.5px":"7.5px":l?"7.5px 7.5px 7.5px 0px":"7.5px"},children:u.jsx("p",{className:"text-[13px] italic text-[#667781]",children:"This message was deleted"})})]}):t.deleted_for_users?.includes(i)?null:u.jsxs("div",{ref:C,className:`flex ${e?"justify-end":"justify-start"} px-2 group relative`,onTouchStart:T,onTouchMove:E,onTouchEnd:N,style:{transform:`translateX(${b}px)`,transition:b===0?"transform 0.2s ease-out":"none"},children:[b!==0&&u.jsx("div",{className:`absolute top-1/2 -translate-y-1/2 ${e?"right-full mr-2":"left-full ml-2"}`,children:u.jsx(D0,{className:"w-6 h-6 text-[#00a884]",style:{opacity:Math.abs(b)/60}})}),!e&&n&&u.jsx(ln,{src:t.sender?.avatar_url,alt:t.sender?.full_name,size:"sm",className:"w-8 h-8 mr-2 self-end"}),!e&&!n&&u.jsx("div",{className:"w-8 mr-2"}),u.jsx("div",{className:`absolute top-1 opacity-0 group-hover:opacity-100 transition-opacity ${e?"left-2":"right-2"} z-10`,children:u.jsxs(gk,{children:[u.jsx(vk,{asChild:!0,children:u.jsx("button",{className:"w-7 h-7 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-gray-100 transition-colors",children:u.jsx(Fp,{className:"w-4 h-4 text-[#54656f]"})})}),u.jsxs(yk,{align:e?"start":"end",className:"w-48",children:[d&&u.jsxs(Jo,{onClick:()=>d(t),children:[u.jsx(D0,{className:"w-4 h-4 mr-2"}),"Reply"]}),t.body&&u.jsxs(Jo,{onClick:P,children:[u.jsx(vA,{className:"w-4 h-4 mr-2"}),"Copy"]}),p&&u.jsxs(Jo,{onClick:()=>p(t.id),children:[u.jsx(si,{className:"w-4 h-4 mr-2"}),"Delete for me"]}),h&&e&&u.jsxs(Jo,{onClick:()=>h(t.id),className:"text-destructive",children:[u.jsx(si,{className:"w-4 h-4 mr-2"}),"Delete for everyone"]})]})]})}),u.jsxs("div",{className:`max-w-[65%] shadow-[0_1px_0.5px_rgba(11,20,26,0.13)] ${e?"bg-[#d9fdd3]":"bg-white"}`,style:{borderRadius:e?l?"7.5px 7.5px 0px 7.5px":"7.5px":l?"7.5px 7.5px 7.5px 0px":"7.5px"},children:[t.type==="voice"&&t.attachments?.[0]&&u.jsx("div",{className:"px-2 py-1.5",children:u.jsx(BD,{audioUrl:t.attachments[0].url})}),t.type==="image"&&t.attachments?.[0]&&u.jsxs("div",{className:"relative",children:[u.jsx(fi,{src:t.attachments[0].url,alt:"Image",className:"rounded-lg max-w-full h-auto",style:{maxHeight:"400px",minWidth:"200px"}}),t.body&&u.jsx("div",{className:"px-2 py-1.5",children:u.jsx("p",{className:"text-[14.2px] text-[#111b21] break-words whitespace-pre-wrap",children:t.body})})]}),t.type==="video"&&t.attachments?.[0]&&u.jsxs("div",{children:[u.jsx("video",{src:t.attachments[0].url,controls:!0,className:"rounded-lg max-w-full",style:{maxHeight:"400px",minWidth:"200px"}}),t.body&&u.jsx("div",{className:"px-2 py-1.5",children:u.jsx("p",{className:"text-[14.2px] text-[#111b21] break-words whitespace-pre-wrap",children:t.body})})]}),t.type==="file"&&t.attachments?.[0]&&u.jsx("a",{href:t.attachments[0].url,download:!0,className:"block px-3 py-2 hover:opacity-80",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-[#00a884] flex items-center justify-center",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M8 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0017.414 6L14 2.586A2 2 0 0012.586 2H8z"})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-[14.2px] text-[#111b21] truncate",children:t.attachments[0].filename}),u.jsxs("p",{className:"text-[12px] text-[#667781]",children:[(t.attachments[0].size/1024).toFixed(1)," KB"]})]})]})}),t.reply_to_message&&u.jsxs("div",{className:"mx-[9px] mt-[6px] mb-1 pl-2 pr-1 py-1 border-l-4 border-[#00a884] bg-black/5 rounded",children:[u.jsx("p",{className:"text-[12.5px] text-[#00a884] font-medium mb-0.5",children:t.reply_to_message.sender?.full_name||"Unknown"}),u.jsx("p",{className:"text-[13px] text-[#667781] truncate",children:t.reply_to_message.type==="image"?"📷 Photo":t.reply_to_message.type==="video"?"🎥 Video":t.reply_to_message.type==="voice"?"🎤 Voice message":t.reply_to_message.type==="file"?"📎 File":t.reply_to_message.body||"Message"})]}),(t.type==="text"||!t.type)&&t.body&&u.jsxs("div",{className:"px-[9px] pt-[6px] pb-[8px]",children:[u.jsx("p",{className:"text-[14.2px] text-[#111b21] break-words whitespace-pre-wrap",style:{lineHeight:"19px"},children:t.body}),u.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1",children:[u.jsx("span",{className:"text-[11px] text-[#667781]",children:I(t.created_at)}),e&&u.jsx(u.Fragment,{children:t.pending?u.jsx(Ch,{className:"w-4 h-4 text-[#667781] animate-pulse"}):t.failed?u.jsx(Fc,{className:"w-4 h-4 text-red-500"}):D?u.jsx(Gs,{className:"w-4 h-4 text-[#53bdeb]"}):F?u.jsx(Gs,{className:"w-4 h-4 text-[#667781]"}):u.jsx(Qs,{className:"w-4 h-4 text-[#667781]"})})]})]}),t.reactions&&t.reactions.length>0&&u.jsx("div",{className:"flex gap-1 px-2 pb-1 flex-wrap",children:t.reactions.map((B,V)=>u.jsx("div",{className:"bg-white rounded-full px-2 py-0.5 text-xs shadow-sm border border-gray-200",children:u.jsx("span",{children:B.emoji})},V))})]}),s&&(t.type==="voice"||t.type==="file")&&u.jsxs("div",{className:`flex items-center gap-1 mt-1 ${e?"justify-end":""}`,children:[u.jsx("span",{className:"text-[11px] text-[#667781]",children:I(t.created_at)}),e&&u.jsx(u.Fragment,{children:t.pending?u.jsx(Ch,{className:"w-3.5 h-3.5 text-[#667781] animate-pulse"}):t.failed?u.jsx(Fc,{className:"w-3.5 h-3.5 text-red-500"}):D?u.jsx(Gs,{className:"w-3.5 h-3.5 text-[#53bdeb]"}):F?u.jsx(Gs,{className:"w-3.5 h-3.5 text-[#667781]"}):u.jsx(Qs,{className:"w-3.5 h-3.5 text-[#667781]"})})]})]})}function w6({userName:t}){return u.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 text-sm text-muted-foreground",children:[u.jsxs("div",{className:"flex gap-1",children:[u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-pulse",style:{animationDelay:"0ms"}}),u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-pulse",style:{animationDelay:"150ms"}}),u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-pulse",style:{animationDelay:"300ms"}})]}),t&&u.jsxs("span",{children:[t," is typing..."]})]})}const me=n2;function b6({onRecordingComplete:t,onCancel:e}){const[n,s]=w.useState(!1),[i,a]=w.useState(!1),[l,d]=w.useState(0),[p,h]=w.useState(null),m=w.useRef(null),g=w.useRef([]),x=w.useRef(null),b=w.useRef(null);w.useEffect(()=>(S(),()=>{_()}),[]);const S=async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){me.error("Voice recording not supported",{description:"Your browser does not support voice recording"}),e();return}const P=await navigator.mediaDevices.getUserMedia({audio:!0});b.current=P;const I=new MediaRecorder(P);m.current=I,g.current=[],I.ondataavailable=D=>{D.data.size>0&&g.current.push(D.data)},I.onstop=()=>{const D=new Blob(g.current,{type:"audio/webm"});h(D),_()},I.start(),s(!0),x.current=setInterval(()=>{d(D=>D+1)},1e3)}catch(P){console.error("Failed to start recording:",P),P instanceof Error?P.name==="NotAllowedError"?me.error("Microphone access denied",{description:"Please allow microphone access in your browser settings to send voice messages",duration:5e3}):P.name==="NotFoundError"?me.error("No microphone found",{description:"Please connect a microphone to record voice messages",duration:5e3}):P.name==="NotReadableError"?me.error("Microphone is busy",{description:"Your microphone is already in use by another application",duration:5e3}):me.error("Failed to access microphone",{description:P.message||"Please check your browser settings",duration:5e3}):me.error("Failed to access microphone",{description:"Please allow microphone access to send voice messages",duration:5e3}),e()}},_=()=>{x.current&&clearInterval(x.current),b.current&&b.current.getTracks().forEach(P=>P.stop())},j=()=>{m.current&&(i?(m.current.resume(),x.current=setInterval(()=>{d(P=>P+1)},1e3),a(!1)):(m.current.pause(),x.current&&clearInterval(x.current),a(!0)))},C=()=>{m.current&&m.current.state!=="inactive"&&(m.current.stop(),s(!1))},T=()=>{p?t(p,l):(C(),setTimeout(()=>{if(g.current.length>0){const P=new Blob(g.current,{type:"audio/webm"});t(P,l)}},100))},E=()=>{m.current&&m.current.state!=="inactive"&&m.current.stop(),_(),e()},N=P=>{const I=Math.floor(P/60),D=P%60;return`${I}:${D.toString().padStart(2,"0")}`};return u.jsx("div",{className:"bg-surface border-t border-border p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Be,{variant:"ghost",size:"icon",onClick:E,className:"h-10 w-10","aria-label":"Cancel recording",children:u.jsx(eo,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1 flex items-center gap-3 bg-destructive/10 rounded-full px-4 py-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[n&&!i&&u.jsx("div",{className:"w-3 h-3 bg-destructive rounded-full animate-pulse"}),u.jsx(Zs,{className:"w-5 h-5 text-destructive"})]}),u.jsx("div",{className:"flex-1",children:u.jsx("div",{className:"h-8 flex items-center gap-1",children:n&&!i&&u.jsx(u.Fragment,{children:[...Array(20)].map((P,I)=>u.jsx("div",{className:"w-1 bg-destructive rounded-full",style:{height:`${Math.random()*100}%`,animation:`pulse ${.5+Math.random()*.5}s infinite ease-in-out`,animationDelay:`${I*.05}s`}},I))})})}),u.jsx("span",{className:"text-sm font-mono",children:N(l)})]}),n&&u.jsx(Be,{variant:"ghost",size:"icon",onClick:j,className:"h-10 w-10","aria-label":i?"Resume recording":"Pause recording",children:i?u.jsx(Kb,{className:"w-5 h-5"}):u.jsx(Hb,{className:"w-5 h-5"})}),u.jsx(Be,{size:"icon",onClick:T,disabled:l<1,className:"h-10 w-10 rounded-full","aria-label":"Send voice message",children:u.jsx(su,{className:"w-5 h-5"})})]})})}const tw={Smileys:["😀","😃","😄","😁","😅","😂","🤣","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🥸","🤩","🥳"],Gestures:["👍","👎","👌","✌️","🤞","🤟","🤘","🤙","👈","👉","👆","👇","☝️","👏","🙌","👐","🤲","🤝","🙏"],Hearts:["❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❤️‍🔥","❤️‍🩹","💕","💞","💓","💗","💖","💘","💝"],Objects:["🎉","🎊","🎁","🎈","🎂","🎀","🏆","🥇","🥈","🥉","⚽","🏀","🏈","⚾","🎾","🏐","🏉","🎱","🔥","⭐","✨","💫"]};function S6({onEmojiSelect:t,trigger:e}){const[n,s]=w.useState(!1),[i,a]=w.useState("Smileys"),l=d=>{t(d),s(!1)};return u.jsxs(C_,{open:n,onOpenChange:s,children:[u.jsx(E_,{asChild:!0,children:e}),u.jsx(N_,{className:"w-80 p-0",align:"start",side:"top",children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("div",{className:"flex gap-1 p-2 border-b border-border overflow-x-auto",children:Object.keys(tw).map(d=>u.jsx(Be,{variant:i===d?"secondary":"ghost",size:"sm",onClick:()=>a(d),className:"text-xs whitespace-nowrap",children:d},d))}),u.jsx("div",{className:"grid grid-cols-8 gap-1 p-2 max-h-64 overflow-y-auto",children:tw[i].map(d=>u.jsx("button",{onClick:()=>l(d),className:"text-2xl p-2 hover:bg-[var(--hover-surface)] rounded transition-colors","aria-label":`Select ${d}`,children:d},d))})]})})]})}function _6({message:t,onCancel:e}){return u.jsxs("div",{className:"bg-white dark:bg-[#2a3942] border-l-4 border-[#00a884] px-4 py-2 flex items-center gap-3",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("div",{className:"w-1 h-full bg-[#00a884] rounded"}),u.jsx("p",{className:"text-[13px] text-[#00a884] font-medium",children:t.sender_id?t.sender?.full_name:"You"})]}),u.jsx("p",{className:"text-[13.5px] text-[#667781] dark:text-[#8696a0] truncate",children:t.type==="image"?"📷 Photo":t.type==="video"?"🎥 Video":t.type==="voice"?"🎤 Voice message":t.type==="file"?"📎 File":t.body||"Message"})]}),u.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:u.jsx(eo,{className:"w-5 h-5 text-[#667781] dark:text-[#8696a0]"})})]})}var xk="AlertDialog",[k6]=Fr(xk,[yS]),Vr=yS(),wk=t=>{const{__scopeAlertDialog:e,...n}=t,s=Vr(e);return u.jsx(om,{...s,...n,modal:!0})};wk.displayName=xk;var j6="AlertDialogTrigger",C6=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,i=Vr(n);return u.jsx(y3,{...i,...s,ref:e})});C6.displayName=j6;var E6="AlertDialogPortal",bk=t=>{const{__scopeAlertDialog:e,...n}=t,s=Vr(e);return u.jsx(im,{...s,...n})};bk.displayName=E6;var N6="AlertDialogOverlay",Sk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,i=Vr(n);return u.jsx(hu,{...i,...s,ref:e})});Sk.displayName=N6;var ti="AlertDialogContent",[T6,P6]=k6(ti),A6=_R("AlertDialogContent"),_k=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:s,...i}=t,a=Vr(n),l=w.useRef(null),d=mt(e,l),p=w.useRef(null);return u.jsx(p3,{contentName:ti,titleName:kk,docsSlug:"alert-dialog",children:u.jsx(T6,{scope:n,cancelRef:p,children:u.jsxs(pu,{role:"alertdialog",...a,...i,ref:d,onOpenAutoFocus:De(i.onOpenAutoFocus,h=>{h.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[u.jsx(A6,{children:s}),u.jsx(O6,{contentRef:l})]})})})});_k.displayName=ti;var kk="AlertDialogTitle",jk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,i=Vr(n);return u.jsx(IS,{...i,...s,ref:e})});jk.displayName=kk;var Ck="AlertDialogDescription",Ek=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,i=Vr(n);return u.jsx(MS,{...i,...s,ref:e})});Ek.displayName=Ck;var R6="AlertDialogAction",Nk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,i=Vr(n);return u.jsx(am,{...i,...s,ref:e})});Nk.displayName=R6;var Tk="AlertDialogCancel",Pk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,{cancelRef:i}=P6(Tk,n),a=Vr(n),l=mt(e,i);return u.jsx(am,{...a,...s,ref:l})});Pk.displayName=Tk;var O6=({contentRef:t})=>{const e=`\`${ti}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ti}\` by passing a \`${Ck}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ti}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},I6=wk,M6=bk,D6=Sk,L6=_k,$6=Nk,F6=Pk,V6=jk,B6=Ek;function Cm({...t}){return u.jsx(I6,{"data-slot":"alert-dialog",...t})}function U6({...t}){return u.jsx(M6,{"data-slot":"alert-dialog-portal",...t})}function z6({className:t,...e}){return u.jsx(D6,{"data-slot":"alert-dialog-overlay",className:Ze("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Em({className:t,...e}){return u.jsxs(U6,{children:[u.jsx(z6,{}),u.jsx(L6,{"data-slot":"alert-dialog-content",className:Ze("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function Nm({className:t,...e}){return u.jsx("div",{"data-slot":"alert-dialog-header",className:Ze("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Tm({className:t,...e}){return u.jsx("div",{"data-slot":"alert-dialog-footer",className:Ze("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Pm({className:t,...e}){return u.jsx(V6,{"data-slot":"alert-dialog-title",className:Ze("text-lg font-semibold",t),...e})}function Am({className:t,...e}){return u.jsx(B6,{"data-slot":"alert-dialog-description",className:Ze("text-muted-foreground text-sm",t),...e})}function Rm({className:t,...e}){return u.jsx($6,{className:Ze(Up(),t),...e})}function Ak({className:t,...e}){return u.jsx(F6,{className:Ze(Up({variant:"outline"}),t),...e})}function W6({open:t,onOpenChange:e,onAllow:n}){return u.jsx(Cm,{open:t,onOpenChange:e,children:u.jsxs(Em,{children:[u.jsxs(Nm,{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:u.jsx(Zs,{className:"w-6 h-6 text-primary"})}),u.jsx(Pm,{children:"Microphone Access Required"})]}),u.jsx(Am,{children:"AuroraLink needs access to your microphone to record voice messages."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(Ub,{className:"w-4 h-4 text-info mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"text-sm space-y-2",children:[u.jsx("div",{className:"font-medium",children:"What happens next:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-muted-foreground",children:[u.jsx("li",{children:"Your browser will ask for microphone permission"}),u.jsx("li",{children:'Click "Allow" to enable voice messages'}),u.jsx("li",{children:"You can revoke access anytime in browser settings"})]})]})]})}),u.jsx("div",{className:"bg-warning/10 border border-warning/20 rounded-lg p-3",children:u.jsxs("div",{className:"text-sm text-warning-foreground",children:[u.jsx("strong",{children:"Privacy Note:"})," Your voice is only recorded when you press the microphone button. Recordings are sent directly to the recipient and stored securely."]})})]}),u.jsxs(Tm,{children:[u.jsx(Ak,{children:"Cancel"}),u.jsx(Rm,{onClick:n,children:"Allow Microphone Access"})]})]})})}function H6({open:t,onOpenChange:e}){return u.jsx(Cm,{open:t,onOpenChange:e,children:u.jsxs(Em,{children:[u.jsxs(Nm,{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-destructive/10 flex items-center justify-center",children:u.jsx(Fc,{className:"w-6 h-6 text-destructive"})}),u.jsx(Pm,{children:"Microphone Access Denied"})]}),u.jsx(Am,{children:"You've denied microphone access. To send voice messages, you need to enable it in your browser settings."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"bg-muted/50 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(Gb,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"text-sm space-y-3",children:[u.jsx("div",{className:"font-medium",children:"How to enable microphone access:"}),u.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-foreground mb-1",children:"Chrome / Edge:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[u.jsx("li",{children:"Click the lock icon 🔒 in the address bar"}),u.jsx("li",{children:'Find "Microphone" and select "Allow"'}),u.jsx("li",{children:"Refresh the page"})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-foreground mb-1",children:"Firefox:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[u.jsx("li",{children:"Click the permissions icon in the address bar"}),u.jsx("li",{children:"Remove the microphone block (X)"}),u.jsx("li",{children:"Click the mic button again to allow"})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-foreground mb-1",children:"Safari:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[u.jsx("li",{children:"Go to Safari → Settings for This Website"}),u.jsx("li",{children:'Set Microphone to "Allow"'}),u.jsx("li",{children:"Refresh the page"})]})]})]})]})]})}),u.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-3",children:u.jsxs("div",{className:"text-sm text-foreground",children:[u.jsx("strong",{children:"Tip:"})," After changing your browser settings, try clicking the microphone button again."]})})]}),u.jsx(Tm,{children:u.jsx(Rm,{onClick:()=>e(!1),children:"Got It"})})]})})}function K6(t,e){if(e)return"online";if(!t)return"offline";const n=new Date,s=new Date(t),i=n.getTime()-s.getTime(),a=Math.floor(i/(1e3*60)),l=Math.floor(i/(1e3*60*60*24)),d=h=>h.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return a<1?"last seen just now":a<60?`last seen ${a} ${a===1?"minute":"minutes"} ago`:l===0?`last seen today at ${d(s)}`:l===1?`last seen yesterday at ${d(s)}`:l<7?`last seen ${s.toLocaleDateString("en-US",{weekday:"long"})} at ${d(s)}`:`last seen ${s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:n.getFullYear()!==s.getFullYear()?"numeric":void 0})} at ${d(s)}`}function G6(t,e){if(e)return"online";if(!t)return"";const n=new Date,s=new Date(t),i=n.getTime()-s.getTime(),a=Math.floor(i/(1e3*60)),l=Math.floor(i/(1e3*60*60*24));return a<1?"just now":a<60?`${a}m ago`:l===0?"today":l===1?"yesterday":l<7?s.toLocaleDateString("en-US",{weekday:"short"}):s.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function Rk(t,e,n=!1){const[s,i]=w.useState("");return w.useEffect(()=>{const a=()=>{const d=n?G6(t,e):K6(t,e);i(d)};a();const l=setInterval(a,1e4);return()=>clearInterval(l)},[t,e,n]),s}function q6({date:t}){return u.jsx("div",{className:"flex justify-center my-3",children:u.jsx("div",{className:"bg-[#e1f4fb] px-3 py-1 rounded-lg shadow-sm",children:u.jsx("span",{className:"text-[12.5px] text-[#667781]",children:t})})})}function Y6({conversationId:t,currentUser:e,onBack:n,onInitiateCall:s,onViewProfile:i,onDeleteChat:a}){const[l,d]=w.useState(null),[p,h]=w.useState([]),[m,g]=w.useState(!0),[x,b]=w.useState(""),[S,_]=w.useState([]),[j,C]=w.useState(!1),[T,E]=w.useState(!1),[N,P]=w.useState(!1),[I,D]=w.useState(!1),[F,B]=w.useState(!1),[V,Z]=w.useState(null),[Q,re]=w.useState(null),fe=w.useRef(null),ve=w.useRef(null),K=w.useRef(null),X=w.useRef(null),R=w.useRef(),W=w.useRef(0),J=w.useRef(!1),L=w.useRef(!0),O=w.useMemo(()=>l?.type==="dm"?l.members?.find(ae=>ae.user_id!==e.id)?.user:null,[l,e.id]),H=Rk(O?.last_seen,O?.is_online||!1,!1),Y=ae=>{const be=new Date(ae);if(isNaN(be.getTime()))return console.error("Invalid date string:",ae),"TODAY";const Me=new Date,We=new Date(Me);return We.setDate(We.getDate()-1),be.toDateString()===Me.toDateString()?"TODAY":be.toDateString()===We.toDateString()?"YESTERDAY":be.toLocaleDateString("en-US",{month:"short",day:"numeric",year:be.getFullYear()!==Me.getFullYear()?"numeric":void 0}).toUpperCase()},q=w.useMemo(()=>{const ae=[];let be="",Me=[];return p.forEach(We=>{if(!We.created_at){console.warn("Message missing created_at:",We);return}const xt=new Date(We.created_at);if(isNaN(xt.getTime())){console.warn("Message has invalid created_at:",We.created_at,We);return}const Ge=xt.toDateString();Ge!==be?(Me.length>0&&ae.push({date:Y(Me[0].created_at),messages:Me}),be=Ge,Me=[We]):Me.push(We)}),Me.length>0&&ae.push({date:Y(Me[0].created_at),messages:Me}),ae},[p]);w.useEffect(()=>{L.current=!0,de();const ae=setInterval(async()=>{try{const be=await ci.get(t);if(be.success&&be.data){const Me=be.data.messages||[];h(We=>{const xt=new Set(We.map(et=>et.id)),Ge=Me.filter(et=>!xt.has(et.id));if(Ge.length>0){const et=[...We,...Ge].sort((oe,Pe)=>new Date(oe.created_at).getTime()-new Date(Pe.created_at).getTime()),Ue=Ge.filter(oe=>oe.sender_id!==e.id).map(oe=>oe.id);return Ue.length>0&&Lo.markAsRead(Ue),et}return We})}}catch(be){console.error("Error polling messages:",be)}},2e3);return()=>{clearInterval(ae)}},[t,e.id]),w.useEffect(()=>{if(L.current&&p.length>0){ee(),L.current=!1,W.current=p.length;return}const ae=p.length>W.current,be=le();ae&&(be||J.current)&&ee(),W.current=p.length,J.current=!1},[p]);const le=()=>{if(!ve.current)return!0;const{scrollTop:ae,scrollHeight:be,clientHeight:Me}=ve.current;return be-ae-Me<150},ee=()=>{fe.current?.scrollIntoView({behavior:"smooth"})},de=async()=>{try{g(!0);const ae=await ci.get(t);if(ae.success&&ae.data){d(ae.data.conversation),h(ae.data.messages||[]);const be=ae.data.messages?.filter(Me=>Me.sender_id!==e.id).map(Me=>Me.id)||[];be.length>0&&Lo.markAsRead(be)}else console.error("Failed to load conversation:",ae.error),me.error("Failed to load conversation")}catch(ae){console.error("Error loading conversation:",ae),me.error("Error loading conversation")}finally{g(!1)}},ke=async()=>{try{if(!navigator.permissions||!navigator.mediaDevices)return!1;const ae=await navigator.permissions.query({name:"microphone"});return ae.state==="granted"?(Z(!0),!0):ae.state==="prompt"?null:(Z(!1),!1)}catch{return console.log("Permissions API not supported, will request on use"),null}},ze=async()=>{try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(be=>be.stop()),Z(!0),D(!1),C(!0),!0}catch(ae){return console.error("Microphone permission denied:",ae),Z(!1),D(!1),ae instanceof Error&&ae.name==="NotAllowedError"?B(!0):ae instanceof Error&&ae.name==="NotFoundError"?me.error("No microphone found",{description:"Please connect a microphone to record voice messages",duration:5e3}):ae instanceof Error&&ae.name==="NotReadableError"?me.error("Microphone is busy",{description:"Your microphone is already in use by another application",duration:5e3}):me.error("Failed to access microphone",{description:"Please check your browser settings and try again",duration:5e3}),!1}},rt=async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){me.error("Voice recording not supported",{description:"Your browser does not support voice recording"});return}if(V===!0){C(!0);return}await ke()===!0?C(!0):D(!0)},pe=ae=>{b(ae),K.current&&(K.current.style.height="auto",K.current.style.height=Math.min(K.current.scrollHeight,100)+"px"),R.current&&clearTimeout(R.current),ae.trim()&&(Vf.start(t),R.current=setTimeout(()=>{Vf.stop(t)},2e3))},Ke=async()=>{if(!x.trim()&&S.length===0||N)return;P(!0);const ae=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,be={id:ae,tempId:ae,conversation_id:t,sender_id:e.id,sender:e,body:x.trim(),type:S.length>0?S[0].type.startsWith("image/")?"image":S[0].type.startsWith("video/")?"video":"file":"text",created_at:new Date().toISOString(),pending:!0,reply_to:Q?.id,reply_to_message:Q||void 0,statuses:[]};h(Ge=>[...Ge,be]);const Me=x.trim(),We=[...S],xt=Q;b(""),_([]),re(null),K.current&&(K.current.style.height="auto"),Vf.stop(t),J.current=!0;try{let Ge=[];if(We.length>0)for(const Ue of We){const oe=await Wc.uploadFile(Ue,"attachment");if(oe.success&&oe.data){let Pe="file";Ue.type.startsWith("image/")?Pe="image":Ue.type.startsWith("audio/")?Pe="audio":Ue.type.startsWith("video/")&&(Pe="video"),Ge.push({id:Math.random().toString(36).substr(2,9),url:oe.data.url,type:Pe,filename:Ue.name,size:Ue.size,mime_type:Ue.type})}}const et=await Lo.send(t,Me||"",Ge.length>0?Ge[0].type:"text",xt?.id,Ge.length>0?Ge:void 0);et.success&&et.data?.message?h(Ue=>Ue.map(oe=>oe.tempId===ae?{...et.data.message,pending:!1}:oe)):(h(Ue=>Ue.map(oe=>oe.tempId===ae?{...oe,pending:!1,failed:!0}:oe)),me.error("Failed to send message"))}catch{h(et=>et.map(Ue=>Ue.tempId===ae?{...Ue,pending:!1,failed:!0}:Ue)),me.error("Failed to send message")}finally{P(!1)}},yt=ae=>{ae.key==="Enter"&&!ae.shiftKey&&(ae.preventDefault(),Ke())},Pn=ae=>{ae.target.files&&_(Array.from(ae.target.files))},Ft=async ae=>{P(!0);const be=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Me={id:be,tempId:be,conversation_id:t,sender_id:e.id,sender:e,body:"",type:"voice",created_at:new Date().toISOString(),pending:!0,reply_to:Q?.id,reply_to_message:Q||void 0,statuses:[],attachments:[{id:be,url:URL.createObjectURL(ae),type:"audio",filename:"voice-message.webm",size:ae.size,mime_type:"audio/webm"}]};h(xt=>[...xt,Me]);const We=Q;re(null),J.current=!0;try{const xt=new File([ae],"voice-message.webm",{type:"audio/webm"}),Ge=await Wc.uploadFile(xt,"voice");if(Ge.success&&Ge.data){const et=await Lo.send(t,"","voice",We?.id,[{id:Math.random().toString(36).substr(2,9),url:Ge.data.url,type:"audio",filename:"voice-message.webm",size:ae.size,mime_type:"audio/webm"}]);et.success&&et.data?.message?h(Ue=>Ue.map(oe=>oe.tempId===be?{...et.data.message,pending:!1}:oe)):(h(Ue=>Ue.map(oe=>oe.tempId===be?{...oe,pending:!1,failed:!0}:oe)),me.error("Failed to send voice message"))}}catch{h(Ge=>Ge.map(et=>et.tempId===be?{...et,pending:!1,failed:!0}:et)),me.error("Failed to send voice message")}finally{P(!1),C(!1)}},Gt=ae=>{re(ae),K.current?.focus()},xn=async ae=>{(await Lo.deleteForMe(ae)).success?(me.success("Message deleted"),h(Me=>Me.filter(We=>We.id!==ae))):me.error("Failed to delete message")},Vt=async ae=>{(await Lo.deleteForEveryone(ae)).success?(me.success("Message deleted for everyone"),h(Me=>Me.filter(We=>We.id!==ae))):me.error("Failed to delete message")},Hn=ae=>{me.success("Copied to clipboard")};return m?u.jsx("div",{className:"flex items-center justify-center h-screen bg-[#efeae2]",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-[#00a884] border-t-transparent rounded-full animate-spin mx-auto mb-3"}),u.jsx("p",{className:"text-sm text-[#667781]",children:"Loading..."})]})}):u.jsxs("div",{className:"flex flex-col h-screen bg-[#efeae2]",children:[u.jsxs("header",{className:"flex items-center h-[60px] bg-[#f0f2f5] px-4 gap-3 shadow-sm",children:[u.jsx("button",{onClick:n,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-black/5 transition-colors",children:u.jsx(nu,{className:"w-6 h-6 text-[#54656f]"})}),O&&u.jsxs("button",{onClick:()=>i?.(O,H),className:"flex items-center gap-3 flex-1 min-w-0 hover:bg-black/5 rounded-lg px-2 py-1.5 -ml-2 transition-colors",children:[u.jsx(ln,{src:O.avatar_url,alt:O.full_name,fallbackText:O.full_name,size:"md",className:"w-10 h-10",showOnline:O.is_online}),u.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[u.jsx("div",{className:"font-medium text-[17px] text-[#111b21] truncate",children:O.full_name}),u.jsx("div",{className:"text-[13px] text-[#667781] truncate",children:T?u.jsx("span",{className:"text-[#00a884]",children:"typing..."}):H})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[O&&s&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>s(O,"video"),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-black/5 transition-colors",children:u.jsx(oi,{className:"w-5 h-5 text-[#54656f]"})}),u.jsx("button",{onClick:()=>s(O,"voice"),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-black/5 transition-colors",children:u.jsx(xr,{className:"w-5 h-5 text-[#54656f]"})})]}),u.jsxs(gk,{children:[u.jsx(vk,{asChild:!0,children:u.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-black/5 transition-colors",children:u.jsx(Fp,{className:"w-5 h-5 text-[#54656f]"})})}),u.jsxs(yk,{align:"end",className:"w-48",children:[i&&O&&u.jsx(Jo,{onClick:()=>i(O,H),children:"View contact"}),a&&u.jsxs(Jo,{onClick:a,className:"text-destructive",children:[u.jsx(si,{className:"w-4 h-4 mr-2"}),"Delete chat"]})]})]})]})]}),u.jsxs("div",{ref:ve,className:"flex-1 overflow-y-auto px-4 md:px-[8%] py-3",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h100v100H0z' fill='%23efeae2' fill-opacity='.1'/%3E%3Cpath d='M50 0L0 50M100 50L50 100' stroke='%23d1d7db' stroke-width='.5' opacity='.05'/%3E%3C/svg%3E")`,backgroundSize:"412.5px 749.25px",WebkitOverflowScrolling:"touch"},children:[q.map(ae=>u.jsxs("div",{children:[u.jsx(q6,{date:ae.date}),ae.messages.map((be,Me)=>{const We=be.sender_id===e.id,xt=Me>0?ae.messages[Me-1]:null,Ge=Me<ae.messages.length-1?ae.messages[Me+1]:null,et=!xt||xt.sender_id!==be.sender_id,Ue=!Ge||Ge.sender_id!==be.sender_id;return u.jsx("div",{className:Ue?"mb-2":"mb-[2px]",children:u.jsx(x6,{message:be,isSent:We,showAvatar:!We&&et,showTimestamp:Ue,currentUserId:e.id,isFirstInGroup:et,isLastInGroup:Ue,onReply:Gt,onDeleteForMe:xn,onDeleteForEveryone:We?Vt:void 0,onCopy:Hn})},be.tempId||be.id)})]},`${ae.date}-${ae.messages[0]?.id||ae.messages[0]?.tempId}`)),T&&O&&u.jsx("div",{className:"mb-2",children:u.jsx(w6,{userName:O.full_name})}),u.jsx("div",{ref:fe})]}),u.jsxs("div",{className:"bg-[#f0f2f5] px-4 py-2",children:[Q&&u.jsx("div",{className:"mb-2",children:u.jsx(_6,{message:Q,onCancel:()=>re(null)})}),S.length>0&&u.jsx("div",{className:"mb-2 p-3 bg-white rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-sm text-[#667781]",children:[S.length," file(s) selected"]}),u.jsx("button",{onClick:()=>_([]),className:"text-[#667781] hover:text-[#111b21]",children:u.jsx(eo,{className:"w-5 h-5"})})]})}),u.jsxs("div",{className:"flex items-end gap-2",children:[u.jsx(S6,{onEmojiSelect:ae=>{b(x+ae),K.current?.focus()},trigger:u.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-black/5 transition-colors",children:u.jsx(eR,{className:"w-6 h-6 text-[#54656f]"})})}),u.jsx("input",{ref:X,type:"file",multiple:!0,onChange:Pn,className:"hidden"}),u.jsx("button",{onClick:()=>X.current?.click(),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-black/5 transition-colors",children:u.jsx(FA,{className:"w-6 h-6 text-[#54656f]"})}),u.jsx("div",{className:"flex-1 bg-white rounded-[21px] px-4 py-2 shadow-sm",children:u.jsx("textarea",{ref:K,value:x,onChange:ae=>pe(ae.target.value),onKeyPress:yt,placeholder:"Type a message",className:"w-full resize-none outline-none bg-transparent text-[15px] text-[#111b21] placeholder:text-[#667781] max-h-[100px]",rows:1})}),x.trim()||S.length>0?u.jsx("button",{onClick:Ke,disabled:N,className:"w-10 h-10 flex items-center justify-center rounded-full bg-[#00a884] hover:bg-[#00a884]/90 transition-colors disabled:opacity-50",children:u.jsx(su,{className:"w-5 h-5 text-white"})}):u.jsx("button",{onClick:rt,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-black/5 transition-colors",children:u.jsx(Zs,{className:"w-6 h-6 text-[#54656f]"})})]})]}),j&&u.jsx(b6,{onRecorded:Ft,onCancel:()=>C(!1)}),u.jsx(W6,{open:I,onConfirm:ze,onCancel:()=>D(!1)}),u.jsx(H6,{open:F,onClose:()=>B(!1)})]})}function J6({open:t,onOpenChange:e,onUserFound:n,currentUserId:s}){const[i,a]=w.useState(""),[l,d]=w.useState(Ys[0].dialCode),[p,h]=w.useState(""),[m,g]=w.useState(!1),[x,b]=w.useState(null),S=async()=>{if(h(""),b(null),!i||i.trim().length<7){h("Please enter a valid phone number");return}g(!0);try{const C=_D(l,i),T=await Zp(),E=await fetch(`https://${Ra}.supabase.co/functions/v1/make-server-29f6739b/users/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T||li}`},body:JSON.stringify({phone_number:C})});if(!E.ok){let P="Failed to search user";try{const I=await E.json();P=I.error||I.message||P}catch{P=E.statusText||P}if(E.status===404||P.includes("not found"))h("No user found with this phone number");else throw new Error(P);return}const N=await E.json();if(!N.found||!N.user){h("No user found with this phone number");return}if(N.user.id===s){h("You cannot add yourself");return}b(N.user),me.success("User found!",{description:`Found ${N.user.full_name}`})}catch(C){console.error("Phone search error:",C),h(C instanceof Error?C.message:"Failed to search user"),me.error("Search failed",{description:"Please check the phone number and try again"})}finally{g(!1)}},_=()=>{x&&(n(x),e(!1),a(""),b(null))},j=()=>{a(""),h(""),b(null)};return u.jsx(I3,{open:t,onOpenChange:e,children:u.jsxs(WS,{className:"sm:max-w-md",children:[u.jsxs(D3,{children:[u.jsxs(L3,{className:"flex items-center gap-2",children:[u.jsx(xr,{className:"h-5 w-5 text-primary"}),"Find User by Phone"]}),u.jsx($3,{children:"Enter a phone number to find and connect with AuroraLink users"})]}),u.jsxs("div",{className:"space-y-6 py-4",children:[x?u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"rounded-lg border border-success/50 bg-success/10 p-5 hover:bg-success/15 transition-colors",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(ln,{src:x.avatar_url,alt:x.full_name,size:"xl",status:x.is_online?"online":"offline",showBorder:!0}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-medium truncate",children:x.full_name}),u.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["@",x.username]}),x.status_message&&u.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:x.status_message})]})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Be,{onClick:_,className:"flex-1",children:[u.jsx(qb,{className:"mr-2 h-4 w-4"}),"Start Chat"]}),u.jsx(Be,{onClick:j,variant:"outline",children:"Search Again"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block mb-3 text-sm",children:"Phone Number"}),u.jsx(P_,{value:i,dialCode:l,onChange:(C,T)=>{a(C),d(T),h("")},error:p,disabled:m,autoFocus:!0})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx(Be,{onClick:S,disabled:m||!i,className:"flex-1",children:m?u.jsxs(u.Fragment,{children:[u.jsx(zb,{className:"mr-2 h-4 w-4 animate-spin"}),"Searching..."]}):u.jsxs(u.Fragment,{children:[u.jsx(ru,{className:"mr-2 h-4 w-4"}),"Search"]})})})]}),u.jsx("div",{className:"rounded-lg border border-border bg-muted/30 p-3",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:"💡 Search for users by their registered phone number"})})]})]})})}function X6({user:t}){const e=Rk(t.last_seen,t.is_online,!0);return e?u.jsx("span",{className:"text-xs text-muted-foreground",children:e}):null}function Q6({currentUser:t,onBack:e,onConversationCreated:n}){const[s,i]=w.useState(""),[a,l]=w.useState([]),[d,p]=w.useState(""),[h,m]=w.useState(!1),[g,x]=w.useState(!1),[b,S]=w.useState([]),_=b.filter(N=>{if(!s)return!0;const P=s.toLowerCase();return N.full_name.toLowerCase().includes(P)||N.username.toLowerCase().includes(P)}),j=async N=>{b.some(P=>P.id===N.id)||S(P=>[N,...P]),m(!0);try{const P=await ci.create("dm",[N.id]);P.success&&P.data?.conversation?(me.success("Chat started!",{description:`You can now message ${N.full_name}`}),n(P.data.conversation.id)):me.error("Failed to create chat",{description:P.error||"Please try again"})}catch(P){console.error("Failed to create conversation:",P),me.error("Failed to create chat",{description:"Please try again"}),C(N.id)}finally{m(!1)}},C=N=>{l(P=>P.includes(N)?P.filter(I=>I!==N):[...P,N])},T=async()=>{if(!(a.length===0||h)){m(!0);try{const N=a.length>1,P=await ci.create(N?"group":"dm",a,N?d||"New Group":void 0);P.success&&P.data?.conversation&&n(P.data.conversation.id)}catch(N){console.error("Failed to create conversation:",N)}finally{m(!1)}}},E=a.length>1;return u.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[u.jsxs("div",{className:"bg-surface border-b border-border px-4 py-3",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Be,{variant:"ghost",size:"icon",onClick:e,"aria-label":"Back",children:u.jsx(nu,{className:"w-5 h-5"})}),u.jsx("h2",{children:"New Chat"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx(ru,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),u.jsx(vr,{type:"search",placeholder:"Search contacts...",value:s,onChange:N=>i(N.target.value),className:"pl-10"})]}),u.jsxs(Be,{variant:"outline",onClick:()=>x(!0),className:"w-full",size:"sm",children:[u.jsx(xr,{className:"w-4 h-4 mr-2"}),"Find by Phone Number"]})]}),E&&u.jsxs("div",{className:"mt-4",children:[u.jsx(ua,{htmlFor:"groupName",children:"Group Name"}),u.jsx(vr,{id:"groupName",type:"text",value:d,onChange:N=>p(N.target.value),placeholder:"Enter group name...",className:"mt-2"})]})]}),a.length>0&&u.jsxs("div",{className:"bg-muted px-4 py-3 border-b border-border",children:[u.jsxs("p",{className:"text-sm mb-2",children:["Selected: ",a.length," ",a.length===1?"person":"people"]}),u.jsx("div",{className:"flex gap-2 overflow-x-auto",children:a.map(N=>{const P=b.find(I=>I.id===N);return P?u.jsxs("button",{onClick:()=>C(N),className:"flex flex-col items-center gap-1.5 p-2 rounded-lg bg-background hover:bg-surface transition-colors",children:[u.jsx(ln,{src:P.avatar_url,alt:P.full_name,size:"md",showBorder:!0}),u.jsx("span",{className:"text-xs truncate max-w-[60px]",children:P.full_name.split(" ")[0]})]},N):null})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:_.length>0?u.jsx("div",{className:"p-2",children:_.map(N=>{const P=a.includes(N.id);return u.jsxs("button",{onClick:()=>C(N.id),className:`w-full flex items-center gap-4 p-3.5 rounded-lg transition-all duration-200 ${P?"bg-primary/10 ring-2 ring-primary/30":"hover:bg-[var(--hover-surface)]"}`,children:[u.jsx(ln,{src:N.avatar_url,alt:N.full_name,size:"lg",status:N.is_online?"online":"offline",showBorder:!0}),u.jsxs("div",{className:"flex-1 text-left min-w-0",children:[u.jsx("h4",{className:"truncate",children:N.full_name}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(X6,{user:N}),N.status_message&&!N.is_online&&u.jsxs("span",{className:"text-sm text-muted-foreground truncate",children:["• ",N.status_message]}),!N.status_message&&!N.is_online&&u.jsxs("span",{className:"text-sm text-muted-foreground truncate",children:["@",N.username]})]})]}),P&&u.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center",children:u.jsx(qb,{className:"w-4 h-4 text-primary-foreground"})})]},N.id)})}):u.jsx(Zh,{icon:xr,title:s?"No contacts found":"No contacts yet",description:s?"Try a different search term":"Use 'Find by Phone Number' to add contacts and start chatting"})}),a.length>0&&u.jsx("div",{className:"p-4 border-t border-border bg-surface",children:u.jsx(Be,{onClick:T,disabled:h,className:"w-full",size:"lg",children:h?"Creating...":E?"Create Group":"Start Chat"})}),u.jsx(J6,{open:g,onOpenChange:x,onUserFound:j,currentUserId:t.id})]})}function Z6(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var ju="Switch",[e$]=Fr(ju),[t$,n$]=e$(ju),Ok=w.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:a,required:l,disabled:d,value:p="on",onCheckedChange:h,form:m,...g}=t,[x,b]=w.useState(null),S=mt(e,E=>b(E)),_=w.useRef(!1),j=x?m||!!x.closest("form"):!0,[C,T]=za({prop:i,defaultProp:a??!1,onChange:h,caller:ju});return u.jsxs(t$,{scope:n,checked:C,disabled:d,children:[u.jsx(qe.button,{type:"button",role:"switch","aria-checked":C,"aria-required":l,"data-state":Lk(C),"data-disabled":d?"":void 0,disabled:d,value:p,...g,ref:S,onClick:De(t.onClick,E=>{T(N=>!N),j&&(_.current=E.isPropagationStopped(),_.current||E.stopPropagation())})}),j&&u.jsx(Dk,{control:x,bubbles:!_.current,name:s,value:p,checked:C,required:l,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});Ok.displayName=ju;var Ik="SwitchThumb",Mk=w.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,i=n$(Ik,n);return u.jsx(qe.span,{"data-state":Lk(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})});Mk.displayName=Ik;var r$="SwitchBubbleInput",Dk=w.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:s=!0,...i},a)=>{const l=w.useRef(null),d=mt(l,a),p=Z6(n),h=r_(e);return w.useEffect(()=>{const m=l.current;if(!m)return;const g=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(g,"checked").set;if(p!==n&&b){const S=new Event("click",{bubbles:s});b.call(m,n),m.dispatchEvent(S)}},[p,n,s]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:d,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Dk.displayName=r$;function Lk(t){return t?"checked":"unchecked"}var s$=Ok,o$=Mk;function nh({className:t,...e}){return u.jsx(s$,{"data-slot":"switch",className:Ze("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:u.jsx(o$,{"data-slot":"switch-thumb",className:Ze("bg-card pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function i$({currentUser:t,onBack:e,onUserUpdate:n}){const[s,i]=w.useState(t.avatar_url),[a,l]=w.useState(Zx()),[d,p]=w.useState(!1),[h,m]=w.useState(!1),[g,x]=w.useState(t.full_name),[b,S]=w.useState(t.status_message||t.status||"Hey there! I am using AuroraLink."),[_,j]=w.useState(!1),[C,T]=w.useState(()=>{const K=localStorage.getItem("soundEnabled");return K!==null?JSON.parse(K):!0}),[E,N]=w.useState(()=>{const K=localStorage.getItem("readReceipts");return K!==null?JSON.parse(K):!0}),[P,I]=w.useState(()=>{const K=localStorage.getItem("lastSeen");return K!==null?JSON.parse(K):!0}),[D,F]=w.useState(()=>localStorage.getItem("profilePhotoVisibility")||"Everyone");w.useEffect(()=>{const X=setInterval(()=>{l(Zx())},1e3);return()=>clearInterval(X)},[]);const B=async K=>{const X=K.target.files?.[0];if(!X)return;j(!0);const R=await Wc.uploadFile(X,"avatar");R.success&&R.data?.url&&(i(R.data.url),(await Bf.update({avatar_url:R.data.url})).success&&(n({...t,avatar_url:R.data.url}),me.success("Profile photo updated"))),j(!1)},V=async()=>{g.trim()&&g!==t.full_name&&(await Bf.update({full_name:g})).success&&(n({...t,full_name:g}),me.success("Name updated")),p(!1)},Z=async()=>{const K=t.status_message||t.status||"Hey there! I am using AuroraLink.";b!==K&&(await Bf.update({status_message:b})).success&&(n({...t,status:b,status_message:b,status_updated_at:new Date().toISOString()}),me.success("About updated")),m(!1)},Q=K=>{T(K),localStorage.setItem("soundEnabled",JSON.stringify(K))},re=K=>{N(K),localStorage.setItem("readReceipts",JSON.stringify(K))},fe=K=>{I(K),localStorage.setItem("lastSeen",JSON.stringify(K))},ve=K=>{F(K),localStorage.setItem("profilePhotoVisibility",K)};return u.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[u.jsxs("div",{className:"bg-primary px-4 py-4 flex items-center gap-4 shadow-sm",children:[u.jsx(Be,{variant:"ghost",size:"icon",onClick:e,className:"text-primary-foreground hover:bg-primary-foreground/10","aria-label":"Back",children:u.jsx(nu,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-primary-foreground text-xl",children:"Settings"})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[u.jsx("div",{className:"bg-surface px-6 py-8",children:u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsxs("div",{className:"relative",children:[u.jsx(ln,{src:s,alt:t.full_name,size:"2xl",showBorder:!0}),u.jsxs("label",{className:"absolute bottom-0 right-0 p-3 bg-gradient-to-br from-accent to-primary text-white rounded-full cursor-pointer hover:shadow-xl transition-all shadow-lg hover:scale-110",children:[u.jsx(Bb,{className:"w-5 h-5"}),u.jsx("input",{type:"file",accept:"image/*",onChange:B,className:"hidden",disabled:_})]}),_&&u.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center",children:u.jsx("div",{className:"w-8 h-8 border-3 border-white/30 border-t-white rounded-full animate-spin"})})]}),u.jsxs("div",{className:"flex-1",children:[d?u.jsx("input",{type:"text",value:g,onChange:K=>x(K.target.value),onBlur:V,onKeyDown:K=>K.key==="Enter"&&V(),className:"w-full bg-transparent border-b-2 border-primary outline-none pb-1",autoFocus:!0}):u.jsx("h2",{className:"cursor-pointer hover:text-primary transition-colors",onClick:()=>p(!0),children:t.full_name}),h?u.jsx("input",{type:"text",value:b,onChange:K=>S(K.target.value),onBlur:Z,onKeyDown:K=>K.key==="Enter"&&Z(),placeholder:"Hey there! I am using AuroraLink.",className:"w-full bg-transparent border-b border-muted-foreground outline-none text-sm text-muted-foreground mt-1",autoFocus:!0}):u.jsx("p",{className:"text-sm text-muted-foreground cursor-pointer hover:text-primary transition-colors mt-1",onClick:()=>m(!0),children:t.status_message||t.status||"Hey there! I am using AuroraLink."})]})]})}),u.jsxs("div",{className:"mt-6",children:[u.jsx("div",{className:"px-6 py-2",children:u.jsx("p",{className:"text-sm text-primary",children:"Account"})}),u.jsxs("div",{className:"bg-surface",children:[u.jsxs("div",{className:"px-6 py-4 flex items-center gap-4 border-b border-border",children:[u.jsx(xr,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),u.jsx("p",{className:"mt-0.5",children:t.phone_number||"Not set"})]})]}),u.jsxs("div",{className:"px-6 py-4 flex items-center gap-4 border-b border-border",children:[u.jsx(Wb,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),u.jsx("p",{className:"mt-0.5",children:t.email})]})]}),u.jsxs("div",{className:"px-6 py-4 flex items-center gap-4",children:[u.jsx(Yb,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),u.jsxs("p",{className:"mt-0.5",children:["@",t.username]})]})]})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("div",{className:"px-6 py-2",children:u.jsx("p",{className:"text-sm text-primary",children:"Notifications"})}),u.jsxs("div",{className:"bg-surface",children:[u.jsxs("div",{className:"px-6 py-4 flex items-center gap-4 border-b border-border",children:[u.jsx(oA,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{children:"Browser Notifications"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:a==="granted"?"Enabled":a==="denied"?"Blocked in browser settings":"Not enabled"})]}),a!=="granted"&&a!=="denied"&&u.jsx(Be,{size:"sm",onClick:async()=>{await DD()&&(me.success("Notifications enabled"),l("granted"))},children:"Enable"})]}),u.jsxs("div",{className:"px-6 py-4 flex items-center gap-4",children:[u.jsx(vR,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{children:"Sound"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:"Play sound for messages"})]}),u.jsx(nh,{checked:C,onCheckedChange:Q})]})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("div",{className:"px-6 py-2",children:u.jsx("p",{className:"text-sm text-primary",children:"Privacy"})}),u.jsxs("div",{className:"bg-surface",children:[u.jsxs("div",{className:"px-6 py-4 flex items-center gap-4 border-b border-border",children:[u.jsx(Gs,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{children:"Read Receipts"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:"Show when you've read messages"})]}),u.jsx(nh,{checked:E,onCheckedChange:re})]}),u.jsxs("div",{className:"px-6 py-4 flex items-center gap-4 border-b border-border",children:[u.jsx(Ch,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{children:"Last Seen"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:"Show when you were last active"})]}),u.jsx(nh,{checked:P,onCheckedChange:fe})]}),u.jsxs("button",{className:"w-full px-6 py-4 flex items-center gap-4 hover:bg-[var(--hover-surface)] transition-colors",onClick:()=>{const K=["Everyone","My Contacts","Nobody"],X=K.indexOf(D),R=K[(X+1)%K.length];ve(R)},children:[u.jsx(Eh,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("p",{children:"Profile Photo"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:D})]}),u.jsx(Nf,{className:"w-5 h-5 text-muted-foreground"})]})]})]}),u.jsxs("div",{className:"mt-6 mb-6",children:[u.jsx("div",{className:"px-6 py-2",children:u.jsx("p",{className:"text-sm text-primary",children:"About"})}),u.jsxs("div",{className:"bg-surface",children:[u.jsx("div",{className:"px-6 py-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Ub,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{children:"Version"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:"AuroraLink v1.0.0"})]})]})}),u.jsxs("button",{className:"w-full px-6 py-4 flex items-center gap-4 hover:bg-[var(--hover-surface)] transition-colors border-b border-border",children:[u.jsx("div",{className:"w-5"}),u.jsx("p",{className:"flex-1 text-left",children:"Terms of Service"}),u.jsx(Nf,{className:"w-5 h-5 text-muted-foreground"})]}),u.jsxs("button",{className:"w-full px-6 py-4 flex items-center gap-4 hover:bg-[var(--hover-surface)] transition-colors",children:[u.jsx("div",{className:"w-5"}),u.jsx("p",{className:"flex-1 text-left",children:"Privacy Policy"}),u.jsx(Nf,{className:"w-5 h-5 text-muted-foreground"})]})]})]}),u.jsx("div",{className:"px-6 py-4 text-center text-sm text-muted-foreground",children:"© 2024 AuroraLink. All rights reserved."})]})]})}function a$({callType:t,recipientUser:e,currentUser:n,isInitiator:s,onEndCall:i,onCallConnected:a,onCallFailed:l,peerConnection:d,localStream:p,remoteStream:h}){const[m,g]=w.useState(!1),[x,b]=w.useState(!1),[S,_]=w.useState(!1),[j,C]=w.useState(0),[T,E]=w.useState("connecting"),N=w.useRef(null),P=w.useRef(null),I=w.useRef(null);w.useEffect(()=>{p&&N.current&&(N.current.srcObject=p)},[p]),w.useEffect(()=>(h&&P.current&&(P.current.srcObject=h,E("connected"),a?.(),I.current=setInterval(()=>{C(Q=>Q+1)},1e3)),()=>{I.current&&clearInterval(I.current)}),[h,a]),w.useEffect(()=>{s&&T==="connecting"&&E("ringing")},[s,T]);const D=()=>{p&&(p.getAudioTracks().forEach(Q=>{Q.enabled=!Q.enabled}),g(!m))},F=()=>{p&&t==="video"&&(p.getVideoTracks().forEach(Q=>{Q.enabled=!Q.enabled}),b(!x))},B=()=>{document.fullscreenElement?(document.exitFullscreen(),_(!1)):(document.documentElement.requestFullscreen(),_(!0))},V=Q=>{const re=Math.floor(Q/60),fe=Q%60;return`${re.toString().padStart(2,"0")}:${fe.toString().padStart(2,"0")}`},Z=()=>{switch(T){case"connecting":return"Connecting...";case"ringing":return"Ringing...";case"connected":return V(j);default:return""}};return u.jsxs("div",{className:"h-screen w-screen bg-gradient-to-br from-surface via-background to-muted flex flex-col items-center justify-center relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 opacity-30 pointer-events-none",children:[u.jsx(te.div,{className:"absolute top-20 left-20 w-96 h-96 bg-primary/20 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),u.jsx(te.div,{className:"absolute bottom-20 right-20 w-96 h-96 bg-accent/20 rounded-full blur-3xl",animate:{scale:[1.2,1,1.2],opacity:[.5,.3,.5]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]}),t==="video"?u.jsxs("div",{className:"w-full h-full relative",children:[u.jsx("div",{className:"w-full h-full bg-black relative",children:h?u.jsx("video",{ref:P,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}):u.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[u.jsx(ln,{src:e.avatar_url,alt:e.full_name,fallbackText:e.full_name,size:"2xl",className:"mb-6"}),u.jsx("h2",{className:"text-white text-2xl mb-2",children:e.full_name}),u.jsx("p",{className:"text-white/70",children:Z()}),T==="ringing"&&u.jsx(te.div,{className:"mt-8 flex gap-2",initial:{opacity:0},animate:{opacity:1},children:[0,1,2].map(Q=>u.jsx(te.div,{className:"w-3 h-3 rounded-full bg-white/50",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:Q*.2}},Q))})]})}),p&&!x&&u.jsx(te.div,{className:"absolute top-4 right-4 w-40 h-52 rounded-2xl overflow-hidden shadow-2xl border-2 border-white/20 bg-black",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3},drag:!0,dragConstraints:{top:0,left:-200,right:0,bottom:400},children:u.jsx("video",{ref:N,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover scale-x-[-1]"})}),u.jsx("div",{className:"absolute top-0 left-0 right-0 p-6 bg-gradient-to-b from-black/60 to-transparent",children:u.jsxs("div",{className:"flex items-center justify-between text-white",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ln,{src:e.avatar_url,alt:e.full_name,fallbackText:e.full_name,size:"sm"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium",children:e.full_name}),u.jsx("p",{className:"text-xs text-white/70",children:Z()})]})]}),u.jsx(Be,{variant:"ghost",size:"icon",onClick:B,className:"text-white hover:bg-white/10",children:S?u.jsx(LA,{className:"w-5 h-5"}):u.jsx(RA,{className:"w-5 h-5"})})]})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 bg-gradient-to-t from-black/60 to-transparent",children:u.jsxs("div",{className:"flex items-center justify-center gap-4",children:[u.jsx(te.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:u.jsx(Be,{variant:m?"destructive":"secondary",size:"icon",onClick:D,className:"h-14 w-14 rounded-full shadow-lg","aria-label":m?"Unmute":"Mute",children:m?u.jsx(M0,{className:"w-6 h-6"}):u.jsx(Zs,{className:"w-6 h-6"})})}),u.jsx(te.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:u.jsx(Be,{variant:x?"destructive":"secondary",size:"icon",onClick:F,className:"h-14 w-14 rounded-full shadow-lg","aria-label":x?"Turn on camera":"Turn off camera",children:x?u.jsx(pR,{className:"w-6 h-6"}):u.jsx(oi,{className:"w-6 h-6"})})}),u.jsx(te.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:u.jsx(Be,{variant:"destructive",size:"icon",onClick:i,className:"h-16 w-16 rounded-full shadow-lg bg-red-500 hover:bg-red-600","aria-label":"End call",children:u.jsx(Nh,{className:"w-7 h-7"})})})]})})]}):u.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center gap-8 p-8",children:[u.jsxs(te.div,{animate:{scale:T==="ringing"?[1,1.05,1]:1},transition:{duration:2,repeat:T==="ringing"?1/0:0,ease:"easeInOut"},className:"relative",children:[u.jsx(ln,{src:e.avatar_url,alt:e.full_name,fallbackText:e.full_name,size:"2xl",className:"shadow-2xl"}),T==="ringing"&&u.jsx(te.div,{className:"absolute inset-0 rounded-full border-4 border-primary",animate:{scale:[1,1.3,1],opacity:[.8,0,.8]},transition:{duration:2,repeat:1/0,ease:"easeOut"}})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-3xl mb-2",children:e.full_name}),u.jsx("p",{className:"text-muted-foreground text-lg",children:Z()})]}),T==="ringing"&&u.jsx(te.div,{className:"flex gap-2",initial:{opacity:0},animate:{opacity:1},children:[0,1,2].map(Q=>u.jsx(te.div,{className:"w-3 h-3 rounded-full bg-primary",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:Q*.2}},Q))}),u.jsxs("div",{className:"flex items-center gap-6 mt-8",children:[u.jsx(te.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:u.jsx(Be,{variant:m?"destructive":"secondary",size:"icon",onClick:D,className:"h-16 w-16 rounded-full shadow-lg","aria-label":m?"Unmute":"Mute",children:m?u.jsx(M0,{className:"w-7 h-7"}):u.jsx(Zs,{className:"w-7 h-7"})})}),u.jsx(te.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:u.jsx(Be,{variant:"destructive",size:"icon",onClick:i,className:"h-20 w-20 rounded-full shadow-2xl bg-red-500 hover:bg-red-600","aria-label":"End call",children:u.jsx(Nh,{className:"w-8 h-8"})})})]}),p&&u.jsx("video",{ref:N,autoPlay:!0,playsInline:!0,muted:!0,className:"hidden"})]})]})}function l$({userStoriesList:t,initialUserIndex:e,currentUser:n,onClose:s,onRefresh:i}){const[a,l]=w.useState(e),[d,p]=w.useState(0),[h,m]=w.useState(!1),[g,x]=w.useState(0),[b,S]=w.useState(""),[_,j]=w.useState(!1),[C,T]=w.useState(!1),[E,N]=w.useState([]),[P,I]=w.useState(0),[D,F]=w.useState(!1),[B,V]=w.useState(!1),[Z,Q]=w.useState(0),re=w.useRef(null),fe=w.useRef(Date.now()),ve=w.useRef(null),K=w.useRef(null),X=t[a],R=X?.stories[d],W=X?.user.id===n.id,J=5e3,L=pe=>{const Ke=new Date(pe).getTime(),yt=Date.now(),Ft=Ke+1440*60*1e3-yt;if(Ft<=0)return"Expired";const Gt=Math.floor(Ft/(3600*1e3)),xn=Math.floor(Ft%(3600*1e3)/(60*1e3));return Gt>0?`${Gt}h ${xn}m left`:xn>0?`${xn}m left`:"Expiring soon"};w.useEffect(()=>{F(!1),V(!1),x(0)},[R?.id]),w.useEffect(()=>{(async()=>{if(R&&!W){const Ke=await sr.view(R.id);Ke.success?console.log(`[Story] ✅ View recorded for story ${R.id}`):console.error("[Story] ❌ Failed to record view:",Ke.error)}R&&W&&le()})()},[R?.id,W]),w.useEffect(()=>{if(h||!R||R.type==="image"&&!D||R.type==="video"&&!B)return;fe.current=Date.now();const pe=()=>{const Ke=Date.now()-fe.current,yt=Math.min(Ke/J*100,100);x(yt),yt>=100?O():re.current=setTimeout(pe,16)};return re.current=setTimeout(pe,16),()=>{re.current&&clearTimeout(re.current)}},[R?.id,h,D,B]);const O=()=>{d<X.stories.length-1?(p(d+1),x(0)):a<t.length-1?(l(a+1),p(0),x(0)):s()},H=()=>{if(d>0)p(d-1),x(0);else if(a>0){const pe=a-1;l(pe),p(t[pe].stories.length-1),x(0)}},Y=async()=>{if(!b.trim()||!R)return;(await sr.reply(R.id,b.trim())).success?(me.success("Reply sent",{description:`Your message was sent to ${X.user.full_name}`,duration:2e3}),S(""),K.current&&K.current.blur()):me.error("Failed to send reply")},q=async()=>{if(!R||!W)return;(await sr.delete(R.id)).success?(me.success("Story deleted"),i(),s()):me.error("Failed to delete story")},le=async()=>{if(!R||!W)return;const pe=await sr.getViews(R.id);pe.success&&pe.data?.views&&I(pe.data.views.length)},ee=async()=>{if(!R||!W)return;const pe=await sr.getViews(R.id);pe.success&&pe.data?.views&&(N(pe.data.views),I(pe.data.views.length),j(!0),m(!0))},de=pe=>{const Ke="touches"in pe?pe.touches[0].clientX:pe.clientX,yt=pe.currentTarget.getBoundingClientRect(),Pn=Ke-yt.left,Ft=yt.width/3;Pn<Ft?H():Pn>yt.width-Ft&&O()},ke=pe=>{Q(pe.touches[0].clientY),m(!0)},ze=pe=>{const Ke=pe.changedTouches[0].clientY;Z-Ke>50&&W?ee():m(!1)},rt=async pe=>{if(!R)return;(await sr.reply(R.id,pe)).success&&me.success("Reaction sent",{icon:pe,duration:1500})};return R?u.jsxs("div",{className:"fixed inset-0 z-50 bg-black overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 z-30 flex gap-1 p-2 pt-safe",children:X.stories.map((pe,Ke)=>u.jsx("div",{className:"flex-1 h-[3px] bg-white/30 rounded-full overflow-hidden backdrop-blur-sm",children:u.jsx(te.div,{className:"h-full bg-white shadow-sm",initial:{width:0},animate:{width:Ke<d?"100%":Ke===d?`${g}%`:"0%"},transition:{duration:.1,ease:"linear"}})},Ke))}),u.jsxs("div",{className:"absolute top-0 left-0 right-0 z-30 pt-safe",children:[u.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gradient-to-b from-black/70 via-black/40 to-transparent backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[u.jsxs("div",{className:"relative",children:[u.jsx(ln,{user:X.user,size:"sm",showBorder:!1}),X.user.is_online&&!W&&u.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-success rounded-full border-2 border-black"})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-white font-semibold text-[15px] truncate leading-tight",children:W?"Your story":X.user.full_name}),u.jsxs("p",{className:"text-white/80 text-xs leading-tight",children:[new Date(R.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," • ",L(R.created_at)]})]})]}),u.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[W&&u.jsx("button",{onClick:()=>T(!C),className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/10 active:bg-white/20 transition-colors",children:u.jsx(Fp,{className:"w-5 h-5 text-white"})}),u.jsx("button",{onClick:s,className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/10 active:bg-white/20 transition-colors",children:u.jsx(eo,{className:"w-5 h-5 text-white"})})]})]}),u.jsx(ma,{children:C&&W&&u.jsx(te.div,{initial:{opacity:0,scale:.95,y:-5},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-5},transition:{duration:.15},className:"absolute top-full right-3 mt-1 bg-surface rounded-2xl shadow-2xl overflow-hidden min-w-[180px] border border-border/50",onClick:()=>T(!1),children:u.jsxs("button",{onClick:pe=>{pe.stopPropagation(),T(!1),q()},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-hover-destructive transition-colors text-left text-destructive",children:[u.jsx(si,{className:"w-[18px] h-[18px]"}),u.jsx("span",{className:"text-[15px] font-medium",children:"Delete"})]})})})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center select-none",onClick:de,onTouchStart:ke,onTouchEnd:ze,onMouseDown:()=>m(!0),onMouseUp:()=>m(!1),children:u.jsx(ma,{mode:"wait",children:u.jsxs(te.div,{initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.03},transition:{duration:.2,ease:[.4,0,.2,1]},className:"w-full h-full flex items-center justify-center",children:[R.type==="image"&&u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsx("img",{src:R.media_url,alt:"Story",className:"max-w-full max-h-full w-auto h-auto object-contain",onLoad:()=>F(!0),onError:()=>F(!0),style:{imageRendering:"high-quality",display:"block",margin:"0 auto"}})}),R.type==="video"&&u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsx("video",{ref:ve,src:R.media_url,className:"max-w-full max-h-full w-auto h-auto object-contain",autoPlay:!0,muted:!0,playsInline:!0,onLoadedData:()=>V(!0),onError:()=>V(!0),style:{display:"block",margin:"0 auto"}})}),R.type==="text"&&u.jsx("div",{className:"w-full h-full flex items-center justify-center px-8 py-12",style:{background:R.background_color||"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:u.jsx("p",{className:"text-white text-[32px] leading-relaxed font-medium text-center max-w-lg px-4",children:R.text_content})}),R.caption&&u.jsx("div",{className:"absolute bottom-24 left-0 right-0 px-4",children:u.jsx(te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-black/50 backdrop-blur-xl rounded-2xl px-4 py-3 max-w-md mx-auto border border-white/10",children:u.jsx("p",{className:"text-white text-center text-[15px] leading-relaxed",children:R.caption})})})]},R.id)})}),W&&P>0&&!_&&u.jsxs(te.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:ee,className:"absolute bottom-20 left-1/2 -translate-x-1/2 z-30 bg-black/60 backdrop-blur-xl rounded-full px-5 py-2.5 flex items-center gap-2 hover:bg-black/70 active:scale-95 transition-all border border-white/10 shadow-lg",children:[u.jsx(Eh,{className:"w-[18px] h-[18px] text-white"}),u.jsxs("span",{className:"text-white font-medium text-[15px]",children:[P," ",P===1?"view":"views"]}),u.jsx(hA,{className:"w-4 h-4 text-white/60"})]}),!W&&!_&&u.jsxs("div",{className:"absolute bottom-20 right-4 z-30 flex flex-col gap-2",children:[u.jsx(te.button,{whileTap:{scale:.9},onClick:()=>rt("❤️"),className:"w-12 h-12 rounded-full bg-black/60 backdrop-blur-xl flex items-center justify-center hover:bg-black/70 active:scale-95 transition-all border border-white/10 shadow-lg",children:u.jsx("span",{className:"text-2xl",children:"❤️"})}),u.jsx(te.button,{whileTap:{scale:.9},onClick:()=>rt("😂"),className:"w-12 h-12 rounded-full bg-black/60 backdrop-blur-xl flex items-center justify-center hover:bg-black/70 active:scale-95 transition-all border border-white/10 shadow-lg",children:u.jsx("span",{className:"text-2xl",children:"😂"})}),u.jsx(te.button,{whileTap:{scale:.9},onClick:()=>rt("😮"),className:"w-12 h-12 rounded-full bg-black/60 backdrop-blur-xl flex items-center justify-center hover:bg-black/70 active:scale-95 transition-all border border-white/10 shadow-lg",children:u.jsx("span",{className:"text-2xl",children:"😮"})})]}),!W&&!_&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-30 pb-safe",children:u.jsx("div",{className:"px-4 py-3 bg-gradient-to-t from-black/70 via-black/50 to-transparent backdrop-blur-sm",children:u.jsxs("div",{className:"flex items-center gap-2 max-w-2xl mx-auto",children:[u.jsx("div",{className:"flex-1 relative",children:u.jsx(vr,{ref:K,value:b,onChange:pe=>S(pe.target.value),placeholder:"Send message",className:"bg-white/15 backdrop-blur-xl border-white/20 text-white placeholder:text-white/60 rounded-full h-12 px-5 pr-12 focus:bg-white/20 focus:border-white/30 transition-all shadow-lg text-[15px]",onKeyDown:pe=>{pe.key==="Enter"&&!pe.shiftKey&&(pe.preventDefault(),Y())},onFocus:()=>m(!0),onBlur:()=>m(!1)})}),b.trim()?u.jsx(te.button,{initial:{scale:0},animate:{scale:1},exit:{scale:0},whileTap:{scale:.9},onClick:Y,className:"w-12 h-12 rounded-full bg-primary hover:bg-primary/90 active:bg-primary/80 flex items-center justify-center transition-all shadow-lg flex-shrink-0",children:u.jsx(su,{className:"w-5 h-5 text-white"})}):u.jsx(te.button,{whileTap:{scale:.9},onClick:()=>rt("❤️"),className:"w-12 h-12 rounded-full bg-white/15 backdrop-blur-xl hover:bg-white/20 active:bg-white/25 flex items-center justify-center transition-all shadow-lg flex-shrink-0 border border-white/20",children:u.jsx(bA,{className:"w-5 h-5 text-white"})})]})})}),u.jsx(ma,{children:_&&W&&u.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 z-40 bg-black/95 backdrop-blur-md flex items-end",onClick:()=>{j(!1),m(!1)},children:u.jsxs(te.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:35,stiffness:400,mass:.8},className:"bg-surface w-full rounded-t-[28px] overflow-hidden max-h-[75vh] pb-safe shadow-2xl",onClick:pe=>pe.stopPropagation(),children:[u.jsx("div",{className:"w-full flex justify-center py-2 bg-surface border-b border-border/50",children:u.jsx("div",{className:"w-10 h-1 bg-muted-foreground/30 rounded-full"})}),u.jsx("div",{className:"px-5 py-4 border-b border-border/50 bg-surface",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Viewers"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:P===0?"No views yet":`${P} ${P===1?"view":"views"}`})]}),u.jsx("button",{onClick:()=>{j(!1),m(!1)},className:"w-10 h-10 rounded-full hover:bg-hover-surface active:bg-hover-muted flex items-center justify-center transition-colors",children:u.jsx(eo,{className:"w-5 h-5 text-foreground"})})]})}),u.jsx("div",{className:"overflow-y-auto max-h-[calc(75vh-120px)]",children:E.length>0?u.jsx("div",{className:"py-1",children:E.map((pe,Ke)=>u.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:Ke*.05},className:"flex items-center gap-3 px-5 py-3 hover:bg-hover-surface active:bg-hover-muted transition-colors",children:[u.jsx(ln,{user:pe.user,size:"md"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium text-[15px] text-foreground truncate",children:pe.user?.full_name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(pe.viewed_at).toLocaleString([],{hour:"2-digit",minute:"2-digit",month:"short",day:"numeric"})})]})]},pe.id))}):u.jsxs("div",{className:"py-16 text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-muted/50 flex items-center justify-center mx-auto mb-4",children:u.jsx(Eh,{className:"w-8 h-8 text-muted-foreground/50"})}),u.jsx("p",{className:"text-muted-foreground text-[15px]",children:"No views yet"}),u.jsx("p",{className:"text-muted-foreground/60 text-sm mt-1",children:"Check back later to see who viewed your story"})]})})]})})}),R.type!=="text"&&!D&&!B&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black z-10",children:u.jsx("div",{className:"relative",children:u.jsx("div",{className:"w-12 h-12 border-4 border-white/10 border-t-white rounded-full animate-spin"})})})]}):null}function c$({className:t,...e}){return u.jsx("textarea",{"data-slot":"textarea",className:Ze("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 aria-invalid:border-destructive flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const rh=["#0057FF","#00D4A6","#FF4D4F","#FFB020","#9333EA","#EC4899","#10B981","#3B82F6","#000000","#FFFFFF"];function u$({currentUser:t,onClose:e,onSuccess:n}){const[s,i]=w.useState("select"),[a,l]=w.useState([]),[d,p]=w.useState(""),[h,m]=w.useState(rh[0]),[g,x]=w.useState(""),[b,S]=w.useState(null),[_,j]=w.useState(null),[C,T]=w.useState(!1),E=w.useRef(null),N=B=>{const V=B.target.files;if(!V||V.length===0)return;const Z=[];for(let Q=0;Q<V.length;Q++){const re=V[Q];if(!re.type.startsWith("image/")&&!re.type.startsWith("video/")){me.error(`${re.name}: Invalid file type`);continue}if(re.size>50*1024*1024){me.error(`${re.name}: File too large (max 50MB)`);continue}Z.push(re)}if(Z.length!==0){if(Z.length===1)S(Z[0]),j(URL.createObjectURL(Z[0])),i("media");else{const Q=Z.map(re=>({id:`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:re.type.startsWith("image/")?"image":"video",file:re,preview_url:URL.createObjectURL(re)}));l(re=>[...re,...Q]),i("queue"),me.success(`${Z.length} ${Z.length===1?"story":"stories"} added to queue`)}B.target.value=""}},P=()=>{if(!d.trim()){me.error("Please enter some text");return}const B={id:`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:"text",text_content:d.trim(),background_color:h};l(V=>[...V,B]),p(""),m(rh[0]),i(a.length>0?"queue":"select"),me.success("Text story added to queue")},I=()=>{if(!b)return;const B={id:`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:b.type.startsWith("image/")?"image":"video",file:b,preview_url:_||void 0,caption:g.trim()||void 0};l(V=>[...V,B]),S(null),j(null),x(""),i("queue"),me.success("Story added to queue")},D=B=>{l(V=>V.filter(Z=>Z.id!==B)),a.length===1&&i("select")},F=async()=>{if(a.length===0){me.error("No stories to publish");return}T(!0);let B=0,V=0;try{for(const Z of a)try{if(Z.type==="text")(await sr.create("text",{text_content:Z.text_content,background_color:Z.background_color})).success?B++:V++;else{const Q=await Wc.uploadFile(Z.file,"attachment");if(!Q.success||!Q.data?.url){V++;continue}(await sr.create(Z.type,{media_url:Q.data.url,caption:Z.caption})).success?B++:V++}await new Promise(Q=>setTimeout(Q,300))}catch(Q){console.error("Error publishing story:",Q),V++}B>0&&V===0?(me.success(`${B} ${B===1?"story":"stories"} published successfully! 🎉`),n(),e()):B>0&&V>0?(me.warning(`${B} published, ${V} failed`),l(Z=>Z.slice(B))):me.error("Failed to publish stories. Please try again.")}catch(Z){console.error("Publish error:",Z),me.error("An error occurred while publishing")}finally{T(!1)}};return u.jsxs("div",{className:"fixed inset-0 z-50 bg-background",children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 bg-gradient-to-r from-primary to-accent shadow-lg",children:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[u.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full hover:bg-white/20 flex items-center justify-center transition-colors",disabled:C,children:u.jsx(eo,{className:"w-5 h-5 text-white"})}),u.jsx("h2",{className:"text-lg font-semibold text-white",children:s==="queue"?`${a.length} ${a.length===1?"Story":"Stories"}`:"Create Story"}),s==="queue"&&a.length>0?u.jsx(Be,{onClick:F,disabled:C,size:"sm",className:"bg-white text-primary hover:bg-white/90",children:C?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-primary/30 border-t-primary rounded-full animate-spin"}),u.jsx("span",{className:"hidden sm:inline",children:"Publishing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(su,{className:"w-4 h-4 mr-1"}),u.jsx("span",{children:"Publish All"})]})}):u.jsx("div",{className:"w-10"})]})}),u.jsx("div",{className:"pt-16 h-full flex flex-col overflow-hidden",children:u.jsxs(ma,{mode:"wait",children:[s==="select"&&u.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 flex items-center justify-center p-6",children:u.jsxs("div",{className:"w-full max-w-md space-y-4",children:[a.length>0&&u.jsxs(te.button,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},onClick:()=>i("queue"),className:"w-full h-20 rounded-2xl bg-primary/10 border-2 border-primary flex items-center justify-between px-6 hover:bg-primary/20 transition-all group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-primary flex items-center justify-center",children:u.jsx("span",{className:"text-white font-bold text-lg",children:a.length})}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-medium text-foreground",children:"Story Queue"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.length," ",a.length===1?"story":"stories"," ready"]})]})]}),u.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),u.jsxs(te.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},onClick:()=>i("text"),className:"w-full h-32 rounded-2xl bg-gradient-to-br from-primary to-accent flex flex-col items-center justify-center gap-3 hover:shadow-lg transition-all group",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center group-hover:scale-110 transition-transform",children:u.jsx(aR,{className:"w-8 h-8 text-white"})}),u.jsx("span",{className:"text-white font-medium",children:"Text Status"})]}),u.jsxs(te.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onClick:()=>E.current?.click(),className:"w-full h-32 rounded-2xl bg-surface border-2 border-dashed border-border flex flex-col items-center justify-center gap-3 hover:border-primary hover:bg-hover-primary transition-all group",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center group-hover:scale-110 transition-transform",children:u.jsx(_A,{className:"w-8 h-8 text-muted-foreground group-hover:text-primary"})}),u.jsx("span",{className:"text-foreground font-medium",children:"Photo or Video"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Select multiple files"})]}),u.jsx("input",{ref:E,type:"file",accept:"image/*,video/*",onChange:N,className:"hidden",multiple:!0})]})},"select"),s==="text"&&u.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex-1 flex flex-col",children:[u.jsx("div",{className:"flex-1 flex items-center justify-center p-8",style:{backgroundColor:h},children:u.jsx(c$,{value:d,onChange:B=>p(B.target.value),placeholder:"Type your status...",className:"max-w-lg bg-transparent border-none text-white text-2xl font-medium text-center placeholder:text-white/50 resize-none h-auto min-h-[200px] focus-visible:ring-0",autoFocus:!0,maxLength:250})}),u.jsxs("div",{className:"bg-surface border-t border-border p-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Background Color"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:rh.map(B=>u.jsx("button",{onClick:()=>m(B),className:"flex-shrink-0 w-10 h-10 rounded-full border-2 flex items-center justify-center transition-transform hover:scale-110",style:{backgroundColor:B,borderColor:h===B?"var(--primary)":"transparent"},children:h===B&&u.jsx(Qs,{className:"w-5 h-5",style:{color:B==="#FFFFFF"?"#000000":"#FFFFFF"}})},B))})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Be,{onClick:()=>{i(a.length>0?"queue":"select"),p("")},variant:"outline",className:"flex-1",children:"Cancel"}),u.jsxs(Be,{onClick:P,disabled:!d.trim(),className:"flex-1",size:"lg",children:[u.jsx(xa,{className:"w-4 h-4 mr-2"}),"Add to Queue"]})]})]})]},"text"),s==="media"&&_&&b&&u.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex-1 flex flex-col",children:[u.jsx("div",{className:"flex-1 bg-black flex items-center justify-center p-4 overflow-hidden",children:b.type.startsWith("image/")?u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsx(fi,{src:_,alt:"Preview",className:"max-w-full max-h-full object-contain",style:{display:"block",margin:"0 auto"}})}):u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsx("video",{src:_,className:"max-w-full max-h-full object-contain",style:{display:"block",margin:"0 auto"},controls:!0,autoPlay:!0,muted:!0,loop:!0,playsInline:!0})})}),u.jsxs("div",{className:"bg-surface border-t border-border p-4 space-y-4",children:[u.jsx(vr,{value:g,onChange:B=>x(B.target.value),placeholder:"Add a caption (optional)...",maxLength:100}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Be,{onClick:()=>{i(a.length>0?"queue":"select"),S(null),j(null),x("")},variant:"outline",className:"flex-1",children:"Cancel"}),u.jsxs(Be,{onClick:I,className:"flex-1",size:"lg",children:[u.jsx(xa,{className:"w-4 h-4 mr-2"}),"Add to Queue"]})]})]})]},"media"),s==="queue"&&u.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 flex flex-col",children:[u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:a.map((B,V)=>u.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{delay:V*.05},className:"bg-surface rounded-xl border border-border overflow-hidden group hover:border-primary/50 transition-colors",children:u.jsxs("div",{className:"flex items-center gap-3 p-3",children:[u.jsx("div",{className:"relative flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden bg-muted",children:B.type==="text"?u.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",style:{backgroundColor:B.background_color},children:u.jsx("p",{className:"text-white text-[8px] font-medium text-center leading-tight line-clamp-4",children:B.text_content})}):B.preview_url?u.jsxs(u.Fragment,{children:[u.jsx(fi,{src:B.preview_url,alt:"Preview",className:"w-full h-full object-cover"}),B.type==="video"&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:u.jsx("div",{className:"w-6 h-6 rounded-full bg-white/90 flex items-center justify-center",children:u.jsx("svg",{className:"w-3 h-3 text-black ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M8 5v14l11-7z"})})})})]}):null}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium text-sm truncate",children:B.type==="text"?"Text Status":B.type==="image"?"Photo":"Video"}),B.caption&&u.jsx("p",{className:"text-xs text-muted-foreground truncate",children:B.caption}),B.type==="text"&&B.text_content&&u.jsx("p",{className:"text-xs text-muted-foreground truncate",children:B.text_content})]}),u.jsx("button",{onClick:()=>D(B.id),disabled:C,className:"flex-shrink-0 w-9 h-9 rounded-full bg-destructive/10 hover:bg-destructive hover:text-white text-destructive flex items-center justify-center transition-all opacity-0 group-hover:opacity-100",children:u.jsx(si,{className:"w-4 h-4"})})]})},B.id))}),u.jsx("div",{className:"border-t border-border p-4 bg-surface",children:u.jsxs(Be,{onClick:()=>i("select"),variant:"outline",className:"w-full",disabled:C,children:[u.jsx(xa,{className:"w-4 h-4 mr-2"}),"Add More Stories"]})})]},"queue")]})})]})}var d$="Separator",nw="horizontal",f$=["horizontal","vertical"],$k=w.forwardRef((t,e)=>{const{decorative:n,orientation:s=nw,...i}=t,a=h$(s)?s:nw,d=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return u.jsx(qe.div,{"data-orientation":a,...d,...i,ref:e})});$k.displayName=d$;function h$(t){return f$.includes(t)}var p$=$k;function m$({className:t,orientation:e="horizontal",decorative:n=!0,...s}){return u.jsx(p$,{"data-slot":"separator-root",decorative:n,orientation:e,className:Ze("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...s})}function g$({user:t,currentUser:e,onBack:n,onSendMessage:s,onInitiateCall:i,onBlock:a,onUnblock:l,onDelete:d,isBlocked:p=!1,lastSeen:h}){const m=t.is_online,g=m?"online":h||"offline";return u.jsxs("div",{className:"h-screen flex flex-col bg-background overflow-hidden",children:[u.jsxs(te.div,{className:"bg-surface border-b border-border px-4 py-3 flex items-center gap-4 shadow-sm shrink-0",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:[u.jsx(Be,{variant:"ghost",size:"icon",onClick:n,className:"h-10 w-10 rounded-full hover:bg-[var(--hover-surface)] shrink-0 transition-colors","aria-label":"Back",children:u.jsx(nu,{className:"w-5 h-5"})}),u.jsx("div",{className:"flex-1",children:u.jsx("h2",{className:"truncate",children:"Contact Info"})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:[u.jsxs(te.div,{className:"bg-surface pb-6 flex flex-col items-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.1},children:[u.jsx("div",{className:"w-full bg-background/50 flex items-center justify-center py-12 mb-6",children:u.jsxs("div",{className:"relative group cursor-pointer",children:[u.jsxs("div",{className:"relative w-[280px] h-[280px] sm:w-[320px] sm:h-[320px] rounded-full overflow-hidden shadow-2xl ring-1 ring-border/20 transition-all duration-300 group-hover:shadow-3xl group-hover:scale-[1.02]",children:[t.avatar_url?u.jsx("img",{src:t.avatar_url,alt:t.full_name,className:"w-full h-full object-cover object-center",style:{imageRendering:"auto",WebkitFontSmoothing:"antialiased"}}):u.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary to-accent",children:u.jsx("span",{className:"text-8xl font-semibold text-white select-none",children:t.full_name.split(" ").map(x=>x[0]).join("").substring(0,2).toUpperCase()})}),m&&u.jsx("div",{className:"absolute bottom-6 right-6 w-12 h-12 bg-success rounded-full border-[5px] border-surface shadow-xl"})]}),u.jsx("div",{className:"absolute inset-0 rounded-full bg-black/0 group-hover:bg-black/5 transition-all duration-300 pointer-events-none"})]})}),u.jsx("h1",{className:"text-2xl font-medium mb-1 text-center px-4",children:t.full_name}),u.jsx("p",{className:"text-base text-muted-foreground mb-1",children:t.phone_number?Jx(t.phone_number):"No phone number"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:g})]}),u.jsxs(te.div,{className:"bg-background px-6 py-6 flex justify-center gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:[s&&u.jsxs(te.button,{onClick:s,className:"flex flex-col items-center gap-2 group",whileTap:{scale:.95},children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-primary/10 flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:u.jsx(Ba,{className:"w-6 h-6 text-primary"})}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Message"})]}),i&&u.jsxs(u.Fragment,{children:[u.jsxs(te.button,{onClick:()=>i("voice"),className:"flex flex-col items-center gap-2 group",whileTap:{scale:.95},children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-success/10 flex items-center justify-center group-hover:bg-success/20 transition-colors",children:u.jsx(xr,{className:"w-6 h-6 text-success"})}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Audio"})]}),u.jsxs(te.button,{onClick:()=>i("video"),className:"flex flex-col items-center gap-2 group",whileTap:{scale:.95},children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-info/10 flex items-center justify-center group-hover:bg-info/20 transition-colors",children:u.jsx(oi,{className:"w-6 h-6 text-info"})}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Video"})]})]})]}),u.jsxs(te.div,{className:"bg-surface mt-2 px-4 py-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.3},children:[u.jsx("h3",{className:"text-sm text-primary mb-2",children:"About"}),u.jsx("p",{className:"text-base text-foreground mb-1",children:t.status||t.status_message||t.bio||"Hey there! I am using AuroraLink."}),t.status_updated_at&&u.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(t.status_updated_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),t.phone_number&&u.jsxs(te.div,{className:"bg-surface mt-2 px-4 py-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.35},children:[u.jsx("h3",{className:"text-sm text-primary mb-2",children:"Phone"}),u.jsx("p",{className:"text-base text-foreground mb-1",children:Jx(t.phone_number)}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Mobile"})]}),t.email&&u.jsxs(te.div,{className:"bg-surface mt-2 px-4 py-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.4},children:[u.jsx("h3",{className:"text-sm text-primary mb-2",children:"Email"}),u.jsx("p",{className:"text-base text-foreground",children:t.email})]}),t.username&&t.username!==t.email?.split("@")[0]&&u.jsxs(te.div,{className:"bg-surface mt-2 px-4 py-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.45},children:[u.jsx("h3",{className:"text-sm text-primary mb-2",children:"Username"}),u.jsxs("p",{className:"text-base text-foreground",children:["@",t.username]})]}),u.jsx("div",{className:"h-4"}),u.jsxs(te.div,{className:"bg-surface mt-2",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.5},children:[p?l&&u.jsxs("button",{onClick:l,className:"w-full px-4 py-3.5 flex items-center gap-3 hover:bg-[var(--hover-surface)] transition-colors text-left",children:[u.jsx(uR,{className:"w-5 h-5 text-warning"}),u.jsx("span",{className:"text-base text-warning",children:"Unblock Contact"})]}):a&&u.jsxs("button",{onClick:a,className:"w-full px-4 py-3.5 flex items-center gap-3 hover:bg-[var(--hover-surface)] transition-colors text-left",children:[u.jsx(rA,{className:"w-5 h-5 text-destructive"}),u.jsx("span",{className:"text-base text-destructive",children:"Block Contact"})]}),a&&d&&u.jsx(m$,{}),d&&u.jsxs("button",{onClick:d,className:"w-full px-4 py-3.5 flex items-center gap-3 hover:bg-[var(--hover-surface)] transition-colors text-left",children:[u.jsx(si,{className:"w-5 h-5 text-destructive"}),u.jsx("span",{className:"text-base text-destructive",children:"Delete Chat"})]})]}),u.jsx("div",{className:"h-8"})]})]})}function v$({caller:t,callType:e,onAccept:n,onReject:s}){return u.jsx(te.div,{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:u.jsxs(te.div,{className:"bg-surface rounded-3xl p-8 max-w-md w-full shadow-2xl border border-border",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},children:[u.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[u.jsxs(te.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"relative mb-6",children:[u.jsx(ln,{src:t.avatar_url,alt:t.full_name,fallbackText:t.full_name,size:"2xl",className:"shadow-xl"}),u.jsx(te.div,{className:"absolute inset-0 rounded-full border-4 border-primary",animate:{scale:[1,1.3,1],opacity:[.8,0,.8]},transition:{duration:2,repeat:1/0,ease:"easeOut"}})]}),u.jsx("h2",{className:"text-2xl mb-2",children:t.full_name}),u.jsx("div",{className:"flex items-center gap-2 text-muted-foreground",children:e==="video"?u.jsxs(u.Fragment,{children:[u.jsx(oi,{className:"w-4 h-4"}),u.jsx("span",{children:"Incoming video call..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(xr,{className:"w-4 h-4"}),u.jsx("span",{children:"Incoming call..."})]})}),u.jsx(te.div,{className:"flex gap-2 mt-6",initial:{opacity:0},animate:{opacity:1},children:[0,1,2].map(i=>u.jsx(te.div,{className:"w-2 h-2 rounded-full bg-primary",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:i*.2}},i))})]}),u.jsxs("div",{className:"flex items-center justify-center gap-6",children:[u.jsx(te.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:u.jsx(Be,{variant:"destructive",size:"icon",onClick:s,className:"h-16 w-16 rounded-full shadow-lg bg-red-500 hover:bg-red-600","aria-label":"Reject call",children:u.jsx(Nh,{className:"w-7 h-7"})})}),u.jsx(te.div,{whileHover:{scale:1.1},whileTap:{scale:.95},animate:{scale:[1,1.05,1]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},children:u.jsx(Be,{size:"icon",onClick:n,className:"h-20 w-20 rounded-full shadow-xl bg-gradient-to-br from-success to-accent hover:from-success/90 hover:to-accent/90","aria-label":"Accept call",children:e==="video"?u.jsx(oi,{className:"w-8 h-8"}):u.jsx(xr,{className:"w-8 h-8"})})})]})]})})}function y$({open:t,callType:e,onGrantPermissions:n,onCancel:s}){return u.jsx(Cm,{open:t,children:u.jsxs(Em,{children:[u.jsxs(Nm,{children:[u.jsxs(Pm,{className:"flex items-center gap-2",children:[e==="video"?u.jsx(oi,{className:"w-5 h-5 text-primary"}):u.jsx(Zs,{className:"w-5 h-5 text-primary"}),"Permission Required"]}),u.jsxs(Am,{className:"space-y-3",children:[u.jsxs("p",{children:["To make ",e==="video"?"video":"voice"," calls, AuroraLink needs access to your:"]}),u.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx(Zs,{className:"w-4 h-4"}),u.jsx("span",{children:"Microphone"})]}),e==="video"&&u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx(Bb,{className:"w-4 h-4"}),u.jsx("span",{children:"Camera"})]})]}),u.jsx("p",{className:"text-sm",children:'Your browser will ask you to grant these permissions. Please click "Allow" when prompted.'})]})]}),u.jsxs(Tm,{children:[u.jsx(Ak,{onClick:s,children:"Cancel"}),u.jsx(Rm,{onClick:n,children:"Grant Permissions"})]})]})})}function x$(){const[t,e]=w.useState(!0),[n,s]=w.useState("onboarding"),[i,a]=w.useState(null),[l,d]=w.useState(null),[p,h]=w.useState(!0);w.useEffect(()=>(window.clearAuroraSession=async()=>{console.log("[Manual Clear] Clearing session..."),await vn().auth.signOut(),localStorage.clear(),console.log("[Manual Clear] ✅ Session cleared! Reloading page..."),window.location.reload()},()=>{delete window.clearAuroraSession}),[]);const[m,g]=w.useState([]),[x,b]=w.useState(0),[S,_]=w.useState(0),[j,C]=w.useState(null),[T,E]=w.useState(""),[N,P]=w.useState(null),[I,D]=w.useState(null),[F,B]=w.useState(null),[V,Z]=w.useState(null),[Q,re]=w.useState(null),[fe,ve]=w.useState(null),[K,X]=w.useState(!1),[R,W]=w.useState(null),[J,L]=w.useState(null),O=w.useRef(null);w.useRef(null);const H=w.useRef(null);w.useEffect(()=>{let oe;return(async()=>{try{const Le=vn(),{data:{session:Je},error:st}=await Le.auth.getSession();if(Je&&!st){if(!Je.access_token.startsWith("eyJ")){console.error("[Startup] 🚨 Invalid token format detected - clearing immediately"),await Le.auth.signOut(),localStorage.clear();return}const{error:Fe}=await Le.auth.refreshSession();Fe&&(Fe.message.includes("Invalid Refresh Token")||Fe.message.includes("Auth session missing")||Fe.message.includes("invalid_grant")||Fe.name==="AuthSessionMissingError")&&(console.error("[Startup] 🚨 Invalid session detected - clearing immediately"),console.error("[Startup] Error:",Fe.message),await Le.auth.signOut(),localStorage.clear(),me.error("Session Invalid",{description:"Your previous session was invalid and has been cleared. Please log in.",duration:5e3}))}}catch(Le){console.error("[Startup] Error validating session:",Le)}})().then(()=>{oe=setTimeout(()=>{e(!1),Y()},2500)}),()=>{oe&&clearTimeout(oe)}},[]),w.useEffect(()=>{if(i&&n==="home"){const oe=async()=>{try{const Le=vn(),{data:{session:Je},error:st}=await Le.auth.getSession();if(st||!Je){console.error("[Session Health] Session lost, logging out..."),me.error("Session expired",{description:"Please log in again to continue."}),await ee();return}if(!Je.access_token||!Je.access_token.startsWith("eyJ")){console.error("[Session Health] Invalid token format, logging out..."),await ee();return}if(Je.expires_at){const qt=Je.expires_at*1e3,Yt=Date.now(),Bt=qt-Yt;if(Bt<0){console.warn("[Session Health] Token expired, refreshing...");const{data:{session:nt},error:Xe}=await Le.auth.refreshSession();Xe||!nt?(console.error("[Session Health] Refresh failed, logging out..."),me.error("Session expired",{description:"Please log in again to continue."}),await ee()):console.log("[Session Health] ✅ Session refreshed successfully")}else if(Bt<3e5){console.log("[Session Health] Token expiring soon, refreshing proactively...");const{data:{session:nt},error:Xe}=await Le.auth.refreshSession();!Xe&&nt?console.log("[Session Health] ✅ Session proactively refreshed"):console.warn("[Session Health] Proactive refresh failed, will retry later")}}const{error:Fe}=await Le.auth.getUser();if(Fe)if(console.error("[Session Health] Token validation failed:",Fe.message),console.error("[Session Health] Error name:",Fe.name),Fe.name==="AuthSessionMissingError"||Fe.message.includes("Auth session missing"))console.error("[Session Health] CRITICAL: Auth session missing error detected"),console.error("[Session Health] This means the token is from a different project or corrupted"),me.error("Session Invalid",{description:"Your authentication session is invalid. You will be logged out.",duration:5e3}),await new Promise(qt=>setTimeout(qt,2e3)),await ee();else{console.warn("[Session Health] Attempting one-time session refresh...");const{error:qt}=await Le.auth.refreshSession();qt?(console.error("[Session Health] Refresh failed, logging out"),me.error("Session Error",{description:"Could not refresh your session. Please log in again."}),await new Promise(Yt=>setTimeout(Yt,1e3)),await ee()):console.log("[Session Health] ✅ Session refreshed successfully")}}catch(Le){console.error("[Session Health] Error checking session:",Le)}};oe();const Pe=setInterval(oe,3e4);return()=>{clearInterval(Pe)}}},[i,n]),w.useEffect(()=>{if(i&&n==="home"){(async()=>{try{const Le=vn(),{data:{session:Je}}=await Le.auth.getSession();if(Je?.access_token){const st=await xc.updateStatus(!0);st.success||console.error("[Presence] Failed to update status:",st.error)}else console.warn("[Presence] No valid session, skipping presence update")}catch(Le){console.error("[Presence] Error updating presence:",Le)}})();const Pe=async()=>{try{const Le=vn(),{data:{session:Je}}=await Le.auth.getSession();Je?.access_token&&(document.hidden?await xc.updateStatus(!1):await xc.updateStatus(!0))}catch(Le){console.error("[Presence] Error in visibility change:",Le)}};return document.addEventListener("visibilitychange",Pe),()=>{document.removeEventListener("visibilitychange",Pe),(async()=>{try{const Je=vn(),{data:{session:st}}=await Je.auth.getSession();st?.access_token&&await xc.updateStatus(!1)}catch(Je){console.error("[Presence] Error updating offline status:",Je)}})()}}},[i,n]);const Y=async()=>{h(!0);try{const oe=vn();console.log("[Auth] ========== CHECKING AUTH ==========");let{data:{session:Pe},error:Le}=await oe.auth.getSession();if(Le){console.error("[Auth] ❌ Session error:",Le),await oe.auth.signOut(),localStorage.clear(),h(!1);return}if(!Pe){console.log("[Auth] ℹ️  No session found - user needs to log in"),h(!1);return}if(!Pe.access_token||!Pe.user){console.error("[Auth] ❌ Invalid session - missing token or user"),await oe.auth.signOut(),localStorage.clear(),h(!1);return}if(!Pe.access_token.startsWith("eyJ")){console.error("[Auth] ❌ Invalid token format - not a JWT"),console.error("[Auth] 🚨 This session is corrupted or from a different project"),await oe.auth.signOut(),localStorage.clear(),h(!1);return}console.log("[Auth] Attempting to refresh session...");const{data:Je,error:st}=await oe.auth.refreshSession();if(st){if(console.error("[Auth] ❌ Session refresh failed:",st.message),console.error("[Auth] Error name:",st.name),st.message.includes("Invalid Refresh Token")||st.message.includes("Auth session missing")||st.message.includes("invalid_grant")||st.message.includes("refresh_token_not_found")||st.name==="AuthSessionMissingError"){console.error("[Auth] 🚨 CRITICAL: Session is completely invalid or from different project"),console.error("[Auth] Clearing all session data and forcing fresh login..."),me.error("Session Invalid",{description:"Your session is invalid. Please log in again.",duration:5e3}),await oe.auth.signOut(),localStorage.clear(),h(!1),s("auth");return}console.warn("[Auth] ⚠️  Refresh failed but will try to use existing session")}else Je.session&&(console.log("[Auth] ✅ Session refreshed successfully"),Pe=Je.session);if(console.log("[Auth] ✅ Session found:",{user_id:Pe.user?.id,email:Pe.user?.email,has_access_token:!!Pe.access_token,token_format_valid:Pe.access_token?.startsWith("eyJ"),expires_at:Pe.expires_at?new Date(Pe.expires_at*1e3).toLocaleString():"N/A"}),Pe.expires_at){const Xe=Pe.expires_at*1e3,Ot=Date.now(),Ut=Math.floor((Xe-Ot)/1e3);if(console.log(`[Auth] Token expires in ${Ut} seconds`),Ut<300){console.warn("[Auth] ⚠️  Session expiring soon, refreshing...");const{data:It,error:An}=await oe.auth.refreshSession();if(An||!It.session){console.error("[Auth] ❌ Failed to refresh session:",An),console.error("[Auth] User should log out and log back in"),me.error("Session Expired",{description:"Please log out and log back in to continue."}),h(!1);return}else{console.log("[Auth] ✅ Session refreshed successfully");const{data:{session:Ae}}=await oe.auth.getSession();Ae&&console.log("[Auth] Using refreshed session")}}}console.log("[Auth] Validating user token...");const{data:{user:Fe},error:qt}=await oe.auth.getUser();if(qt){console.error("[Auth] ❌ Failed to validate user:",qt),console.error("[Auth] This usually means the token is invalid or expired"),me.error("Authentication Error",{description:"Please log out and log back in."}),h(!1);return}if(!Fe){console.error("[Auth] ❌ No user found despite having session"),h(!1);return}console.log("[Auth] ✅ User validated:",Fe.email);const{data:{session:Yt}}=await oe.auth.getSession(),Bt=Yt?.access_token;if(!Bt){console.error("[Auth] ❌ No access token available after validation"),h(!1);return}if(!Bt.startsWith("eyJ")){console.error("[Auth] ❌ Invalid token format - not a JWT!"),console.error("[Auth] Token preview:",Bt.substring(0,20)),h(!1);return}console.log("[Auth] ✅ Access token validated (JWT format correct)"),console.log("[Auth] Token length:",Bt.length);try{console.log("[Auth] 📡 Fetching user profile from backend...");const Xe=await fetch(`https://${Ra}.supabase.co/functions/v1/make-server-29f6739b/profile/${Fe.id}`,{headers:{Authorization:`Bearer ${Bt}`}});if(console.log("[Auth] Backend response status:",Xe.status),Xe.ok){const Ot=await Xe.json();if(Ot.user){console.log("[Auth] ✅ Successfully loaded user profile from backend"),a(Ot.user),s("home"),h(!1);return}else console.warn("[Auth] ⚠️  Response OK but no user data in response")}else{const Ot=await Xe.text();if(console.error("[Auth] ❌ Backend returned error, status:",Xe.status),console.error("[Auth] Error response:",Ot),Xe.status===401){console.warn("[Auth] ⚠️  Backend authentication failed (401)"),console.warn("[Auth] This usually means the JWT token is invalid or from a different project"),console.log("[Auth] Attempting session refresh...");const{data:Ut,error:It}=await oe.auth.refreshSession();if(!It&&Ut.session?.access_token){console.log("[Auth] ✅ Session refreshed, retrying profile fetch...");const An=await fetch(`https://${Ra}.supabase.co/functions/v1/make-server-29f6739b/profile/${Fe.id}`,{headers:{Authorization:`Bearer ${Ut.session.access_token}`}});if(An.ok){const Ae=await An.json();if(Ae.user){console.log("[Auth] ✅ Successfully loaded user profile after refresh"),a(Ae.user),s("home"),h(!1);return}}else console.error("[Auth] ❌ Retry also failed with status:",An.status)}else console.error("[Auth] ❌ Session refresh failed:",It);console.error("[Auth] ❌ All authentication attempts failed"),console.error("[Auth] Clearing corrupted session and showing error..."),await oe.auth.signOut(),localStorage.clear(),me.error("Authentication Error",{description:"Your session could not be validated. Please log in again.",duration:5e3}),h(!1),s("auth");return}}}catch(Xe){console.error("[Auth] ❌ Network error fetching profile:",Xe),me.error("Connection Error",{description:"Could not connect to the server. Please check your internet connection.",duration:5e3})}console.log("[Auth] ⚠️  Using fallback - creating user from auth metadata");const nt={id:Fe.id,full_name:Fe.user_metadata?.full_name||"User",username:Fe.email?.split("@")[0]||"user",email:Fe.email,phone_number:Fe.user_metadata?.phone_number,is_online:!0};console.log("[Auth] Created fallback user:",nt),a(nt),s("home")}catch(oe){console.error("[Auth] ❌ Unexpected error in checkAuth:",oe),oe instanceof Error&&(console.error("[Auth] Error message:",oe.message),console.error("[Auth] Error stack:",oe.stack))}finally{console.log("[Auth] ========== AUTH CHECK COMPLETE =========="),h(!1)}},q=()=>{s("auth")},le=async()=>{console.log("[App] ========== AUTH SUCCESS HANDLER =========="),console.log("[App] Auth success callback triggered");const oe=vn(),Pe=Date.now(),Le=1e4;let Je=null,st=0;for(;!Je&&Date.now()-Pe<Le;){st++,console.log(`[App] 🔄 Attempt ${st} to get and validate session...`);const{data:{session:Fe},error:qt}=await oe.auth.getSession();if(qt){console.error("[App] Session error:",qt),await new Promise(nt=>setTimeout(nt,500));continue}if(!Fe){console.warn("[App] No session found, waiting 500ms..."),await new Promise(nt=>setTimeout(nt,500));continue}if(!Fe.access_token||!Fe.user){console.warn("[App] Session incomplete (no token or user), waiting..."),await new Promise(nt=>setTimeout(nt,500));continue}if(!Fe.access_token.startsWith("eyJ")){console.error("[App] ❌ Invalid token format - not a JWT!"),console.error("[App] Token preview:",Fe.access_token.substring(0,50)),await new Promise(nt=>setTimeout(nt,500));continue}if(Fe.expires_at){const nt=Fe.expires_at*1e3,Xe=Date.now();if(nt<=Xe){console.warn("[App] Token is expired, refreshing...");const{data:Ot,error:Ut}=await oe.auth.refreshSession();if(!Ut&&Ot.session){console.log("[App] ✅ Session refreshed"),await new Promise(It=>setTimeout(It,300));continue}else{console.error("[App] Failed to refresh session:",Ut),await new Promise(It=>setTimeout(It,500));continue}}}console.log("[App] Validating token with getUser()...");const{data:{user:Yt},error:Bt}=await oe.auth.getUser();if(Bt){console.error("[App] Token validation failed:",Bt.message),console.warn("[App] Attempting to refresh session...");const{data:nt,error:Xe}=await oe.auth.refreshSession();if(!Xe&&nt.session){console.log("[App] ✅ Session refreshed after validation failure"),await new Promise(Ot=>setTimeout(Ot,300));continue}else{console.error("[App] Failed to refresh after validation failure:",Xe),await new Promise(Ot=>setTimeout(Ot,500));continue}}if(!Yt){console.error("[App] No user returned from getUser()"),await new Promise(nt=>setTimeout(nt,500));continue}Je=Fe,console.log(`[App] ✅ Valid session obtained after ${st} attempts`),console.log("[App] Session details:",{user_id:Yt.id,email:Yt.email,token_length:Fe.access_token.length,expires_at:new Date(Fe.expires_at*1e3).toLocaleString()})}if(!Je){console.error("[App] ❌ Failed to obtain valid session after timeout"),console.error("[App] User needs to try logging in again"),me.error("Session Error",{description:"Could not establish session. Please try logging in again."});return}console.log("[App] Proceeding to load user data..."),await Y()},ee=async()=>{await vn().auth.signOut(),localStorage.clear(),a(null),s("auth"),d(null),D(null),Z(null),console.log("[Logout] User logged out, storage cleared")},de=oe=>{d(oe),s("conversation")},ke=()=>{s("group-create")},ze=()=>{s("settings")},rt=()=>{d(null),s("home")},pe=oe=>{d(oe),s("conversation")},Ke=oe=>{a(oe)},yt=(oe,Pe)=>{g(oe),b(Pe),s("story-view")},Pn=()=>{s("story-create")},Ft=async()=>{s("home"),await new Promise(oe=>setTimeout(oe,300)),_(oe=>oe+1)},Gt=()=>{s("home"),_(oe=>oe+1)},xn=(oe,Pe)=>{C(oe),E(Pe||""),P(l),s("profile-view")},Vt=()=>{s(N?"conversation":"home")},Hn=async oe=>{(await bx.block(oe)).success?(me.success("User blocked"),i&&a({...i,blocked_users:[...i.blocked_users||[],oe]})):me.error("Failed to block user")},ae=async oe=>{(await bx.unblock(oe)).success?(me.success("User unblocked"),i&&a({...i,blocked_users:(i.blocked_users||[]).filter(Le=>Le!==oe)})):me.error("Failed to unblock user")},be=async oe=>{(await ci.delete(oe)).success?(me.success("Chat deleted"),s("home"),d(null),P(null),_(Le=>Le+1)):me.error("Failed to delete chat")};w.useEffect(()=>{},[i,n,V,I]);const Me=async(oe,Pe)=>{me.info("Coming Soon! 🚀",{description:`${Pe==="video"?"Video":"Voice"} calling feature will be available soon. Stay tuned!`})},We=async()=>{},xt=()=>{},Ge=async()=>{Z(null),me.info("Coming Soon! 🚀",{description:"Voice and video calling will be available soon. Stay tuned!"})},et=async()=>{V&&(console.log("[Call] Rejecting call:",V.id),await Sx.reject(V.id),Z(null),me("Call declined"))},Ue=async()=>{console.log("[Call] Ending call"),I&&await Sx.end(I.id),H.current&&(clearInterval(H.current),H.current=null),O.current&&(O.current.cleanup(),O.current=null),D(null),B(null),re(null),ve(null),s("home"),me("Call ended")};return t?u.jsx(bR,{onComplete:()=>e(!1)}):p?u.jsxs("div",{className:"h-screen w-full flex items-center justify-center bg-gradient-to-br from-background via-surface to-muted relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 opacity-20",children:[u.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-primary/30 rounded-full blur-3xl animate-pulse"}),u.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-accent/30 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),u.jsxs("div",{className:"relative flex flex-col items-center gap-6 z-10",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-primary to-accent shadow-2xl shadow-primary/30 flex items-center justify-center animate-pulse",children:u.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),u.jsx("div",{className:"absolute inset-0 animate-spin",style:{animationDuration:"3s"},children:u.jsx("div",{className:"w-full h-full rounded-2xl border-4 border-transparent border-t-primary border-r-accent"})})]}),u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h2",{className:"text-xl font-semibold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"AuroraLink"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Loading your messages..."})]}),u.jsx("div",{className:"flex gap-2",children:[0,1,2].map(oe=>u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse",style:{animationDelay:`${oe*.2}s`}},oe))})]})]}):u.jsxs("div",{className:"min-h-screen-safe bg-background text-foreground overflow-x-hidden w-full max-w-full touch-manipulation no-overscroll",children:[n==="onboarding"&&u.jsx(l5,{onComplete:q}),n==="auth"&&u.jsx(jD,{onAuthSuccess:le}),n==="home"&&i&&u.jsx(VD,{currentUser:i,onSelectConversation:de,onNewChat:ke,onSettings:ze,onLogout:ee,onViewStory:yt,onCreateStory:Pn},S),n==="conversation"&&i&&l&&u.jsx(Y6,{conversationId:l,currentUser:i,onBack:rt,onInitiateCall:Me,onViewProfile:xn,onDeleteChat:()=>be(l)}),n==="group-create"&&i&&u.jsx(Q6,{currentUser:i,onBack:rt,onConversationCreated:pe}),n==="settings"&&i&&u.jsx(i$,{currentUser:i,onBack:rt,onUserUpdate:Ke}),n==="story-view"&&i&&m.length>0&&u.jsx(l$,{userStoriesList:m,initialUserIndex:x,currentUser:i,onClose:Ft,onRefresh:Ft}),n==="story-create"&&i&&u.jsx(u$,{currentUser:i,onClose:rt,onSuccess:Gt}),n==="profile-view"&&i&&j&&u.jsx(g$,{user:j,currentUser:i,onBack:Vt,onSendMessage:()=>{N&&s("conversation")},onInitiateCall:oe=>Me(j,oe),onBlock:()=>Hn(j.id),onUnblock:()=>ae(j.id),onDelete:N?()=>be(N):void 0,isBlocked:i.blocked_users?.includes(j.id),lastSeen:T}),n==="call"&&i&&I&&F&&O.current&&u.jsx(a$,{callType:I.call_type,recipientUser:F,currentUser:i,isInitiator:I.caller_id===i.id,onEndCall:Ue,onCallConnected:()=>console.log("[Call] Connected"),onCallFailed:oe=>{console.error("[Call] Failed:",oe),me.error("Call failed",{description:oe}),Ue()},peerConnection:O.current.getPeerConnection(),localStream:Q,remoteStream:fe}),V&&V.caller&&u.jsx(v$,{caller:V.caller,callType:V.call_type,onAccept:Ge,onReject:et}),K&&R&&u.jsx(y$,{open:K,callType:R,onGrantPermissions:We,onCancel:xt}),u.jsx(p2,{})]})}FC.createRoot(document.getElementById("root")).render(u.jsx(x$,{}));
