function dw(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function lp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fw(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),n}var pf={exports:{}},oa={},mf={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function nE(){if(gy)return We;gy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(L){return L===null||typeof L!="object"?null:(L=g&&L[g]||L["@@iterator"],typeof L=="function"?L:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function C(L,O,G){this.props=L,this.context=O,this.refs=_,this.updater=G||b}C.prototype.isReactComponent={},C.prototype.setState=function(L,O){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,O,"setState")},C.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function j(){}j.prototype=C.prototype;function T(L,O,G){this.props=L,this.context=O,this.refs=_,this.updater=G||b}var E=T.prototype=new j;E.constructor=T,S(E,C.prototype),E.isPureReactComponent=!0;var N=Array.isArray,P=Object.prototype.hasOwnProperty,I={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function M(L,O,G){var q,Y={},ae=null,te=null;if(O!=null)for(q in O.ref!==void 0&&(te=O.ref),O.key!==void 0&&(ae=""+O.key),O)P.call(O,q)&&!$.hasOwnProperty(q)&&(Y[q]=O[q]);var ue=arguments.length-2;if(ue===1)Y.children=G;else if(1<ue){for(var _e=Array(ue),Ke=0;Ke<ue;Ke++)_e[Ke]=arguments[Ke+2];Y.children=_e}if(L&&L.defaultProps)for(q in ue=L.defaultProps,ue)Y[q]===void 0&&(Y[q]=ue[q]);return{$$typeof:t,type:L,key:ae,ref:te,props:Y,_owner:I.current}}function V(L,O){return{$$typeof:t,type:L.type,key:O,ref:L.ref,props:L.props,_owner:L._owner}}function H(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function Q(L){var O={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(G){return O[G]})}var Z=/\/+/g;function ie(L,O){return typeof L=="object"&&L!==null&&L.key!=null?Q(""+L.key):O.toString(36)}function he(L,O,G,q,Y){var ae=typeof L;(ae==="undefined"||ae==="boolean")&&(L=null);var te=!1;if(L===null)te=!0;else switch(ae){case"string":case"number":te=!0;break;case"object":switch(L.$$typeof){case t:case e:te=!0}}if(te)return te=L,Y=Y(te),L=q===""?"."+ie(te,0):q,N(Y)?(G="",L!=null&&(G=L.replace(Z,"$&/")+"/"),he(Y,O,G,"",function(Ke){return Ke})):Y!=null&&(H(Y)&&(Y=V(Y,G+(!Y.key||te&&te.key===Y.key?"":(""+Y.key).replace(Z,"$&/")+"/")+L)),O.push(Y)),1;if(te=0,q=q===""?".":q+":",N(L))for(var ue=0;ue<L.length;ue++){ae=L[ue];var _e=q+ie(ae,ue);te+=he(ae,O,G,_e,Y)}else if(_e=y(L),typeof _e=="function")for(L=_e.call(L),ue=0;!(ae=L.next()).done;)ae=ae.value,_e=q+ie(ae,ue++),te+=he(ae,O,G,_e,Y);else if(ae==="object")throw O=String(L),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return te}function be(L,O,G){if(L==null)return L;var q=[],Y=0;return he(L,q,"","",function(ae){return O.call(G,ae,Y++)}),q}function z(L){if(L._status===-1){var O=L._result;O=O(),O.then(function(G){(L._status===0||L._status===-1)&&(L._status=1,L._result=G)},function(G){(L._status===0||L._status===-1)&&(L._status=2,L._result=G)}),L._status===-1&&(L._status=0,L._result=O)}if(L._status===1)return L._result.default;throw L._result}var J={current:null},R={transition:null},W={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:R,ReactCurrentOwner:I};function X(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:be,forEach:function(L,O,G){be(L,function(){O.apply(this,arguments)},G)},count:function(L){var O=0;return be(L,function(){O++}),O},toArray:function(L){return be(L,function(O){return O})||[]},only:function(L){if(!H(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},We.Component=C,We.Fragment=n,We.Profiler=i,We.PureComponent=T,We.StrictMode=s,We.Suspense=p,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,We.act=X,We.cloneElement=function(L,O,G){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var q=S({},L.props),Y=L.key,ae=L.ref,te=L._owner;if(O!=null){if(O.ref!==void 0&&(ae=O.ref,te=I.current),O.key!==void 0&&(Y=""+O.key),L.type&&L.type.defaultProps)var ue=L.type.defaultProps;for(_e in O)P.call(O,_e)&&!$.hasOwnProperty(_e)&&(q[_e]=O[_e]===void 0&&ue!==void 0?ue[_e]:O[_e])}var _e=arguments.length-2;if(_e===1)q.children=G;else if(1<_e){ue=Array(_e);for(var Ke=0;Ke<_e;Ke++)ue[Ke]=arguments[Ke+2];q.children=ue}return{$$typeof:t,type:L.type,key:Y,ref:ae,props:q,_owner:te}},We.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},We.createElement=M,We.createFactory=function(L){var O=M.bind(null,L);return O.type=L,O},We.createRef=function(){return{current:null}},We.forwardRef=function(L){return{$$typeof:d,render:L}},We.isValidElement=H,We.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:z}},We.memo=function(L,O){return{$$typeof:h,type:L,compare:O===void 0?null:O}},We.startTransition=function(L){var O=R.transition;R.transition={};try{L()}finally{R.transition=O}},We.unstable_act=X,We.useCallback=function(L,O){return J.current.useCallback(L,O)},We.useContext=function(L){return J.current.useContext(L)},We.useDebugValue=function(){},We.useDeferredValue=function(L){return J.current.useDeferredValue(L)},We.useEffect=function(L,O){return J.current.useEffect(L,O)},We.useId=function(){return J.current.useId()},We.useImperativeHandle=function(L,O,G){return J.current.useImperativeHandle(L,O,G)},We.useInsertionEffect=function(L,O){return J.current.useInsertionEffect(L,O)},We.useLayoutEffect=function(L,O){return J.current.useLayoutEffect(L,O)},We.useMemo=function(L,O){return J.current.useMemo(L,O)},We.useReducer=function(L,O,G){return J.current.useReducer(L,O,G)},We.useRef=function(L){return J.current.useRef(L)},We.useState=function(L){return J.current.useState(L)},We.useSyncExternalStore=function(L,O,G){return J.current.useSyncExternalStore(L,O,G)},We.useTransition=function(){return J.current.useTransition()},We.version="18.3.1",We}var vy;function cp(){return vy||(vy=1,mf.exports=nE()),mf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function rE(){if(yy)return oa;yy=1;var t=cp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,p,h){var m,g={},y=null,b=null;h!==void 0&&(y=""+h),p.key!==void 0&&(y=""+p.key),p.ref!==void 0&&(b=p.ref);for(m in p)s.call(p,m)&&!a.hasOwnProperty(m)&&(g[m]=p[m]);if(d&&d.defaultProps)for(m in p=d.defaultProps,p)g[m]===void 0&&(g[m]=p[m]);return{$$typeof:e,type:d,key:y,ref:b,props:g,_owner:i.current}}return oa.Fragment=n,oa.jsx=l,oa.jsxs=l,oa}var xy;function sE(){return xy||(xy=1,pf.exports=rE()),pf.exports}var u=sE(),oc={},gf={exports:{}},gn={},vf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function oE(){return wy||(wy=1,(function(t){function e(R,W){var X=R.length;R.push(W);e:for(;0<X;){var L=X-1>>>1,O=R[L];if(0<i(O,W))R[L]=W,R[X]=O,X=L;else break e}}function n(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var W=R[0],X=R.pop();if(X!==W){R[0]=X;e:for(var L=0,O=R.length,G=O>>>1;L<G;){var q=2*(L+1)-1,Y=R[q],ae=q+1,te=R[ae];if(0>i(Y,X))ae<O&&0>i(te,Y)?(R[L]=te,R[ae]=X,L=ae):(R[L]=Y,R[q]=X,L=q);else if(ae<O&&0>i(te,X))R[L]=te,R[ae]=X,L=ae;else break e}}return W}function i(R,W){var X=R.sortIndex-W.sortIndex;return X!==0?X:R.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var p=[],h=[],m=1,g=null,y=3,b=!1,S=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(R){for(var W=n(h);W!==null;){if(W.callback===null)s(h);else if(W.startTime<=R)s(h),W.sortIndex=W.expirationTime,e(p,W);else break;W=n(h)}}function N(R){if(_=!1,E(R),!S)if(n(p)!==null)S=!0,z(P);else{var W=n(h);W!==null&&J(N,W.startTime-R)}}function P(R,W){S=!1,_&&(_=!1,j(M),M=-1),b=!0;var X=y;try{for(E(W),g=n(p);g!==null&&(!(g.expirationTime>W)||R&&!Q());){var L=g.callback;if(typeof L=="function"){g.callback=null,y=g.priorityLevel;var O=L(g.expirationTime<=W);W=t.unstable_now(),typeof O=="function"?g.callback=O:g===n(p)&&s(p),E(W)}else s(p);g=n(p)}if(g!==null)var G=!0;else{var q=n(h);q!==null&&J(N,q.startTime-W),G=!1}return G}finally{g=null,y=X,b=!1}}var I=!1,$=null,M=-1,V=5,H=-1;function Q(){return!(t.unstable_now()-H<V)}function Z(){if($!==null){var R=t.unstable_now();H=R;var W=!0;try{W=$(!0,R)}finally{W?ie():(I=!1,$=null)}}else I=!1}var ie;if(typeof T=="function")ie=function(){T(Z)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,be=he.port2;he.port1.onmessage=Z,ie=function(){be.postMessage(null)}}else ie=function(){C(Z,0)};function z(R){$=R,I||(I=!0,ie())}function J(R,W){M=C(function(){R(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){S||b||(S=!0,z(P))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(R){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var X=y;y=W;try{return R()}finally{y=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,W){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var X=y;y=R;try{return W()}finally{y=X}},t.unstable_scheduleCallback=function(R,W,X){var L=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?L+X:L):X=L,R){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=X+O,R={id:m++,callback:W,priorityLevel:R,startTime:X,expirationTime:O,sortIndex:-1},X>L?(R.sortIndex=X,e(h,R),n(p)===null&&R===n(h)&&(_?(j(M),M=-1):_=!0,J(N,X-L))):(R.sortIndex=O,e(p,R),S||b||(S=!0,z(P))),R},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(R){var W=y;return function(){var X=y;y=W;try{return R.apply(this,arguments)}finally{y=X}}}})(yf)),yf}var by;function iE(){return by||(by=1,vf.exports=oE()),vf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function aE(){if(Sy)return gn;Sy=1;var t=cp(),e=iE();function n(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function a(r,o){l(r,o),l(r+"Capture",o)}function l(r,o){for(i[r]=o,r=0;r<o.length;r++)s.add(o[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function y(r){return p.call(g,r)?!0:p.call(m,r)?!1:h.test(r)?g[r]=!0:(m[r]=!0,!1)}function b(r,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function S(r,o,c,f){if(o===null||typeof o>"u"||b(r,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function _(r,o,c,f,v,x,k){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=v,this.mustUseProperty=c,this.propertyName=r,this.type=o,this.sanitizeURL=x,this.removeEmptyString=k}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new _(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];C[o]=new _(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new _(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new _(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new _(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new _(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new _(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new _(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new _(r,5,!1,r.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function T(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(j,T);C[o]=new _(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(j,T);C[o]=new _(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(j,T);C[o]=new _(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new _(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new _(r,1,!1,r.toLowerCase(),null,!0,!0)});function E(r,o,c,f){var v=C.hasOwnProperty(o)?C[o]:null;(v!==null?v.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,c,v,f)&&(c=null),f||v===null?y(o)&&(c===null?r.removeAttribute(o):r.setAttribute(o,""+c)):v.mustUseProperty?r[v.propertyName]=c===null?v.type===3?!1:"":c:(o=v.attributeName,f=v.attributeNamespace,c===null?r.removeAttribute(o):(v=v.type,c=v===3||v===4&&c===!0?"":""+c,f?r.setAttributeNS(f,o,c):r.setAttribute(o,c))))}var N=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),I=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),Q=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),R=Symbol.iterator;function W(r){return r===null||typeof r!="object"?null:(r=R&&r[R]||r["@@iterator"],typeof r=="function"?r:null)}var X=Object.assign,L;function O(r){if(L===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);L=o&&o[1]||""}return`
`+L+r}var G=!1;function q(r,o){if(!r||G)return"";G=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var f=K}Reflect.construct(r,[],o)}else{try{o.call()}catch(K){f=K}r.call(o.prototype)}else{try{throw Error()}catch(K){f=K}r()}}catch(K){if(K&&f&&typeof K.stack=="string"){for(var v=K.stack.split(`
`),x=f.stack.split(`
`),k=v.length-1,A=x.length-1;1<=k&&0<=A&&v[k]!==x[A];)A--;for(;1<=k&&0<=A;k--,A--)if(v[k]!==x[A]){if(k!==1||A!==1)do if(k--,A--,0>A||v[k]!==x[A]){var D=`
`+v[k].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=k&&0<=A);break}}}finally{G=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?O(r):""}function Y(r){switch(r.tag){case 5:return O(r.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return r=q(r.type,!1),r;case 11:return r=q(r.type.render,!1),r;case 1:return r=q(r.type,!0),r;default:return""}}function ae(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case $:return"Fragment";case I:return"Portal";case V:return"Profiler";case M:return"StrictMode";case ie:return"Suspense";case he:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Q:return(r.displayName||"Context")+".Consumer";case H:return(r._context.displayName||"Context")+".Provider";case Z:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case be:return o=r.displayName||null,o!==null?o:ae(r.type)||"Memo";case z:o=r._payload,r=r._init;try{return ae(r(o))}catch{}}return null}function te(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(o);case 8:return o===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function _e(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ke(r){var o=_e(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,x=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return v.call(this)},set:function(k){f=""+k,x.call(this,k)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function ft(r){r._valueTracker||(r._valueTracker=Ke(r))}function ge(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return r&&(f=_e(r)?r.checked?"true":"false":r.value),r=f,r!==c?(o.setValue(r),!0):!1}function ze(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function kt(r,o){var c=o.checked;return X({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function Pn(r,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=ue(o.value!=null?o.value:c),r._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Jt(r,o){o=o.checked,o!=null&&E(r,"checked",o,!1)}function It(r,o){Jt(r,o);var c=ue(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?zt(r,o.type,c):o.hasOwnProperty("defaultValue")&&zt(r,o.type,ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function xn(r,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,c||o===r.value||(r.value=o),r.defaultValue=o}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function zt(r,o,c){(o!=="number"||ze(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var Wn=Array.isArray;function oe(r,o,c,f){if(r=r.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<r.length;c++)v=o.hasOwnProperty("$"+r[c].value),r[c].selected!==v&&(r[c].selected=v),v&&f&&(r[c].defaultSelected=!0)}else{for(c=""+ue(c),o=null,v=0;v<r.length;v++){if(r[v].value===c){r[v].selected=!0,f&&(r[v].defaultSelected=!0);return}o!==null||r[v].disabled||(o=r[v])}o!==null&&(o.selected=!0)}}function Se(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Le(r,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(Wn(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}r._wrapperState={initialValue:ue(c)}}function Ye(r,o){var c=ue(o.value),f=ue(o.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),o.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),f!=null&&(r.defaultValue=""+f)}function Ct(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function Xe(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?Xe(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ge,Ze=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,v){MSApp.execUnsafeLocalFunction(function(){return r(o,c,f,v)})}:r})(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(Ge=Ge||document.createElement("div"),Ge.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ge.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function jt(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lr=["Webkit","ms","Moz","O"];Object.keys(ar).forEach(function(r){lr.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),ar[o]=ar[r]})});function uo(r,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||ar.hasOwnProperty(r)&&ar[r]?(""+o).trim():o+"px"}function Cs(r,o){r=r.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,v=uo(c,o[c],f);c==="float"&&(c="cssFloat"),f?r.setProperty(c,v):r[c]=v}}var fe=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Me(r,o){if(o){if(fe[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function qe(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $e=null;function Fe(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ve=null,ht=null,Et=null;function Mt(r){if(r=Wi(r)){if(typeof Ve!="function")throw Error(n(280));var o=r.stateNode;o&&(o=wl(o),Ve(r.stateNode,r.type,o))}}function de(r){ht?Et?Et.push(r):Et=[r]:ht=r}function Ae(){if(ht){var r=ht,o=Et;if(Et=ht=null,Mt(r),o)for(r=0;r<o.length;r++)Mt(o[r])}}function Be(r,o){return r(o)}function et(){}var Wt=!1;function at(r,o,c){if(Wt)return r(o,c);Wt=!0;try{return Be(r,o,c)}finally{Wt=!1,(ht!==null||Et!==null)&&(et(),Ae())}}function gt(r,o){var c=r.stateNode;if(c===null)return null;var f=wl(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var zr=!1;if(d)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){zr=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch{zr=!1}function wn(r,o,c,f,v,x,k,A,D){var K=Array.prototype.slice.call(arguments,3);try{o.apply(c,K)}catch(re){this.onError(re)}}var Wr=!1,An=null,Ci=!1,Ru=null,cC={onError:function(r){Wr=!0,An=r}};function uC(r,o,c,f,v,x,k,A,D){Wr=!1,An=null,wn.apply(cC,arguments)}function dC(r,o,c,f,v,x,k,A,D){if(uC.apply(this,arguments),Wr){if(Wr){var K=An;Wr=!1,An=null}else throw Error(n(198));Ci||(Ci=!0,Ru=K)}}function js(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function Fm(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function Vm(r){if(js(r)!==r)throw Error(n(188))}function fC(r){var o=r.alternate;if(!o){if(o=js(r),o===null)throw Error(n(188));return o!==r?null:r}for(var c=r,f=o;;){var v=c.return;if(v===null)break;var x=v.alternate;if(x===null){if(f=v.return,f!==null){c=f;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===c)return Vm(v),r;if(x===f)return Vm(v),o;x=x.sibling}throw Error(n(188))}if(c.return!==f.return)c=v,f=x;else{for(var k=!1,A=v.child;A;){if(A===c){k=!0,c=v,f=x;break}if(A===f){k=!0,f=v,c=x;break}A=A.sibling}if(!k){for(A=x.child;A;){if(A===c){k=!0,c=x,f=v;break}if(A===f){k=!0,f=x,c=v;break}A=A.sibling}if(!k)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?r:o}function Bm(r){return r=fC(r),r!==null?Um(r):null}function Um(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=Um(r);if(o!==null)return o;r=r.sibling}return null}var zm=e.unstable_scheduleCallback,Wm=e.unstable_cancelCallback,hC=e.unstable_shouldYield,pC=e.unstable_requestPaint,Nt=e.unstable_now,mC=e.unstable_getCurrentPriorityLevel,Ou=e.unstable_ImmediatePriority,Hm=e.unstable_UserBlockingPriority,el=e.unstable_NormalPriority,gC=e.unstable_LowPriority,Km=e.unstable_IdlePriority,tl=null,cr=null;function vC(r){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(tl,r,void 0,(r.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:wC,yC=Math.log,xC=Math.LN2;function wC(r){return r>>>=0,r===0?32:31-(yC(r)/xC|0)|0}var nl=64,rl=4194304;function ji(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function sl(r,o){var c=r.pendingLanes;if(c===0)return 0;var f=0,v=r.suspendedLanes,x=r.pingedLanes,k=c&268435455;if(k!==0){var A=k&~v;A!==0?f=ji(A):(x&=k,x!==0&&(f=ji(x)))}else k=c&~v,k!==0?f=ji(k):x!==0&&(f=ji(x));if(f===0)return 0;if(o!==0&&o!==f&&(o&v)===0&&(v=f&-f,x=o&-o,v>=x||v===16&&(x&4194240)!==0))return o;if((f&4)!==0&&(f|=c&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=f;0<o;)c=31-Hn(o),v=1<<c,f|=r[c],o&=~v;return f}function bC(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SC(r,o){for(var c=r.suspendedLanes,f=r.pingedLanes,v=r.expirationTimes,x=r.pendingLanes;0<x;){var k=31-Hn(x),A=1<<k,D=v[k];D===-1?((A&c)===0||(A&f)!==0)&&(v[k]=bC(A,o)):D<=o&&(r.expiredLanes|=A),x&=~A}}function Iu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Gm(){var r=nl;return nl<<=1,(nl&4194240)===0&&(nl=64),r}function Mu(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function Ei(r,o,c){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-Hn(o),r[o]=c}function _C(r,o){var c=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<c;){var v=31-Hn(c),x=1<<v;o[v]=0,f[v]=-1,r[v]=-1,c&=~x}}function Du(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var f=31-Hn(c),v=1<<f;v&o|r[f]&o&&(r[f]|=o),c&=~v}}var it=0;function qm(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ym,Lu,Jm,Xm,Qm,$u=!1,ol=[],Hr=null,Kr=null,Gr=null,Ni=new Map,Ti=new Map,qr=[],kC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zm(r,o){switch(r){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Ni.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ti.delete(o.pointerId)}}function Pi(r,o,c,f,v,x){return r===null||r.nativeEvent!==x?(r={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[v]},o!==null&&(o=Wi(o),o!==null&&Lu(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),r)}function CC(r,o,c,f,v){switch(o){case"focusin":return Hr=Pi(Hr,r,o,c,f,v),!0;case"dragenter":return Kr=Pi(Kr,r,o,c,f,v),!0;case"mouseover":return Gr=Pi(Gr,r,o,c,f,v),!0;case"pointerover":var x=v.pointerId;return Ni.set(x,Pi(Ni.get(x)||null,r,o,c,f,v)),!0;case"gotpointercapture":return x=v.pointerId,Ti.set(x,Pi(Ti.get(x)||null,r,o,c,f,v)),!0}return!1}function eg(r){var o=Es(r.target);if(o!==null){var c=js(o);if(c!==null){if(o=c.tag,o===13){if(o=Fm(c),o!==null){r.blockedOn=o,Qm(r.priority,function(){Jm(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function il(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=Vu(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);$e=f,c.target.dispatchEvent(f),$e=null}else return o=Wi(c),o!==null&&Lu(o),r.blockedOn=c,!1;o.shift()}return!0}function tg(r,o,c){il(r)&&c.delete(o)}function jC(){$u=!1,Hr!==null&&il(Hr)&&(Hr=null),Kr!==null&&il(Kr)&&(Kr=null),Gr!==null&&il(Gr)&&(Gr=null),Ni.forEach(tg),Ti.forEach(tg)}function Ai(r,o){r.blockedOn===o&&(r.blockedOn=null,$u||($u=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jC)))}function Ri(r){function o(v){return Ai(v,r)}if(0<ol.length){Ai(ol[0],r);for(var c=1;c<ol.length;c++){var f=ol[c];f.blockedOn===r&&(f.blockedOn=null)}}for(Hr!==null&&Ai(Hr,r),Kr!==null&&Ai(Kr,r),Gr!==null&&Ai(Gr,r),Ni.forEach(o),Ti.forEach(o),c=0;c<qr.length;c++)f=qr[c],f.blockedOn===r&&(f.blockedOn=null);for(;0<qr.length&&(c=qr[0],c.blockedOn===null);)eg(c),c.blockedOn===null&&qr.shift()}var fo=N.ReactCurrentBatchConfig,al=!0;function EC(r,o,c,f){var v=it,x=fo.transition;fo.transition=null;try{it=1,Fu(r,o,c,f)}finally{it=v,fo.transition=x}}function NC(r,o,c,f){var v=it,x=fo.transition;fo.transition=null;try{it=4,Fu(r,o,c,f)}finally{it=v,fo.transition=x}}function Fu(r,o,c,f){if(al){var v=Vu(r,o,c,f);if(v===null)rd(r,o,f,ll,c),Zm(r,f);else if(CC(v,r,o,c,f))f.stopPropagation();else if(Zm(r,f),o&4&&-1<kC.indexOf(r)){for(;v!==null;){var x=Wi(v);if(x!==null&&Ym(x),x=Vu(r,o,c,f),x===null&&rd(r,o,f,ll,c),x===v)break;v=x}v!==null&&f.stopPropagation()}else rd(r,o,f,null,c)}}var ll=null;function Vu(r,o,c,f){if(ll=null,r=Fe(f),r=Es(r),r!==null)if(o=js(r),o===null)r=null;else if(c=o.tag,c===13){if(r=Fm(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return ll=r,null}function ng(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mC()){case Ou:return 1;case Hm:return 4;case el:case gC:return 16;case Km:return 536870912;default:return 16}default:return 16}}var Yr=null,Bu=null,cl=null;function rg(){if(cl)return cl;var r,o=Bu,c=o.length,f,v="value"in Yr?Yr.value:Yr.textContent,x=v.length;for(r=0;r<c&&o[r]===v[r];r++);var k=c-r;for(f=1;f<=k&&o[c-f]===v[x-f];f++);return cl=v.slice(r,1<f?1-f:void 0)}function ul(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function dl(){return!0}function sg(){return!1}function bn(r){function o(c,f,v,x,k){this._reactName=c,this._targetInst=v,this.type=f,this.nativeEvent=x,this.target=k,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(c=r[A],this[A]=c?c(x):x[A]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?dl:sg,this.isPropagationStopped=sg,this}return X(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=dl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=dl)},persist:function(){},isPersistent:dl}),o}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uu=bn(ho),Oi=X({},ho,{view:0,detail:0}),TC=bn(Oi),zu,Wu,Ii,fl=X({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ku,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ii&&(Ii&&r.type==="mousemove"?(zu=r.screenX-Ii.screenX,Wu=r.screenY-Ii.screenY):Wu=zu=0,Ii=r),zu)},movementY:function(r){return"movementY"in r?r.movementY:Wu}}),og=bn(fl),PC=X({},fl,{dataTransfer:0}),AC=bn(PC),RC=X({},Oi,{relatedTarget:0}),Hu=bn(RC),OC=X({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),IC=bn(OC),MC=X({},ho,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),DC=bn(MC),LC=X({},ho,{data:0}),ig=bn(LC),$C={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BC(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=VC[r])?!!o[r]:!1}function Ku(){return BC}var UC=X({},Oi,{key:function(r){if(r.key){var o=$C[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=ul(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?FC[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ku,charCode:function(r){return r.type==="keypress"?ul(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ul(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),zC=bn(UC),WC=X({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ag=bn(WC),HC=X({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ku}),KC=bn(HC),GC=X({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),qC=bn(GC),YC=X({},fl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),JC=bn(YC),XC=[9,13,27,32],Gu=d&&"CompositionEvent"in window,Mi=null;d&&"documentMode"in document&&(Mi=document.documentMode);var QC=d&&"TextEvent"in window&&!Mi,lg=d&&(!Gu||Mi&&8<Mi&&11>=Mi),cg=" ",ug=!1;function dg(r,o){switch(r){case"keyup":return XC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var po=!1;function ZC(r,o){switch(r){case"compositionend":return fg(o);case"keypress":return o.which!==32?null:(ug=!0,cg);case"textInput":return r=o.data,r===cg&&ug?null:r;default:return null}}function ej(r,o){if(po)return r==="compositionend"||!Gu&&dg(r,o)?(r=rg(),cl=Bu=Yr=null,po=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return lg&&o.locale!=="ko"?null:o.data;default:return null}}var tj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!tj[r.type]:o==="textarea"}function pg(r,o,c,f){de(f),o=vl(o,"onChange"),0<o.length&&(c=new Uu("onChange","change",null,c,f),r.push({event:c,listeners:o}))}var Di=null,Li=null;function nj(r){Rg(r,0)}function hl(r){var o=xo(r);if(ge(o))return r}function rj(r,o){if(r==="change")return o}var mg=!1;if(d){var qu;if(d){var Yu="oninput"in document;if(!Yu){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),Yu=typeof gg.oninput=="function"}qu=Yu}else qu=!1;mg=qu&&(!document.documentMode||9<document.documentMode)}function vg(){Di&&(Di.detachEvent("onpropertychange",yg),Li=Di=null)}function yg(r){if(r.propertyName==="value"&&hl(Li)){var o=[];pg(o,Li,r,Fe(r)),at(nj,o)}}function sj(r,o,c){r==="focusin"?(vg(),Di=o,Li=c,Di.attachEvent("onpropertychange",yg)):r==="focusout"&&vg()}function oj(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return hl(Li)}function ij(r,o){if(r==="click")return hl(o)}function aj(r,o){if(r==="input"||r==="change")return hl(o)}function lj(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Kn=typeof Object.is=="function"?Object.is:lj;function $i(r,o){if(Kn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var v=c[f];if(!p.call(o,v)||!Kn(r[v],o[v]))return!1}return!0}function xg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function wg(r,o){var c=xg(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=o&&f>=o)return{node:c,offset:o-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=xg(c)}}function bg(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?bg(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Sg(){for(var r=window,o=ze();o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=ze(r.document)}return o}function Ju(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function cj(r){var o=Sg(),c=r.focusedElem,f=r.selectionRange;if(o!==c&&c&&c.ownerDocument&&bg(c.ownerDocument.documentElement,c)){if(f!==null&&Ju(c)){if(o=f.start,r=f.end,r===void 0&&(r=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(r,c.value.length);else if(r=(o=c.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var v=c.textContent.length,x=Math.min(f.start,v);f=f.end===void 0?x:Math.min(f.end,v),!r.extend&&x>f&&(v=f,f=x,x=v),v=wg(c,x);var k=wg(c,f);v&&k&&(r.rangeCount!==1||r.anchorNode!==v.node||r.anchorOffset!==v.offset||r.focusNode!==k.node||r.focusOffset!==k.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),r.removeAllRanges(),x>f?(r.addRange(o),r.extend(k.node,k.offset)):(o.setEnd(k.node,k.offset),r.addRange(o)))}}for(o=[],r=c;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)r=o[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var uj=d&&"documentMode"in document&&11>=document.documentMode,mo=null,Xu=null,Fi=null,Qu=!1;function _g(r,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Qu||mo==null||mo!==ze(f)||(f=mo,"selectionStart"in f&&Ju(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Fi&&$i(Fi,f)||(Fi=f,f=vl(Xu,"onSelect"),0<f.length&&(o=new Uu("onSelect","select",null,o,c),r.push({event:o,listeners:f}),o.target=mo)))}function pl(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var go={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionend:pl("Transition","TransitionEnd")},Zu={},kg={};d&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function ml(r){if(Zu[r])return Zu[r];if(!go[r])return r;var o=go[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in kg)return Zu[r]=o[c];return r}var Cg=ml("animationend"),jg=ml("animationiteration"),Eg=ml("animationstart"),Ng=ml("transitionend"),Tg=new Map,Pg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(r,o){Tg.set(r,o),a(o,[r])}for(var ed=0;ed<Pg.length;ed++){var td=Pg[ed],dj=td.toLowerCase(),fj=td[0].toUpperCase()+td.slice(1);Jr(dj,"on"+fj)}Jr(Cg,"onAnimationEnd"),Jr(jg,"onAnimationIteration"),Jr(Eg,"onAnimationStart"),Jr("dblclick","onDoubleClick"),Jr("focusin","onFocus"),Jr("focusout","onBlur"),Jr(Ng,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vi));function Ag(r,o,c){var f=r.type||"unknown-event";r.currentTarget=c,dC(f,o,void 0,r),r.currentTarget=null}function Rg(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],v=f.event;f=f.listeners;e:{var x=void 0;if(o)for(var k=f.length-1;0<=k;k--){var A=f[k],D=A.instance,K=A.currentTarget;if(A=A.listener,D!==x&&v.isPropagationStopped())break e;Ag(v,A,K),x=D}else for(k=0;k<f.length;k++){if(A=f[k],D=A.instance,K=A.currentTarget,A=A.listener,D!==x&&v.isPropagationStopped())break e;Ag(v,A,K),x=D}}}if(Ci)throw r=Ru,Ci=!1,Ru=null,r}function ut(r,o){var c=o[cd];c===void 0&&(c=o[cd]=new Set);var f=r+"__bubble";c.has(f)||(Og(o,r,2,!1),c.add(f))}function nd(r,o,c){var f=0;o&&(f|=4),Og(c,r,f,o)}var gl="_reactListening"+Math.random().toString(36).slice(2);function Bi(r){if(!r[gl]){r[gl]=!0,s.forEach(function(c){c!=="selectionchange"&&(hj.has(c)||nd(c,!1,r),nd(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[gl]||(o[gl]=!0,nd("selectionchange",!1,o))}}function Og(r,o,c,f){switch(ng(o)){case 1:var v=EC;break;case 4:v=NC;break;default:v=Fu}c=v.bind(null,o,c,r),v=void 0,!zr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),f?v!==void 0?r.addEventListener(o,c,{capture:!0,passive:v}):r.addEventListener(o,c,!0):v!==void 0?r.addEventListener(o,c,{passive:v}):r.addEventListener(o,c,!1)}function rd(r,o,c,f,v){var x=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var A=f.stateNode.containerInfo;if(A===v||A.nodeType===8&&A.parentNode===v)break;if(k===4)for(k=f.return;k!==null;){var D=k.tag;if((D===3||D===4)&&(D=k.stateNode.containerInfo,D===v||D.nodeType===8&&D.parentNode===v))return;k=k.return}for(;A!==null;){if(k=Es(A),k===null)return;if(D=k.tag,D===5||D===6){f=x=k;continue e}A=A.parentNode}}f=f.return}at(function(){var K=x,re=Fe(c),se=[];e:{var ne=Tg.get(r);if(ne!==void 0){var me=Uu,ye=r;switch(r){case"keypress":if(ul(c)===0)break e;case"keydown":case"keyup":me=zC;break;case"focusin":ye="focus",me=Hu;break;case"focusout":ye="blur",me=Hu;break;case"beforeblur":case"afterblur":me=Hu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=AC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=KC;break;case Cg:case jg:case Eg:me=IC;break;case Ng:me=qC;break;case"scroll":me=TC;break;case"wheel":me=JC;break;case"copy":case"cut":case"paste":me=DC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=ag}var ke=(o&4)!==0,Tt=!ke&&r==="scroll",B=ke?ne!==null?ne+"Capture":null:ne;ke=[];for(var F=K,U;F!==null;){U=F;var le=U.stateNode;if(U.tag===5&&le!==null&&(U=le,B!==null&&(le=gt(F,B),le!=null&&ke.push(Ui(F,le,U)))),Tt)break;F=F.return}0<ke.length&&(ne=new me(ne,ye,null,c,re),se.push({event:ne,listeners:ke}))}}if((o&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",ne&&c!==$e&&(ye=c.relatedTarget||c.fromElement)&&(Es(ye)||ye[Cr]))break e;if((me||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,me?(ye=c.relatedTarget||c.toElement,me=K,ye=ye?Es(ye):null,ye!==null&&(Tt=js(ye),ye!==Tt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(me=null,ye=K),me!==ye)){if(ke=og,le="onMouseLeave",B="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(ke=ag,le="onPointerLeave",B="onPointerEnter",F="pointer"),Tt=me==null?ne:xo(me),U=ye==null?ne:xo(ye),ne=new ke(le,F+"leave",me,c,re),ne.target=Tt,ne.relatedTarget=U,le=null,Es(re)===K&&(ke=new ke(B,F+"enter",ye,c,re),ke.target=U,ke.relatedTarget=Tt,le=ke),Tt=le,me&&ye)t:{for(ke=me,B=ye,F=0,U=ke;U;U=vo(U))F++;for(U=0,le=B;le;le=vo(le))U++;for(;0<F-U;)ke=vo(ke),F--;for(;0<U-F;)B=vo(B),U--;for(;F--;){if(ke===B||B!==null&&ke===B.alternate)break t;ke=vo(ke),B=vo(B)}ke=null}else ke=null;me!==null&&Ig(se,ne,me,ke,!1),ye!==null&&Tt!==null&&Ig(se,Tt,ye,ke,!0)}}e:{if(ne=K?xo(K):window,me=ne.nodeName&&ne.nodeName.toLowerCase(),me==="select"||me==="input"&&ne.type==="file")var je=rj;else if(hg(ne))if(mg)je=aj;else{je=oj;var Ne=sj}else(me=ne.nodeName)&&me.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(je=ij);if(je&&(je=je(r,K))){pg(se,je,c,re);break e}Ne&&Ne(r,ne,K),r==="focusout"&&(Ne=ne._wrapperState)&&Ne.controlled&&ne.type==="number"&&zt(ne,"number",ne.value)}switch(Ne=K?xo(K):window,r){case"focusin":(hg(Ne)||Ne.contentEditable==="true")&&(mo=Ne,Xu=K,Fi=null);break;case"focusout":Fi=Xu=mo=null;break;case"mousedown":Qu=!0;break;case"contextmenu":case"mouseup":case"dragend":Qu=!1,_g(se,c,re);break;case"selectionchange":if(uj)break;case"keydown":case"keyup":_g(se,c,re)}var Te;if(Gu)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else po?dg(r,c)&&(Ie="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ie="onCompositionStart");Ie&&(lg&&c.locale!=="ko"&&(po||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&po&&(Te=rg()):(Yr=re,Bu="value"in Yr?Yr.value:Yr.textContent,po=!0)),Ne=vl(K,Ie),0<Ne.length&&(Ie=new ig(Ie,r,null,c,re),se.push({event:Ie,listeners:Ne}),Te?Ie.data=Te:(Te=fg(c),Te!==null&&(Ie.data=Te)))),(Te=QC?ZC(r,c):ej(r,c))&&(K=vl(K,"onBeforeInput"),0<K.length&&(re=new ig("onBeforeInput","beforeinput",null,c,re),se.push({event:re,listeners:K}),re.data=Te))}Rg(se,o)})}function Ui(r,o,c){return{instance:r,listener:o,currentTarget:c}}function vl(r,o){for(var c=o+"Capture",f=[];r!==null;){var v=r,x=v.stateNode;v.tag===5&&x!==null&&(v=x,x=gt(r,c),x!=null&&f.unshift(Ui(r,x,v)),x=gt(r,o),x!=null&&f.push(Ui(r,x,v))),r=r.return}return f}function vo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Ig(r,o,c,f,v){for(var x=o._reactName,k=[];c!==null&&c!==f;){var A=c,D=A.alternate,K=A.stateNode;if(D!==null&&D===f)break;A.tag===5&&K!==null&&(A=K,v?(D=gt(c,x),D!=null&&k.unshift(Ui(c,D,A))):v||(D=gt(c,x),D!=null&&k.push(Ui(c,D,A)))),c=c.return}k.length!==0&&r.push({event:o,listeners:k})}var pj=/\r\n?/g,mj=/\u0000|\uFFFD/g;function Mg(r){return(typeof r=="string"?r:""+r).replace(pj,`
`).replace(mj,"")}function yl(r,o,c){if(o=Mg(o),Mg(r)!==o&&c)throw Error(n(425))}function xl(){}var sd=null,od=null;function id(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ad=typeof setTimeout=="function"?setTimeout:void 0,gj=typeof clearTimeout=="function"?clearTimeout:void 0,Dg=typeof Promise=="function"?Promise:void 0,vj=typeof queueMicrotask=="function"?queueMicrotask:typeof Dg<"u"?function(r){return Dg.resolve(null).then(r).catch(yj)}:ad;function yj(r){setTimeout(function(){throw r})}function ld(r,o){var c=o,f=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(f===0){r.removeChild(v),Ri(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=v}while(c);Ri(o)}function Xr(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function Lg(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}var yo=Math.random().toString(36).slice(2),ur="__reactFiber$"+yo,zi="__reactProps$"+yo,Cr="__reactContainer$"+yo,cd="__reactEvents$"+yo,xj="__reactListeners$"+yo,wj="__reactHandles$"+yo;function Es(r){var o=r[ur];if(o)return o;for(var c=r.parentNode;c;){if(o=c[Cr]||c[ur]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=Lg(r);r!==null;){if(c=r[ur])return c;r=Lg(r)}return o}r=c,c=r.parentNode}return null}function Wi(r){return r=r[ur]||r[Cr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function xo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function wl(r){return r[zi]||null}var ud=[],wo=-1;function Qr(r){return{current:r}}function dt(r){0>wo||(r.current=ud[wo],ud[wo]=null,wo--)}function lt(r,o){wo++,ud[wo]=r.current,r.current=o}var Zr={},Xt=Qr(Zr),dn=Qr(!1),Ns=Zr;function bo(r,o){var c=r.type.contextTypes;if(!c)return Zr;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var v={},x;for(x in c)v[x]=o[x];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=v),v}function fn(r){return r=r.childContextTypes,r!=null}function bl(){dt(dn),dt(Xt)}function $g(r,o,c){if(Xt.current!==Zr)throw Error(n(168));lt(Xt,o),lt(dn,c)}function Fg(r,o,c){var f=r.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var v in f)if(!(v in o))throw Error(n(108,te(r)||"Unknown",v));return X({},c,f)}function Sl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Zr,Ns=Xt.current,lt(Xt,r),lt(dn,dn.current),!0}function Vg(r,o,c){var f=r.stateNode;if(!f)throw Error(n(169));c?(r=Fg(r,o,Ns),f.__reactInternalMemoizedMergedChildContext=r,dt(dn),dt(Xt),lt(Xt,r)):dt(dn),lt(dn,c)}var jr=null,_l=!1,dd=!1;function Bg(r){jr===null?jr=[r]:jr.push(r)}function bj(r){_l=!0,Bg(r)}function es(){if(!dd&&jr!==null){dd=!0;var r=0,o=it;try{var c=jr;for(it=1;r<c.length;r++){var f=c[r];do f=f(!0);while(f!==null)}jr=null,_l=!1}catch(v){throw jr!==null&&(jr=jr.slice(r+1)),zm(Ou,es),v}finally{it=o,dd=!1}}return null}var So=[],_o=0,kl=null,Cl=0,Rn=[],On=0,Ts=null,Er=1,Nr="";function Ps(r,o){So[_o++]=Cl,So[_o++]=kl,kl=r,Cl=o}function Ug(r,o,c){Rn[On++]=Er,Rn[On++]=Nr,Rn[On++]=Ts,Ts=r;var f=Er;r=Nr;var v=32-Hn(f)-1;f&=~(1<<v),c+=1;var x=32-Hn(o)+v;if(30<x){var k=v-v%5;x=(f&(1<<k)-1).toString(32),f>>=k,v-=k,Er=1<<32-Hn(o)+v|c<<v|f,Nr=x+r}else Er=1<<x|c<<v|f,Nr=r}function fd(r){r.return!==null&&(Ps(r,1),Ug(r,1,0))}function hd(r){for(;r===kl;)kl=So[--_o],So[_o]=null,Cl=So[--_o],So[_o]=null;for(;r===Ts;)Ts=Rn[--On],Rn[On]=null,Nr=Rn[--On],Rn[On]=null,Er=Rn[--On],Rn[On]=null}var Sn=null,_n=null,pt=!1,Gn=null;function zg(r,o){var c=Ln(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=r,o=r.deletions,o===null?(r.deletions=[c],r.flags|=16):o.push(c)}function Wg(r,o){switch(r.tag){case 5:var c=r.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,Sn=r,_n=Xr(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,Sn=r,_n=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Ts!==null?{id:Er,overflow:Nr}:null,r.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Ln(18,null,null,0),c.stateNode=o,c.return=r,r.child=c,Sn=r,_n=null,!0):!1;default:return!1}}function pd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function md(r){if(pt){var o=_n;if(o){var c=o;if(!Wg(r,o)){if(pd(r))throw Error(n(418));o=Xr(c.nextSibling);var f=Sn;o&&Wg(r,o)?zg(f,c):(r.flags=r.flags&-4097|2,pt=!1,Sn=r)}}else{if(pd(r))throw Error(n(418));r.flags=r.flags&-4097|2,pt=!1,Sn=r}}}function Hg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Sn=r}function jl(r){if(r!==Sn)return!1;if(!pt)return Hg(r),pt=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!id(r.type,r.memoizedProps)),o&&(o=_n)){if(pd(r))throw Kg(),Error(n(418));for(;o;)zg(r,o),o=Xr(o.nextSibling)}if(Hg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(o===0){_n=Xr(r.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}r=r.nextSibling}_n=null}}else _n=Sn?Xr(r.stateNode.nextSibling):null;return!0}function Kg(){for(var r=_n;r;)r=Xr(r.nextSibling)}function ko(){_n=Sn=null,pt=!1}function gd(r){Gn===null?Gn=[r]:Gn.push(r)}var Sj=N.ReactCurrentBatchConfig;function Hi(r,o,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,r));var v=f,x=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(k){var A=v.refs;k===null?delete A[x]:A[x]=k},o._stringRef=x,o)}if(typeof r!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,r))}return r}function El(r,o){throw r=Object.prototype.toString.call(o),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function Gg(r){var o=r._init;return o(r._payload)}function qg(r){function o(B,F){if(r){var U=B.deletions;U===null?(B.deletions=[F],B.flags|=16):U.push(F)}}function c(B,F){if(!r)return null;for(;F!==null;)o(B,F),F=F.sibling;return null}function f(B,F){for(B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function v(B,F){return B=ls(B,F),B.index=0,B.sibling=null,B}function x(B,F,U){return B.index=U,r?(U=B.alternate,U!==null?(U=U.index,U<F?(B.flags|=2,F):U):(B.flags|=2,F)):(B.flags|=1048576,F)}function k(B){return r&&B.alternate===null&&(B.flags|=2),B}function A(B,F,U,le){return F===null||F.tag!==6?(F=lf(U,B.mode,le),F.return=B,F):(F=v(F,U),F.return=B,F)}function D(B,F,U,le){var je=U.type;return je===$?re(B,F,U.props.children,le,U.key):F!==null&&(F.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===z&&Gg(je)===F.type)?(le=v(F,U.props),le.ref=Hi(B,F,U),le.return=B,le):(le=Xl(U.type,U.key,U.props,null,B.mode,le),le.ref=Hi(B,F,U),le.return=B,le)}function K(B,F,U,le){return F===null||F.tag!==4||F.stateNode.containerInfo!==U.containerInfo||F.stateNode.implementation!==U.implementation?(F=cf(U,B.mode,le),F.return=B,F):(F=v(F,U.children||[]),F.return=B,F)}function re(B,F,U,le,je){return F===null||F.tag!==7?(F=$s(U,B.mode,le,je),F.return=B,F):(F=v(F,U),F.return=B,F)}function se(B,F,U){if(typeof F=="string"&&F!==""||typeof F=="number")return F=lf(""+F,B.mode,U),F.return=B,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case P:return U=Xl(F.type,F.key,F.props,null,B.mode,U),U.ref=Hi(B,null,F),U.return=B,U;case I:return F=cf(F,B.mode,U),F.return=B,F;case z:var le=F._init;return se(B,le(F._payload),U)}if(Wn(F)||W(F))return F=$s(F,B.mode,U,null),F.return=B,F;El(B,F)}return null}function ne(B,F,U,le){var je=F!==null?F.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return je!==null?null:A(B,F,""+U,le);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return U.key===je?D(B,F,U,le):null;case I:return U.key===je?K(B,F,U,le):null;case z:return je=U._init,ne(B,F,je(U._payload),le)}if(Wn(U)||W(U))return je!==null?null:re(B,F,U,le,null);El(B,U)}return null}function me(B,F,U,le,je){if(typeof le=="string"&&le!==""||typeof le=="number")return B=B.get(U)||null,A(F,B,""+le,je);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case P:return B=B.get(le.key===null?U:le.key)||null,D(F,B,le,je);case I:return B=B.get(le.key===null?U:le.key)||null,K(F,B,le,je);case z:var Ne=le._init;return me(B,F,U,Ne(le._payload),je)}if(Wn(le)||W(le))return B=B.get(U)||null,re(F,B,le,je,null);El(F,le)}return null}function ye(B,F,U,le){for(var je=null,Ne=null,Te=F,Ie=F=0,Ut=null;Te!==null&&Ie<U.length;Ie++){Te.index>Ie?(Ut=Te,Te=null):Ut=Te.sibling;var nt=ne(B,Te,U[Ie],le);if(nt===null){Te===null&&(Te=Ut);break}r&&Te&&nt.alternate===null&&o(B,Te),F=x(nt,F,Ie),Ne===null?je=nt:Ne.sibling=nt,Ne=nt,Te=Ut}if(Ie===U.length)return c(B,Te),pt&&Ps(B,Ie),je;if(Te===null){for(;Ie<U.length;Ie++)Te=se(B,U[Ie],le),Te!==null&&(F=x(Te,F,Ie),Ne===null?je=Te:Ne.sibling=Te,Ne=Te);return pt&&Ps(B,Ie),je}for(Te=f(B,Te);Ie<U.length;Ie++)Ut=me(Te,B,Ie,U[Ie],le),Ut!==null&&(r&&Ut.alternate!==null&&Te.delete(Ut.key===null?Ie:Ut.key),F=x(Ut,F,Ie),Ne===null?je=Ut:Ne.sibling=Ut,Ne=Ut);return r&&Te.forEach(function(cs){return o(B,cs)}),pt&&Ps(B,Ie),je}function ke(B,F,U,le){var je=W(U);if(typeof je!="function")throw Error(n(150));if(U=je.call(U),U==null)throw Error(n(151));for(var Ne=je=null,Te=F,Ie=F=0,Ut=null,nt=U.next();Te!==null&&!nt.done;Ie++,nt=U.next()){Te.index>Ie?(Ut=Te,Te=null):Ut=Te.sibling;var cs=ne(B,Te,nt.value,le);if(cs===null){Te===null&&(Te=Ut);break}r&&Te&&cs.alternate===null&&o(B,Te),F=x(cs,F,Ie),Ne===null?je=cs:Ne.sibling=cs,Ne=cs,Te=Ut}if(nt.done)return c(B,Te),pt&&Ps(B,Ie),je;if(Te===null){for(;!nt.done;Ie++,nt=U.next())nt=se(B,nt.value,le),nt!==null&&(F=x(nt,F,Ie),Ne===null?je=nt:Ne.sibling=nt,Ne=nt);return pt&&Ps(B,Ie),je}for(Te=f(B,Te);!nt.done;Ie++,nt=U.next())nt=me(Te,B,Ie,nt.value,le),nt!==null&&(r&&nt.alternate!==null&&Te.delete(nt.key===null?Ie:nt.key),F=x(nt,F,Ie),Ne===null?je=nt:Ne.sibling=nt,Ne=nt);return r&&Te.forEach(function(tE){return o(B,tE)}),pt&&Ps(B,Ie),je}function Tt(B,F,U,le){if(typeof U=="object"&&U!==null&&U.type===$&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case P:e:{for(var je=U.key,Ne=F;Ne!==null;){if(Ne.key===je){if(je=U.type,je===$){if(Ne.tag===7){c(B,Ne.sibling),F=v(Ne,U.props.children),F.return=B,B=F;break e}}else if(Ne.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===z&&Gg(je)===Ne.type){c(B,Ne.sibling),F=v(Ne,U.props),F.ref=Hi(B,Ne,U),F.return=B,B=F;break e}c(B,Ne);break}else o(B,Ne);Ne=Ne.sibling}U.type===$?(F=$s(U.props.children,B.mode,le,U.key),F.return=B,B=F):(le=Xl(U.type,U.key,U.props,null,B.mode,le),le.ref=Hi(B,F,U),le.return=B,B=le)}return k(B);case I:e:{for(Ne=U.key;F!==null;){if(F.key===Ne)if(F.tag===4&&F.stateNode.containerInfo===U.containerInfo&&F.stateNode.implementation===U.implementation){c(B,F.sibling),F=v(F,U.children||[]),F.return=B,B=F;break e}else{c(B,F);break}else o(B,F);F=F.sibling}F=cf(U,B.mode,le),F.return=B,B=F}return k(B);case z:return Ne=U._init,Tt(B,F,Ne(U._payload),le)}if(Wn(U))return ye(B,F,U,le);if(W(U))return ke(B,F,U,le);El(B,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,F!==null&&F.tag===6?(c(B,F.sibling),F=v(F,U),F.return=B,B=F):(c(B,F),F=lf(U,B.mode,le),F.return=B,B=F),k(B)):c(B,F)}return Tt}var Co=qg(!0),Yg=qg(!1),Nl=Qr(null),Tl=null,jo=null,vd=null;function yd(){vd=jo=Tl=null}function xd(r){var o=Nl.current;dt(Nl),r._currentValue=o}function wd(r,o,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===c)break;r=r.return}}function Eo(r,o){Tl=r,vd=jo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&o)!==0&&(hn=!0),r.firstContext=null)}function In(r){var o=r._currentValue;if(vd!==r)if(r={context:r,memoizedValue:o,next:null},jo===null){if(Tl===null)throw Error(n(308));jo=r,Tl.dependencies={lanes:0,firstContext:r}}else jo=jo.next=r;return o}var As=null;function bd(r){As===null?As=[r]:As.push(r)}function Jg(r,o,c,f){var v=o.interleaved;return v===null?(c.next=c,bd(o)):(c.next=v.next,v.next=c),o.interleaved=c,Tr(r,f)}function Tr(r,o){r.lanes|=o;var c=r.alternate;for(c!==null&&(c.lanes|=o),c=r,r=r.return;r!==null;)r.childLanes|=o,c=r.alternate,c!==null&&(c.childLanes|=o),c=r,r=r.return;return c.tag===3?c.stateNode:null}var ts=!1;function Sd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xg(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Pr(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function ns(r,o,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(tt&2)!==0){var v=f.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),f.pending=o,Tr(r,c)}return v=f.interleaved,v===null?(o.next=o,bd(f)):(o.next=v.next,v.next=o),f.interleaved=o,Tr(r,c)}function Pl(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,Du(r,c)}}function Qg(r,o){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var v=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var k={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?v=x=k:x=x.next=k,c=c.next}while(c!==null);x===null?v=x=o:x=x.next=o}else v=x=o;c={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:f.shared,effects:f.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}function Al(r,o,c,f){var v=r.updateQueue;ts=!1;var x=v.firstBaseUpdate,k=v.lastBaseUpdate,A=v.shared.pending;if(A!==null){v.shared.pending=null;var D=A,K=D.next;D.next=null,k===null?x=K:k.next=K,k=D;var re=r.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==k&&(A===null?re.firstBaseUpdate=K:A.next=K,re.lastBaseUpdate=D))}if(x!==null){var se=v.baseState;k=0,re=K=D=null,A=x;do{var ne=A.lane,me=A.eventTime;if((f&ne)===ne){re!==null&&(re=re.next={eventTime:me,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ye=r,ke=A;switch(ne=o,me=c,ke.tag){case 1:if(ye=ke.payload,typeof ye=="function"){se=ye.call(me,se,ne);break e}se=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ke.payload,ne=typeof ye=="function"?ye.call(me,se,ne):ye,ne==null)break e;se=X({},se,ne);break e;case 2:ts=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,ne=v.effects,ne===null?v.effects=[A]:ne.push(A))}else me={eventTime:me,lane:ne,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?(K=re=me,D=se):re=re.next=me,k|=ne;if(A=A.next,A===null){if(A=v.shared.pending,A===null)break;ne=A,A=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);if(re===null&&(D=se),v.baseState=D,v.firstBaseUpdate=K,v.lastBaseUpdate=re,o=v.shared.interleaved,o!==null){v=o;do k|=v.lane,v=v.next;while(v!==o)}else x===null&&(v.shared.lanes=0);Is|=k,r.lanes=k,r.memoizedState=se}}function Zg(r,o,c){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var f=r[o],v=f.callback;if(v!==null){if(f.callback=null,f=c,typeof v!="function")throw Error(n(191,v));v.call(f)}}}var Ki={},dr=Qr(Ki),Gi=Qr(Ki),qi=Qr(Ki);function Rs(r){if(r===Ki)throw Error(n(174));return r}function _d(r,o){switch(lt(qi,o),lt(Gi,r),lt(dr,Ki),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ot(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=ot(o,r)}dt(dr),lt(dr,o)}function No(){dt(dr),dt(Gi),dt(qi)}function ev(r){Rs(qi.current);var o=Rs(dr.current),c=ot(o,r.type);o!==c&&(lt(Gi,r),lt(dr,c))}function kd(r){Gi.current===r&&(dt(dr),dt(Gi))}var vt=Qr(0);function Rl(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Cd=[];function jd(){for(var r=0;r<Cd.length;r++)Cd[r]._workInProgressVersionPrimary=null;Cd.length=0}var Ol=N.ReactCurrentDispatcher,Ed=N.ReactCurrentBatchConfig,Os=0,yt=null,Dt=null,Vt=null,Il=!1,Yi=!1,Ji=0,_j=0;function Qt(){throw Error(n(321))}function Nd(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!Kn(r[c],o[c]))return!1;return!0}function Td(r,o,c,f,v,x){if(Os=x,yt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ol.current=r===null||r.memoizedState===null?Ej:Nj,r=c(f,v),Yi){x=0;do{if(Yi=!1,Ji=0,25<=x)throw Error(n(301));x+=1,Vt=Dt=null,o.updateQueue=null,Ol.current=Tj,r=c(f,v)}while(Yi)}if(Ol.current=Ll,o=Dt!==null&&Dt.next!==null,Os=0,Vt=Dt=yt=null,Il=!1,o)throw Error(n(300));return r}function Pd(){var r=Ji!==0;return Ji=0,r}function fr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?yt.memoizedState=Vt=r:Vt=Vt.next=r,Vt}function Mn(){if(Dt===null){var r=yt.alternate;r=r!==null?r.memoizedState:null}else r=Dt.next;var o=Vt===null?yt.memoizedState:Vt.next;if(o!==null)Vt=o,Dt=r;else{if(r===null)throw Error(n(310));Dt=r,r={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Vt===null?yt.memoizedState=Vt=r:Vt=Vt.next=r}return Vt}function Xi(r,o){return typeof o=="function"?o(r):o}function Ad(r){var o=Mn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var f=Dt,v=f.baseQueue,x=c.pending;if(x!==null){if(v!==null){var k=v.next;v.next=x.next,x.next=k}f.baseQueue=v=x,c.pending=null}if(v!==null){x=v.next,f=f.baseState;var A=k=null,D=null,K=x;do{var re=K.lane;if((Os&re)===re)D!==null&&(D=D.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),f=K.hasEagerState?K.eagerState:r(f,K.action);else{var se={lane:re,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};D===null?(A=D=se,k=f):D=D.next=se,yt.lanes|=re,Is|=re}K=K.next}while(K!==null&&K!==x);D===null?k=f:D.next=A,Kn(f,o.memoizedState)||(hn=!0),o.memoizedState=f,o.baseState=k,o.baseQueue=D,c.lastRenderedState=f}if(r=c.interleaved,r!==null){v=r;do x=v.lane,yt.lanes|=x,Is|=x,v=v.next;while(v!==r)}else v===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Rd(r){var o=Mn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var f=c.dispatch,v=c.pending,x=o.memoizedState;if(v!==null){c.pending=null;var k=v=v.next;do x=r(x,k.action),k=k.next;while(k!==v);Kn(x,o.memoizedState)||(hn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,f]}function tv(){}function nv(r,o){var c=yt,f=Mn(),v=o(),x=!Kn(f.memoizedState,v);if(x&&(f.memoizedState=v,hn=!0),f=f.queue,Od(ov.bind(null,c,f,r),[r]),f.getSnapshot!==o||x||Vt!==null&&Vt.memoizedState.tag&1){if(c.flags|=2048,Qi(9,sv.bind(null,c,f,v,o),void 0,null),Bt===null)throw Error(n(349));(Os&30)!==0||rv(c,o,v)}return v}function rv(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=yt.updateQueue,o===null?(o={lastEffect:null,stores:null},yt.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function sv(r,o,c,f){o.value=c,o.getSnapshot=f,iv(o)&&av(r)}function ov(r,o,c){return c(function(){iv(o)&&av(r)})}function iv(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!Kn(r,c)}catch{return!0}}function av(r){var o=Tr(r,1);o!==null&&Xn(o,r,1,-1)}function lv(r){var o=fr();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:r},o.queue=r,r=r.dispatch=jj.bind(null,yt,r),[o.memoizedState,r]}function Qi(r,o,c,f){return r={tag:r,create:o,destroy:c,deps:f,next:null},o=yt.updateQueue,o===null?(o={lastEffect:null,stores:null},yt.updateQueue=o,o.lastEffect=r.next=r):(c=o.lastEffect,c===null?o.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,o.lastEffect=r)),r}function cv(){return Mn().memoizedState}function Ml(r,o,c,f){var v=fr();yt.flags|=r,v.memoizedState=Qi(1|o,c,void 0,f===void 0?null:f)}function Dl(r,o,c,f){var v=Mn();f=f===void 0?null:f;var x=void 0;if(Dt!==null){var k=Dt.memoizedState;if(x=k.destroy,f!==null&&Nd(f,k.deps)){v.memoizedState=Qi(o,c,x,f);return}}yt.flags|=r,v.memoizedState=Qi(1|o,c,x,f)}function uv(r,o){return Ml(8390656,8,r,o)}function Od(r,o){return Dl(2048,8,r,o)}function dv(r,o){return Dl(4,2,r,o)}function fv(r,o){return Dl(4,4,r,o)}function hv(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function pv(r,o,c){return c=c!=null?c.concat([r]):null,Dl(4,4,hv.bind(null,o,r),c)}function Id(){}function mv(r,o){var c=Mn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Nd(o,f[1])?f[0]:(c.memoizedState=[r,o],r)}function gv(r,o){var c=Mn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Nd(o,f[1])?f[0]:(r=r(),c.memoizedState=[r,o],r)}function vv(r,o,c){return(Os&21)===0?(r.baseState&&(r.baseState=!1,hn=!0),r.memoizedState=c):(Kn(c,o)||(c=Gm(),yt.lanes|=c,Is|=c,r.baseState=!0),o)}function kj(r,o){var c=it;it=c!==0&&4>c?c:4,r(!0);var f=Ed.transition;Ed.transition={};try{r(!1),o()}finally{it=c,Ed.transition=f}}function yv(){return Mn().memoizedState}function Cj(r,o,c){var f=is(r);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},xv(r))wv(o,c);else if(c=Jg(r,o,c,f),c!==null){var v=on();Xn(c,r,f,v),bv(c,o,f)}}function jj(r,o,c){var f=is(r),v={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(xv(r))wv(o,v);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var k=o.lastRenderedState,A=x(k,c);if(v.hasEagerState=!0,v.eagerState=A,Kn(A,k)){var D=o.interleaved;D===null?(v.next=v,bd(o)):(v.next=D.next,D.next=v),o.interleaved=v;return}}catch{}finally{}c=Jg(r,o,v,f),c!==null&&(v=on(),Xn(c,r,f,v),bv(c,o,f))}}function xv(r){var o=r.alternate;return r===yt||o!==null&&o===yt}function wv(r,o){Yi=Il=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function bv(r,o,c){if((c&4194240)!==0){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,Du(r,c)}}var Ll={readContext:In,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},Ej={readContext:In,useCallback:function(r,o){return fr().memoizedState=[r,o===void 0?null:o],r},useContext:In,useEffect:uv,useImperativeHandle:function(r,o,c){return c=c!=null?c.concat([r]):null,Ml(4194308,4,hv.bind(null,o,r),c)},useLayoutEffect:function(r,o){return Ml(4194308,4,r,o)},useInsertionEffect:function(r,o){return Ml(4,2,r,o)},useMemo:function(r,o){var c=fr();return o=o===void 0?null:o,r=r(),c.memoizedState=[r,o],r},useReducer:function(r,o,c){var f=fr();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},f.queue=r,r=r.dispatch=Cj.bind(null,yt,r),[f.memoizedState,r]},useRef:function(r){var o=fr();return r={current:r},o.memoizedState=r},useState:lv,useDebugValue:Id,useDeferredValue:function(r){return fr().memoizedState=r},useTransition:function(){var r=lv(!1),o=r[0];return r=kj.bind(null,r[1]),fr().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,c){var f=yt,v=fr();if(pt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Bt===null)throw Error(n(349));(Os&30)!==0||rv(f,o,c)}v.memoizedState=c;var x={value:c,getSnapshot:o};return v.queue=x,uv(ov.bind(null,f,x,r),[r]),f.flags|=2048,Qi(9,sv.bind(null,f,x,c,o),void 0,null),c},useId:function(){var r=fr(),o=Bt.identifierPrefix;if(pt){var c=Nr,f=Er;c=(f&~(1<<32-Hn(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=Ji++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=_j++,o=":"+o+"r"+c.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},Nj={readContext:In,useCallback:mv,useContext:In,useEffect:Od,useImperativeHandle:pv,useInsertionEffect:dv,useLayoutEffect:fv,useMemo:gv,useReducer:Ad,useRef:cv,useState:function(){return Ad(Xi)},useDebugValue:Id,useDeferredValue:function(r){var o=Mn();return vv(o,Dt.memoizedState,r)},useTransition:function(){var r=Ad(Xi)[0],o=Mn().memoizedState;return[r,o]},useMutableSource:tv,useSyncExternalStore:nv,useId:yv,unstable_isNewReconciler:!1},Tj={readContext:In,useCallback:mv,useContext:In,useEffect:Od,useImperativeHandle:pv,useInsertionEffect:dv,useLayoutEffect:fv,useMemo:gv,useReducer:Rd,useRef:cv,useState:function(){return Rd(Xi)},useDebugValue:Id,useDeferredValue:function(r){var o=Mn();return Dt===null?o.memoizedState=r:vv(o,Dt.memoizedState,r)},useTransition:function(){var r=Rd(Xi)[0],o=Mn().memoizedState;return[r,o]},useMutableSource:tv,useSyncExternalStore:nv,useId:yv,unstable_isNewReconciler:!1};function qn(r,o){if(r&&r.defaultProps){o=X({},o),r=r.defaultProps;for(var c in r)o[c]===void 0&&(o[c]=r[c]);return o}return o}function Md(r,o,c,f){o=r.memoizedState,c=c(f,o),c=c==null?o:X({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var $l={isMounted:function(r){return(r=r._reactInternals)?js(r)===r:!1},enqueueSetState:function(r,o,c){r=r._reactInternals;var f=on(),v=is(r),x=Pr(f,v);x.payload=o,c!=null&&(x.callback=c),o=ns(r,x,v),o!==null&&(Xn(o,r,v,f),Pl(o,r,v))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var f=on(),v=is(r),x=Pr(f,v);x.tag=1,x.payload=o,c!=null&&(x.callback=c),o=ns(r,x,v),o!==null&&(Xn(o,r,v,f),Pl(o,r,v))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=on(),f=is(r),v=Pr(c,f);v.tag=2,o!=null&&(v.callback=o),o=ns(r,v,f),o!==null&&(Xn(o,r,f,c),Pl(o,r,f))}};function Sv(r,o,c,f,v,x,k){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,x,k):o.prototype&&o.prototype.isPureReactComponent?!$i(c,f)||!$i(v,x):!0}function _v(r,o,c){var f=!1,v=Zr,x=o.contextType;return typeof x=="object"&&x!==null?x=In(x):(v=fn(o)?Ns:Xt.current,f=o.contextTypes,x=(f=f!=null)?bo(r,v):Zr),o=new o(c,x),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=$l,r.stateNode=o,o._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=v,r.__reactInternalMemoizedMaskedChildContext=x),o}function kv(r,o,c,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==r&&$l.enqueueReplaceState(o,o.state,null)}function Dd(r,o,c,f){var v=r.stateNode;v.props=c,v.state=r.memoizedState,v.refs={},Sd(r);var x=o.contextType;typeof x=="object"&&x!==null?v.context=In(x):(x=fn(o)?Ns:Xt.current,v.context=bo(r,x)),v.state=r.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Md(r,o,x,c),v.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(o=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),o!==v.state&&$l.enqueueReplaceState(v,v.state,null),Al(r,c,v,f),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308)}function To(r,o){try{var c="",f=o;do c+=Y(f),f=f.return;while(f);var v=c}catch(x){v=`
Error generating stack: `+x.message+`
`+x.stack}return{value:r,source:o,stack:v,digest:null}}function Ld(r,o,c){return{value:r,source:null,stack:c??null,digest:o??null}}function $d(r,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var Pj=typeof WeakMap=="function"?WeakMap:Map;function Cv(r,o,c){c=Pr(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){Hl||(Hl=!0,Zd=f),$d(r,o)},c}function jv(r,o,c){c=Pr(-1,c),c.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var v=o.value;c.payload=function(){return f(v)},c.callback=function(){$d(r,o)}}var x=r.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){$d(r,o),typeof f!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})}),c}function Ev(r,o,c){var f=r.pingCache;if(f===null){f=r.pingCache=new Pj;var v=new Set;f.set(o,v)}else v=f.get(o),v===void 0&&(v=new Set,f.set(o,v));v.has(c)||(v.add(c),r=Wj.bind(null,r,o,c),o.then(r,r))}function Nv(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function Tv(r,o,c,f,v){return(r.mode&1)===0?(r===o?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Pr(-1,1),o.tag=2,ns(c,o,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=v,r)}var Aj=N.ReactCurrentOwner,hn=!1;function sn(r,o,c,f){o.child=r===null?Yg(o,null,c,f):Co(o,r.child,c,f)}function Pv(r,o,c,f,v){c=c.render;var x=o.ref;return Eo(o,v),f=Td(r,o,c,f,x,v),c=Pd(),r!==null&&!hn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~v,Ar(r,o,v)):(pt&&c&&fd(o),o.flags|=1,sn(r,o,f,v),o.child)}function Av(r,o,c,f,v){if(r===null){var x=c.type;return typeof x=="function"&&!af(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=x,Rv(r,o,x,f,v)):(r=Xl(c.type,null,f,o,o.mode,v),r.ref=o.ref,r.return=o,o.child=r)}if(x=r.child,(r.lanes&v)===0){var k=x.memoizedProps;if(c=c.compare,c=c!==null?c:$i,c(k,f)&&r.ref===o.ref)return Ar(r,o,v)}return o.flags|=1,r=ls(x,f),r.ref=o.ref,r.return=o,o.child=r}function Rv(r,o,c,f,v){if(r!==null){var x=r.memoizedProps;if($i(x,f)&&r.ref===o.ref)if(hn=!1,o.pendingProps=f=x,(r.lanes&v)!==0)(r.flags&131072)!==0&&(hn=!0);else return o.lanes=r.lanes,Ar(r,o,v)}return Fd(r,o,c,f,v)}function Ov(r,o,c){var f=o.pendingProps,v=f.children,x=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Ao,kn),kn|=c;else{if((c&1073741824)===0)return r=x!==null?x.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,lt(Ao,kn),kn|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:c,lt(Ao,kn),kn|=f}else x!==null?(f=x.baseLanes|c,o.memoizedState=null):f=c,lt(Ao,kn),kn|=f;return sn(r,o,v,c),o.child}function Iv(r,o){var c=o.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Fd(r,o,c,f,v){var x=fn(c)?Ns:Xt.current;return x=bo(o,x),Eo(o,v),c=Td(r,o,c,f,x,v),f=Pd(),r!==null&&!hn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~v,Ar(r,o,v)):(pt&&f&&fd(o),o.flags|=1,sn(r,o,c,v),o.child)}function Mv(r,o,c,f,v){if(fn(c)){var x=!0;Sl(o)}else x=!1;if(Eo(o,v),o.stateNode===null)Vl(r,o),_v(o,c,f),Dd(o,c,f,v),f=!0;else if(r===null){var k=o.stateNode,A=o.memoizedProps;k.props=A;var D=k.context,K=c.contextType;typeof K=="object"&&K!==null?K=In(K):(K=fn(c)?Ns:Xt.current,K=bo(o,K));var re=c.getDerivedStateFromProps,se=typeof re=="function"||typeof k.getSnapshotBeforeUpdate=="function";se||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(A!==f||D!==K)&&kv(o,k,f,K),ts=!1;var ne=o.memoizedState;k.state=ne,Al(o,f,k,v),D=o.memoizedState,A!==f||ne!==D||dn.current||ts?(typeof re=="function"&&(Md(o,c,re,f),D=o.memoizedState),(A=ts||Sv(o,c,A,f,ne,D,K))?(se||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(o.flags|=4194308)):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=D),k.props=f,k.state=D,k.context=K,f=A):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{k=o.stateNode,Xg(r,o),A=o.memoizedProps,K=o.type===o.elementType?A:qn(o.type,A),k.props=K,se=o.pendingProps,ne=k.context,D=c.contextType,typeof D=="object"&&D!==null?D=In(D):(D=fn(c)?Ns:Xt.current,D=bo(o,D));var me=c.getDerivedStateFromProps;(re=typeof me=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(A!==se||ne!==D)&&kv(o,k,f,D),ts=!1,ne=o.memoizedState,k.state=ne,Al(o,f,k,v);var ye=o.memoizedState;A!==se||ne!==ye||dn.current||ts?(typeof me=="function"&&(Md(o,c,me,f),ye=o.memoizedState),(K=ts||Sv(o,c,K,f,ne,ye,D)||!1)?(re||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(f,ye,D),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(f,ye,D)),typeof k.componentDidUpdate=="function"&&(o.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof k.componentDidUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ye),k.props=f,k.state=ye,k.context=D,f=K):(typeof k.componentDidUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(o.flags|=1024),f=!1)}return Vd(r,o,c,f,x,v)}function Vd(r,o,c,f,v,x){Iv(r,o);var k=(o.flags&128)!==0;if(!f&&!k)return v&&Vg(o,c,!1),Ar(r,o,x);f=o.stateNode,Aj.current=o;var A=k&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,r!==null&&k?(o.child=Co(o,r.child,null,x),o.child=Co(o,null,A,x)):sn(r,o,A,x),o.memoizedState=f.state,v&&Vg(o,c,!0),o.child}function Dv(r){var o=r.stateNode;o.pendingContext?$g(r,o.pendingContext,o.pendingContext!==o.context):o.context&&$g(r,o.context,!1),_d(r,o.containerInfo)}function Lv(r,o,c,f,v){return ko(),gd(v),o.flags|=256,sn(r,o,c,f),o.child}var Bd={dehydrated:null,treeContext:null,retryLane:0};function Ud(r){return{baseLanes:r,cachePool:null,transitions:null}}function $v(r,o,c){var f=o.pendingProps,v=vt.current,x=!1,k=(o.flags&128)!==0,A;if((A=k)||(A=r!==null&&r.memoizedState===null?!1:(v&2)!==0),A?(x=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(v|=1),lt(vt,v&1),r===null)return md(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((o.mode&1)===0?o.lanes=1:r.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(k=f.children,r=f.fallback,x?(f=o.mode,x=o.child,k={mode:"hidden",children:k},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=k):x=Ql(k,f,0,null),r=$s(r,f,c,null),x.return=o,r.return=o,x.sibling=r,o.child=x,o.child.memoizedState=Ud(c),o.memoizedState=Bd,r):zd(o,k));if(v=r.memoizedState,v!==null&&(A=v.dehydrated,A!==null))return Rj(r,o,k,f,A,v,c);if(x){x=f.fallback,k=o.mode,v=r.child,A=v.sibling;var D={mode:"hidden",children:f.children};return(k&1)===0&&o.child!==v?(f=o.child,f.childLanes=0,f.pendingProps=D,o.deletions=null):(f=ls(v,D),f.subtreeFlags=v.subtreeFlags&14680064),A!==null?x=ls(A,x):(x=$s(x,k,c,null),x.flags|=2),x.return=o,f.return=o,f.sibling=x,o.child=f,f=x,x=o.child,k=r.child.memoizedState,k=k===null?Ud(c):{baseLanes:k.baseLanes|c,cachePool:null,transitions:k.transitions},x.memoizedState=k,x.childLanes=r.childLanes&~c,o.memoizedState=Bd,f}return x=r.child,r=x.sibling,f=ls(x,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=c),f.return=o,f.sibling=null,r!==null&&(c=o.deletions,c===null?(o.deletions=[r],o.flags|=16):c.push(r)),o.child=f,o.memoizedState=null,f}function zd(r,o){return o=Ql({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function Fl(r,o,c,f){return f!==null&&gd(f),Co(o,r.child,null,c),r=zd(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Rj(r,o,c,f,v,x,k){if(c)return o.flags&256?(o.flags&=-257,f=Ld(Error(n(422))),Fl(r,o,k,f)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(x=f.fallback,v=o.mode,f=Ql({mode:"visible",children:f.children},v,0,null),x=$s(x,v,k,null),x.flags|=2,f.return=o,x.return=o,f.sibling=x,o.child=f,(o.mode&1)!==0&&Co(o,r.child,null,k),o.child.memoizedState=Ud(k),o.memoizedState=Bd,x);if((o.mode&1)===0)return Fl(r,o,k,null);if(v.data==="$!"){if(f=v.nextSibling&&v.nextSibling.dataset,f)var A=f.dgst;return f=A,x=Error(n(419)),f=Ld(x,f,void 0),Fl(r,o,k,f)}if(A=(k&r.childLanes)!==0,hn||A){if(f=Bt,f!==null){switch(k&-k){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(f.suspendedLanes|k))!==0?0:v,v!==0&&v!==x.retryLane&&(x.retryLane=v,Tr(r,v),Xn(f,r,v,-1))}return of(),f=Ld(Error(n(421))),Fl(r,o,k,f)}return v.data==="$?"?(o.flags|=128,o.child=r.child,o=Hj.bind(null,r),v._reactRetry=o,null):(r=x.treeContext,_n=Xr(v.nextSibling),Sn=o,pt=!0,Gn=null,r!==null&&(Rn[On++]=Er,Rn[On++]=Nr,Rn[On++]=Ts,Er=r.id,Nr=r.overflow,Ts=o),o=zd(o,f.children),o.flags|=4096,o)}function Fv(r,o,c){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),wd(r.return,o,c)}function Wd(r,o,c,f,v){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:v}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=c,x.tailMode=v)}function Vv(r,o,c){var f=o.pendingProps,v=f.revealOrder,x=f.tail;if(sn(r,o,f.children,c),f=vt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Fv(r,c,o);else if(r.tag===19)Fv(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(lt(vt,f),(o.mode&1)===0)o.memoizedState=null;else switch(v){case"forwards":for(c=o.child,v=null;c!==null;)r=c.alternate,r!==null&&Rl(r)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),Wd(o,!1,v,c,x);break;case"backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(r=v.alternate,r!==null&&Rl(r)===null){o.child=v;break}r=v.sibling,v.sibling=c,c=v,v=r}Wd(o,!0,c,null,x);break;case"together":Wd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Vl(r,o){(o.mode&1)===0&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function Ar(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),Is|=o.lanes,(c&o.childLanes)===0)return null;if(r!==null&&o.child!==r.child)throw Error(n(153));if(o.child!==null){for(r=o.child,c=ls(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=ls(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function Oj(r,o,c){switch(o.tag){case 3:Dv(o),ko();break;case 5:ev(o);break;case 1:fn(o.type)&&Sl(o);break;case 4:_d(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,v=o.memoizedProps.value;lt(Nl,f._currentValue),f._currentValue=v;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(lt(vt,vt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?$v(r,o,c):(lt(vt,vt.current&1),r=Ar(r,o,c),r!==null?r.sibling:null);lt(vt,vt.current&1);break;case 19:if(f=(c&o.childLanes)!==0,(r.flags&128)!==0){if(f)return Vv(r,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),lt(vt,vt.current),f)break;return null;case 22:case 23:return o.lanes=0,Ov(r,o,c)}return Ar(r,o,c)}var Bv,Hd,Uv,zv;Bv=function(r,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Hd=function(){},Uv=function(r,o,c,f){var v=r.memoizedProps;if(v!==f){r=o.stateNode,Rs(dr.current);var x=null;switch(c){case"input":v=kt(r,v),f=kt(r,f),x=[];break;case"select":v=X({},v,{value:void 0}),f=X({},f,{value:void 0}),x=[];break;case"textarea":v=Se(r,v),f=Se(r,f),x=[];break;default:typeof v.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=xl)}Me(c,f);var k;c=null;for(K in v)if(!f.hasOwnProperty(K)&&v.hasOwnProperty(K)&&v[K]!=null)if(K==="style"){var A=v[K];for(k in A)A.hasOwnProperty(k)&&(c||(c={}),c[k]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(i.hasOwnProperty(K)?x||(x=[]):(x=x||[]).push(K,null));for(K in f){var D=f[K];if(A=v?.[K],f.hasOwnProperty(K)&&D!==A&&(D!=null||A!=null))if(K==="style")if(A){for(k in A)!A.hasOwnProperty(k)||D&&D.hasOwnProperty(k)||(c||(c={}),c[k]="");for(k in D)D.hasOwnProperty(k)&&A[k]!==D[k]&&(c||(c={}),c[k]=D[k])}else c||(x||(x=[]),x.push(K,c)),c=D;else K==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,A=A?A.__html:void 0,D!=null&&A!==D&&(x=x||[]).push(K,D)):K==="children"?typeof D!="string"&&typeof D!="number"||(x=x||[]).push(K,""+D):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(i.hasOwnProperty(K)?(D!=null&&K==="onScroll"&&ut("scroll",r),x||A===D||(x=[])):(x=x||[]).push(K,D))}c&&(x=x||[]).push("style",c);var K=x;(o.updateQueue=K)&&(o.flags|=4)}},zv=function(r,o,c,f){c!==f&&(o.flags|=4)};function Zi(r,o){if(!pt)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Zt(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(o)for(var v=r.child;v!==null;)c|=v.lanes|v.childLanes,f|=v.subtreeFlags&14680064,f|=v.flags&14680064,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)c|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=f,r.childLanes=c,o}function Ij(r,o,c){var f=o.pendingProps;switch(hd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(o),null;case 1:return fn(o.type)&&bl(),Zt(o),null;case 3:return f=o.stateNode,No(),dt(dn),dt(Xt),jd(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(jl(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Gn!==null&&(nf(Gn),Gn=null))),Hd(r,o),Zt(o),null;case 5:kd(o);var v=Rs(qi.current);if(c=o.type,r!==null&&o.stateNode!=null)Uv(r,o,c,f,v),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Zt(o),null}if(r=Rs(dr.current),jl(o)){f=o.stateNode,c=o.type;var x=o.memoizedProps;switch(f[ur]=o,f[zi]=x,r=(o.mode&1)!==0,c){case"dialog":ut("cancel",f),ut("close",f);break;case"iframe":case"object":case"embed":ut("load",f);break;case"video":case"audio":for(v=0;v<Vi.length;v++)ut(Vi[v],f);break;case"source":ut("error",f);break;case"img":case"image":case"link":ut("error",f),ut("load",f);break;case"details":ut("toggle",f);break;case"input":Pn(f,x),ut("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},ut("invalid",f);break;case"textarea":Le(f,x),ut("invalid",f)}Me(c,x),v=null;for(var k in x)if(x.hasOwnProperty(k)){var A=x[k];k==="children"?typeof A=="string"?f.textContent!==A&&(x.suppressHydrationWarning!==!0&&yl(f.textContent,A,r),v=["children",A]):typeof A=="number"&&f.textContent!==""+A&&(x.suppressHydrationWarning!==!0&&yl(f.textContent,A,r),v=["children",""+A]):i.hasOwnProperty(k)&&A!=null&&k==="onScroll"&&ut("scroll",f)}switch(c){case"input":ft(f),xn(f,x,!0);break;case"textarea":ft(f),Ct(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=xl)}f=v,o.updateQueue=f,f!==null&&(o.flags|=4)}else{k=v.nodeType===9?v:v.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Xe(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=k.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=k.createElement(c,{is:f.is}):(r=k.createElement(c),c==="select"&&(k=r,f.multiple?k.multiple=!0:f.size&&(k.size=f.size))):r=k.createElementNS(r,c),r[ur]=o,r[zi]=f,Bv(r,o,!1,!1),o.stateNode=r;e:{switch(k=qe(c,f),c){case"dialog":ut("cancel",r),ut("close",r),v=f;break;case"iframe":case"object":case"embed":ut("load",r),v=f;break;case"video":case"audio":for(v=0;v<Vi.length;v++)ut(Vi[v],r);v=f;break;case"source":ut("error",r),v=f;break;case"img":case"image":case"link":ut("error",r),ut("load",r),v=f;break;case"details":ut("toggle",r),v=f;break;case"input":Pn(r,f),v=kt(r,f),ut("invalid",r);break;case"option":v=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},v=X({},f,{value:void 0}),ut("invalid",r);break;case"textarea":Le(r,f),v=Se(r,f),ut("invalid",r);break;default:v=f}Me(c,v),A=v;for(x in A)if(A.hasOwnProperty(x)){var D=A[x];x==="style"?Cs(r,D):x==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Ze(r,D)):x==="children"?typeof D=="string"?(c!=="textarea"||D!=="")&&jt(r,D):typeof D=="number"&&jt(r,""+D):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?D!=null&&x==="onScroll"&&ut("scroll",r):D!=null&&E(r,x,D,k))}switch(c){case"input":ft(r),xn(r,f,!1);break;case"textarea":ft(r),Ct(r);break;case"option":f.value!=null&&r.setAttribute("value",""+ue(f.value));break;case"select":r.multiple=!!f.multiple,x=f.value,x!=null?oe(r,!!f.multiple,x,!1):f.defaultValue!=null&&oe(r,!!f.multiple,f.defaultValue,!0);break;default:typeof v.onClick=="function"&&(r.onclick=xl)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Zt(o),null;case 6:if(r&&o.stateNode!=null)zv(r,o,r.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(c=Rs(qi.current),Rs(dr.current),jl(o)){if(f=o.stateNode,c=o.memoizedProps,f[ur]=o,(x=f.nodeValue!==c)&&(r=Sn,r!==null))switch(r.tag){case 3:yl(f.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&yl(f.nodeValue,c,(r.mode&1)!==0)}x&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[ur]=o,o.stateNode=f}return Zt(o),null;case 13:if(dt(vt),f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(pt&&_n!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Kg(),ko(),o.flags|=98560,x=!1;else if(x=jl(o),f!==null&&f.dehydrated!==null){if(r===null){if(!x)throw Error(n(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[ur]=o}else ko(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Zt(o),x=!1}else Gn!==null&&(nf(Gn),Gn=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(r===null||(vt.current&1)!==0?Lt===0&&(Lt=3):of())),o.updateQueue!==null&&(o.flags|=4),Zt(o),null);case 4:return No(),Hd(r,o),r===null&&Bi(o.stateNode.containerInfo),Zt(o),null;case 10:return xd(o.type._context),Zt(o),null;case 17:return fn(o.type)&&bl(),Zt(o),null;case 19:if(dt(vt),x=o.memoizedState,x===null)return Zt(o),null;if(f=(o.flags&128)!==0,k=x.rendering,k===null)if(f)Zi(x,!1);else{if(Lt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(k=Rl(r),k!==null){for(o.flags|=128,Zi(x,!1),f=k.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)x=c,r=f,x.flags&=14680066,k=x.alternate,k===null?(x.childLanes=0,x.lanes=r,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=k.childLanes,x.lanes=k.lanes,x.child=k.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=k.memoizedProps,x.memoizedState=k.memoizedState,x.updateQueue=k.updateQueue,x.type=k.type,r=k.dependencies,x.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return lt(vt,vt.current&1|2),o.child}r=r.sibling}x.tail!==null&&Nt()>Ro&&(o.flags|=128,f=!0,Zi(x,!1),o.lanes=4194304)}else{if(!f)if(r=Rl(k),r!==null){if(o.flags|=128,f=!0,c=r.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Zi(x,!0),x.tail===null&&x.tailMode==="hidden"&&!k.alternate&&!pt)return Zt(o),null}else 2*Nt()-x.renderingStartTime>Ro&&c!==1073741824&&(o.flags|=128,f=!0,Zi(x,!1),o.lanes=4194304);x.isBackwards?(k.sibling=o.child,o.child=k):(c=x.last,c!==null?c.sibling=k:o.child=k,x.last=k)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=Nt(),o.sibling=null,c=vt.current,lt(vt,f?c&1|2:c&1),o):(Zt(o),null);case 22:case 23:return sf(),f=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(kn&1073741824)!==0&&(Zt(o),o.subtreeFlags&6&&(o.flags|=8192)):Zt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function Mj(r,o){switch(hd(o),o.tag){case 1:return fn(o.type)&&bl(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return No(),dt(dn),dt(Xt),jd(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 5:return kd(o),null;case 13:if(dt(vt),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ko()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return dt(vt),null;case 4:return No(),null;case 10:return xd(o.type._context),null;case 22:case 23:return sf(),null;case 24:return null;default:return null}}var Bl=!1,en=!1,Dj=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Po(r,o){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){St(r,o,f)}else c.current=null}function Kd(r,o,c){try{c()}catch(f){St(r,o,f)}}var Wv=!1;function Lj(r,o){if(sd=al,r=Sg(),Ju(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var v=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var k=0,A=-1,D=-1,K=0,re=0,se=r,ne=null;t:for(;;){for(var me;se!==c||v!==0&&se.nodeType!==3||(A=k+v),se!==x||f!==0&&se.nodeType!==3||(D=k+f),se.nodeType===3&&(k+=se.nodeValue.length),(me=se.firstChild)!==null;)ne=se,se=me;for(;;){if(se===r)break t;if(ne===c&&++K===v&&(A=k),ne===x&&++re===f&&(D=k),(me=se.nextSibling)!==null)break;se=ne,ne=se.parentNode}se=me}c=A===-1||D===-1?null:{start:A,end:D}}else c=null}c=c||{start:0,end:0}}else c=null;for(od={focusedElem:r,selectionRange:c},al=!1,ve=o;ve!==null;)if(o=ve,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,ve=r;else for(;ve!==null;){o=ve;try{var ye=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ke=ye.memoizedProps,Tt=ye.memoizedState,B=o.stateNode,F=B.getSnapshotBeforeUpdate(o.elementType===o.type?ke:qn(o.type,ke),Tt);B.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var U=o.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){St(o,o.return,le)}if(r=o.sibling,r!==null){r.return=o.return,ve=r;break}ve=o.return}return ye=Wv,Wv=!1,ye}function ea(r,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&r)===r){var x=v.destroy;v.destroy=void 0,x!==void 0&&Kd(o,c,x)}v=v.next}while(v!==f)}}function Ul(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&r)===r){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function Gd(r){var o=r.ref;if(o!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof o=="function"?o(r):o.current=r}}function Hv(r){var o=r.alternate;o!==null&&(r.alternate=null,Hv(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[ur],delete o[zi],delete o[cd],delete o[xj],delete o[wj])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Kv(r){return r.tag===5||r.tag===3||r.tag===4}function Gv(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Kv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function qd(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(r,o):c.insertBefore(r,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(r,c)):(o=c,o.appendChild(r)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=xl));else if(f!==4&&(r=r.child,r!==null))for(qd(r,o,c),r=r.sibling;r!==null;)qd(r,o,c),r=r.sibling}function Yd(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(Yd(r,o,c),r=r.sibling;r!==null;)Yd(r,o,c),r=r.sibling}var Kt=null,Yn=!1;function rs(r,o,c){for(c=c.child;c!==null;)qv(r,o,c),c=c.sibling}function qv(r,o,c){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(tl,c)}catch{}switch(c.tag){case 5:en||Po(c,o);case 6:var f=Kt,v=Yn;Kt=null,rs(r,o,c),Kt=f,Yn=v,Kt!==null&&(Yn?(r=Kt,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):Kt.removeChild(c.stateNode));break;case 18:Kt!==null&&(Yn?(r=Kt,c=c.stateNode,r.nodeType===8?ld(r.parentNode,c):r.nodeType===1&&ld(r,c),Ri(r)):ld(Kt,c.stateNode));break;case 4:f=Kt,v=Yn,Kt=c.stateNode.containerInfo,Yn=!0,rs(r,o,c),Kt=f,Yn=v;break;case 0:case 11:case 14:case 15:if(!en&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){v=f=f.next;do{var x=v,k=x.destroy;x=x.tag,k!==void 0&&((x&2)!==0||(x&4)!==0)&&Kd(c,o,k),v=v.next}while(v!==f)}rs(r,o,c);break;case 1:if(!en&&(Po(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(A){St(c,o,A)}rs(r,o,c);break;case 21:rs(r,o,c);break;case 22:c.mode&1?(en=(f=en)||c.memoizedState!==null,rs(r,o,c),en=f):rs(r,o,c);break;default:rs(r,o,c)}}function Yv(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new Dj),o.forEach(function(f){var v=Kj.bind(null,r,f);c.has(f)||(c.add(f),f.then(v,v))})}}function Jn(r,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var v=c[f];try{var x=r,k=o,A=k;e:for(;A!==null;){switch(A.tag){case 5:Kt=A.stateNode,Yn=!1;break e;case 3:Kt=A.stateNode.containerInfo,Yn=!0;break e;case 4:Kt=A.stateNode.containerInfo,Yn=!0;break e}A=A.return}if(Kt===null)throw Error(n(160));qv(x,k,v),Kt=null,Yn=!1;var D=v.alternate;D!==null&&(D.return=null),v.return=null}catch(K){St(v,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Jv(o,r),o=o.sibling}function Jv(r,o){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Jn(o,r),hr(r),f&4){try{ea(3,r,r.return),Ul(3,r)}catch(ke){St(r,r.return,ke)}try{ea(5,r,r.return)}catch(ke){St(r,r.return,ke)}}break;case 1:Jn(o,r),hr(r),f&512&&c!==null&&Po(c,c.return);break;case 5:if(Jn(o,r),hr(r),f&512&&c!==null&&Po(c,c.return),r.flags&32){var v=r.stateNode;try{jt(v,"")}catch(ke){St(r,r.return,ke)}}if(f&4&&(v=r.stateNode,v!=null)){var x=r.memoizedProps,k=c!==null?c.memoizedProps:x,A=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{A==="input"&&x.type==="radio"&&x.name!=null&&Jt(v,x),qe(A,k);var K=qe(A,x);for(k=0;k<D.length;k+=2){var re=D[k],se=D[k+1];re==="style"?Cs(v,se):re==="dangerouslySetInnerHTML"?Ze(v,se):re==="children"?jt(v,se):E(v,re,se,K)}switch(A){case"input":It(v,x);break;case"textarea":Ye(v,x);break;case"select":var ne=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!x.multiple;var me=x.value;me!=null?oe(v,!!x.multiple,me,!1):ne!==!!x.multiple&&(x.defaultValue!=null?oe(v,!!x.multiple,x.defaultValue,!0):oe(v,!!x.multiple,x.multiple?[]:"",!1))}v[zi]=x}catch(ke){St(r,r.return,ke)}}break;case 6:if(Jn(o,r),hr(r),f&4){if(r.stateNode===null)throw Error(n(162));v=r.stateNode,x=r.memoizedProps;try{v.nodeValue=x}catch(ke){St(r,r.return,ke)}}break;case 3:if(Jn(o,r),hr(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Ri(o.containerInfo)}catch(ke){St(r,r.return,ke)}break;case 4:Jn(o,r),hr(r);break;case 13:Jn(o,r),hr(r),v=r.child,v.flags&8192&&(x=v.memoizedState!==null,v.stateNode.isHidden=x,!x||v.alternate!==null&&v.alternate.memoizedState!==null||(Qd=Nt())),f&4&&Yv(r);break;case 22:if(re=c!==null&&c.memoizedState!==null,r.mode&1?(en=(K=en)||re,Jn(o,r),en=K):Jn(o,r),hr(r),f&8192){if(K=r.memoizedState!==null,(r.stateNode.isHidden=K)&&!re&&(r.mode&1)!==0)for(ve=r,re=r.child;re!==null;){for(se=ve=re;ve!==null;){switch(ne=ve,me=ne.child,ne.tag){case 0:case 11:case 14:case 15:ea(4,ne,ne.return);break;case 1:Po(ne,ne.return);var ye=ne.stateNode;if(typeof ye.componentWillUnmount=="function"){f=ne,c=ne.return;try{o=f,ye.props=o.memoizedProps,ye.state=o.memoizedState,ye.componentWillUnmount()}catch(ke){St(f,c,ke)}}break;case 5:Po(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Zv(se);continue}}me!==null?(me.return=ne,ve=me):Zv(se)}re=re.sibling}e:for(re=null,se=r;;){if(se.tag===5){if(re===null){re=se;try{v=se.stateNode,K?(x=v.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(A=se.stateNode,D=se.memoizedProps.style,k=D!=null&&D.hasOwnProperty("display")?D.display:null,A.style.display=uo("display",k))}catch(ke){St(r,r.return,ke)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=K?"":se.memoizedProps}catch(ke){St(r,r.return,ke)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===r)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===r)break e;for(;se.sibling===null;){if(se.return===null||se.return===r)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Jn(o,r),hr(r),f&4&&Yv(r);break;case 21:break;default:Jn(o,r),hr(r)}}function hr(r){var o=r.flags;if(o&2){try{e:{for(var c=r.return;c!==null;){if(Kv(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var v=f.stateNode;f.flags&32&&(jt(v,""),f.flags&=-33);var x=Gv(r);Yd(r,x,v);break;case 3:case 4:var k=f.stateNode.containerInfo,A=Gv(r);qd(r,A,k);break;default:throw Error(n(161))}}catch(D){St(r,r.return,D)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function $j(r,o,c){ve=r,Xv(r)}function Xv(r,o,c){for(var f=(r.mode&1)!==0;ve!==null;){var v=ve,x=v.child;if(v.tag===22&&f){var k=v.memoizedState!==null||Bl;if(!k){var A=v.alternate,D=A!==null&&A.memoizedState!==null||en;A=Bl;var K=en;if(Bl=k,(en=D)&&!K)for(ve=v;ve!==null;)k=ve,D=k.child,k.tag===22&&k.memoizedState!==null?ey(v):D!==null?(D.return=k,ve=D):ey(v);for(;x!==null;)ve=x,Xv(x),x=x.sibling;ve=v,Bl=A,en=K}Qv(r)}else(v.subtreeFlags&8772)!==0&&x!==null?(x.return=v,ve=x):Qv(r)}}function Qv(r){for(;ve!==null;){var o=ve;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:en||Ul(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!en)if(c===null)f.componentDidMount();else{var v=o.elementType===o.type?c.memoizedProps:qn(o.type,c.memoizedProps);f.componentDidUpdate(v,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&Zg(o,x,f);break;case 3:var k=o.updateQueue;if(k!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Zg(o,k,c)}break;case 5:var A=o.stateNode;if(c===null&&o.flags&4){c=A;var D=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&c.focus();break;case"img":D.src&&(c.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var re=K.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&Ri(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}en||o.flags&512&&Gd(o)}catch(ne){St(o,o.return,ne)}}if(o===r){ve=null;break}if(c=o.sibling,c!==null){c.return=o.return,ve=c;break}ve=o.return}}function Zv(r){for(;ve!==null;){var o=ve;if(o===r){ve=null;break}var c=o.sibling;if(c!==null){c.return=o.return,ve=c;break}ve=o.return}}function ey(r){for(;ve!==null;){var o=ve;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Ul(4,o)}catch(D){St(o,c,D)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var v=o.return;try{f.componentDidMount()}catch(D){St(o,v,D)}}var x=o.return;try{Gd(o)}catch(D){St(o,x,D)}break;case 5:var k=o.return;try{Gd(o)}catch(D){St(o,k,D)}}}catch(D){St(o,o.return,D)}if(o===r){ve=null;break}var A=o.sibling;if(A!==null){A.return=o.return,ve=A;break}ve=o.return}}var Fj=Math.ceil,zl=N.ReactCurrentDispatcher,Jd=N.ReactCurrentOwner,Dn=N.ReactCurrentBatchConfig,tt=0,Bt=null,At=null,Gt=0,kn=0,Ao=Qr(0),Lt=0,ta=null,Is=0,Wl=0,Xd=0,na=null,pn=null,Qd=0,Ro=1/0,Rr=null,Hl=!1,Zd=null,ss=null,Kl=!1,os=null,Gl=0,ra=0,ef=null,ql=-1,Yl=0;function on(){return(tt&6)!==0?Nt():ql!==-1?ql:ql=Nt()}function is(r){return(r.mode&1)===0?1:(tt&2)!==0&&Gt!==0?Gt&-Gt:Sj.transition!==null?(Yl===0&&(Yl=Gm()),Yl):(r=it,r!==0||(r=window.event,r=r===void 0?16:ng(r.type)),r)}function Xn(r,o,c,f){if(50<ra)throw ra=0,ef=null,Error(n(185));Ei(r,c,f),((tt&2)===0||r!==Bt)&&(r===Bt&&((tt&2)===0&&(Wl|=c),Lt===4&&as(r,Gt)),mn(r,f),c===1&&tt===0&&(o.mode&1)===0&&(Ro=Nt()+500,_l&&es()))}function mn(r,o){var c=r.callbackNode;SC(r,o);var f=sl(r,r===Bt?Gt:0);if(f===0)c!==null&&Wm(c),r.callbackNode=null,r.callbackPriority=0;else if(o=f&-f,r.callbackPriority!==o){if(c!=null&&Wm(c),o===1)r.tag===0?bj(ny.bind(null,r)):Bg(ny.bind(null,r)),vj(function(){(tt&6)===0&&es()}),c=null;else{switch(qm(f)){case 1:c=Ou;break;case 4:c=Hm;break;case 16:c=el;break;case 536870912:c=Km;break;default:c=el}c=uy(c,ty.bind(null,r))}r.callbackPriority=o,r.callbackNode=c}}function ty(r,o){if(ql=-1,Yl=0,(tt&6)!==0)throw Error(n(327));var c=r.callbackNode;if(Oo()&&r.callbackNode!==c)return null;var f=sl(r,r===Bt?Gt:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||o)o=Jl(r,f);else{o=f;var v=tt;tt|=2;var x=sy();(Bt!==r||Gt!==o)&&(Rr=null,Ro=Nt()+500,Ds(r,o));do try{Uj();break}catch(A){ry(r,A)}while(!0);yd(),zl.current=x,tt=v,At!==null?o=0:(Bt=null,Gt=0,o=Lt)}if(o!==0){if(o===2&&(v=Iu(r),v!==0&&(f=v,o=tf(r,v))),o===1)throw c=ta,Ds(r,0),as(r,f),mn(r,Nt()),c;if(o===6)as(r,f);else{if(v=r.current.alternate,(f&30)===0&&!Vj(v)&&(o=Jl(r,f),o===2&&(x=Iu(r),x!==0&&(f=x,o=tf(r,x))),o===1))throw c=ta,Ds(r,0),as(r,f),mn(r,Nt()),c;switch(r.finishedWork=v,r.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:Ls(r,pn,Rr);break;case 3:if(as(r,f),(f&130023424)===f&&(o=Qd+500-Nt(),10<o)){if(sl(r,0)!==0)break;if(v=r.suspendedLanes,(v&f)!==f){on(),r.pingedLanes|=r.suspendedLanes&v;break}r.timeoutHandle=ad(Ls.bind(null,r,pn,Rr),o);break}Ls(r,pn,Rr);break;case 4:if(as(r,f),(f&4194240)===f)break;for(o=r.eventTimes,v=-1;0<f;){var k=31-Hn(f);x=1<<k,k=o[k],k>v&&(v=k),f&=~x}if(f=v,f=Nt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Fj(f/1960))-f,10<f){r.timeoutHandle=ad(Ls.bind(null,r,pn,Rr),f);break}Ls(r,pn,Rr);break;case 5:Ls(r,pn,Rr);break;default:throw Error(n(329))}}}return mn(r,Nt()),r.callbackNode===c?ty.bind(null,r):null}function tf(r,o){var c=na;return r.current.memoizedState.isDehydrated&&(Ds(r,o).flags|=256),r=Jl(r,o),r!==2&&(o=pn,pn=c,o!==null&&nf(o)),r}function nf(r){pn===null?pn=r:pn.push.apply(pn,r)}function Vj(r){for(var o=r;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var v=c[f],x=v.getSnapshot;v=v.value;try{if(!Kn(x(),v))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function as(r,o){for(o&=~Xd,o&=~Wl,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var c=31-Hn(o),f=1<<c;r[c]=-1,o&=~f}}function ny(r){if((tt&6)!==0)throw Error(n(327));Oo();var o=sl(r,0);if((o&1)===0)return mn(r,Nt()),null;var c=Jl(r,o);if(r.tag!==0&&c===2){var f=Iu(r);f!==0&&(o=f,c=tf(r,f))}if(c===1)throw c=ta,Ds(r,0),as(r,o),mn(r,Nt()),c;if(c===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,Ls(r,pn,Rr),mn(r,Nt()),null}function rf(r,o){var c=tt;tt|=1;try{return r(o)}finally{tt=c,tt===0&&(Ro=Nt()+500,_l&&es())}}function Ms(r){os!==null&&os.tag===0&&(tt&6)===0&&Oo();var o=tt;tt|=1;var c=Dn.transition,f=it;try{if(Dn.transition=null,it=1,r)return r()}finally{it=f,Dn.transition=c,tt=o,(tt&6)===0&&es()}}function sf(){kn=Ao.current,dt(Ao)}function Ds(r,o){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,gj(c)),At!==null)for(c=At.return;c!==null;){var f=c;switch(hd(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&bl();break;case 3:No(),dt(dn),dt(Xt),jd();break;case 5:kd(f);break;case 4:No();break;case 13:dt(vt);break;case 19:dt(vt);break;case 10:xd(f.type._context);break;case 22:case 23:sf()}c=c.return}if(Bt=r,At=r=ls(r.current,null),Gt=kn=o,Lt=0,ta=null,Xd=Wl=Is=0,pn=na=null,As!==null){for(o=0;o<As.length;o++)if(c=As[o],f=c.interleaved,f!==null){c.interleaved=null;var v=f.next,x=c.pending;if(x!==null){var k=x.next;x.next=v,f.next=k}c.pending=f}As=null}return r}function ry(r,o){do{var c=At;try{if(yd(),Ol.current=Ll,Il){for(var f=yt.memoizedState;f!==null;){var v=f.queue;v!==null&&(v.pending=null),f=f.next}Il=!1}if(Os=0,Vt=Dt=yt=null,Yi=!1,Ji=0,Jd.current=null,c===null||c.return===null){Lt=1,ta=o,At=null;break}e:{var x=r,k=c.return,A=c,D=o;if(o=Gt,A.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=D,re=A,se=re.tag;if((re.mode&1)===0&&(se===0||se===11||se===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var me=Nv(k);if(me!==null){me.flags&=-257,Tv(me,k,A,x,o),me.mode&1&&Ev(x,K,o),o=me,D=K;var ye=o.updateQueue;if(ye===null){var ke=new Set;ke.add(D),o.updateQueue=ke}else ye.add(D);break e}else{if((o&1)===0){Ev(x,K,o),of();break e}D=Error(n(426))}}else if(pt&&A.mode&1){var Tt=Nv(k);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),Tv(Tt,k,A,x,o),gd(To(D,A));break e}}x=D=To(D,A),Lt!==4&&(Lt=2),na===null?na=[x]:na.push(x),x=k;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var B=Cv(x,D,o);Qg(x,B);break e;case 1:A=D;var F=x.type,U=x.stateNode;if((x.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(ss===null||!ss.has(U)))){x.flags|=65536,o&=-o,x.lanes|=o;var le=jv(x,A,o);Qg(x,le);break e}}x=x.return}while(x!==null)}iy(c)}catch(je){o=je,At===c&&c!==null&&(At=c=c.return);continue}break}while(!0)}function sy(){var r=zl.current;return zl.current=Ll,r===null?Ll:r}function of(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Bt===null||(Is&268435455)===0&&(Wl&268435455)===0||as(Bt,Gt)}function Jl(r,o){var c=tt;tt|=2;var f=sy();(Bt!==r||Gt!==o)&&(Rr=null,Ds(r,o));do try{Bj();break}catch(v){ry(r,v)}while(!0);if(yd(),tt=c,zl.current=f,At!==null)throw Error(n(261));return Bt=null,Gt=0,Lt}function Bj(){for(;At!==null;)oy(At)}function Uj(){for(;At!==null&&!hC();)oy(At)}function oy(r){var o=cy(r.alternate,r,kn);r.memoizedProps=r.pendingProps,o===null?iy(r):At=o,Jd.current=null}function iy(r){var o=r;do{var c=o.alternate;if(r=o.return,(o.flags&32768)===0){if(c=Ij(c,o,kn),c!==null){At=c;return}}else{if(c=Mj(c,o),c!==null){c.flags&=32767,At=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Lt=6,At=null;return}}if(o=o.sibling,o!==null){At=o;return}At=o=r}while(o!==null);Lt===0&&(Lt=5)}function Ls(r,o,c){var f=it,v=Dn.transition;try{Dn.transition=null,it=1,zj(r,o,c,f)}finally{Dn.transition=v,it=f}return null}function zj(r,o,c,f){do Oo();while(os!==null);if((tt&6)!==0)throw Error(n(327));c=r.finishedWork;var v=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var x=c.lanes|c.childLanes;if(_C(r,x),r===Bt&&(At=Bt=null,Gt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Kl||(Kl=!0,uy(el,function(){return Oo(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=Dn.transition,Dn.transition=null;var k=it;it=1;var A=tt;tt|=4,Jd.current=null,Lj(r,c),Jv(c,r),cj(od),al=!!sd,od=sd=null,r.current=c,$j(c),pC(),tt=A,it=k,Dn.transition=x}else r.current=c;if(Kl&&(Kl=!1,os=r,Gl=v),x=r.pendingLanes,x===0&&(ss=null),vC(c.stateNode),mn(r,Nt()),o!==null)for(f=r.onRecoverableError,c=0;c<o.length;c++)v=o[c],f(v.value,{componentStack:v.stack,digest:v.digest});if(Hl)throw Hl=!1,r=Zd,Zd=null,r;return(Gl&1)!==0&&r.tag!==0&&Oo(),x=r.pendingLanes,(x&1)!==0?r===ef?ra++:(ra=0,ef=r):ra=0,es(),null}function Oo(){if(os!==null){var r=qm(Gl),o=Dn.transition,c=it;try{if(Dn.transition=null,it=16>r?16:r,os===null)var f=!1;else{if(r=os,os=null,Gl=0,(tt&6)!==0)throw Error(n(331));var v=tt;for(tt|=4,ve=r.current;ve!==null;){var x=ve,k=x.child;if((ve.flags&16)!==0){var A=x.deletions;if(A!==null){for(var D=0;D<A.length;D++){var K=A[D];for(ve=K;ve!==null;){var re=ve;switch(re.tag){case 0:case 11:case 15:ea(8,re,x)}var se=re.child;if(se!==null)se.return=re,ve=se;else for(;ve!==null;){re=ve;var ne=re.sibling,me=re.return;if(Hv(re),re===K){ve=null;break}if(ne!==null){ne.return=me,ve=ne;break}ve=me}}}var ye=x.alternate;if(ye!==null){var ke=ye.child;if(ke!==null){ye.child=null;do{var Tt=ke.sibling;ke.sibling=null,ke=Tt}while(ke!==null)}}ve=x}}if((x.subtreeFlags&2064)!==0&&k!==null)k.return=x,ve=k;else e:for(;ve!==null;){if(x=ve,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:ea(9,x,x.return)}var B=x.sibling;if(B!==null){B.return=x.return,ve=B;break e}ve=x.return}}var F=r.current;for(ve=F;ve!==null;){k=ve;var U=k.child;if((k.subtreeFlags&2064)!==0&&U!==null)U.return=k,ve=U;else e:for(k=F;ve!==null;){if(A=ve,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Ul(9,A)}}catch(je){St(A,A.return,je)}if(A===k){ve=null;break e}var le=A.sibling;if(le!==null){le.return=A.return,ve=le;break e}ve=A.return}}if(tt=v,es(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(tl,r)}catch{}f=!0}return f}finally{it=c,Dn.transition=o}}return!1}function ay(r,o,c){o=To(c,o),o=Cv(r,o,1),r=ns(r,o,1),o=on(),r!==null&&(Ei(r,1,o),mn(r,o))}function St(r,o,c){if(r.tag===3)ay(r,r,c);else for(;o!==null;){if(o.tag===3){ay(o,r,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ss===null||!ss.has(f))){r=To(c,r),r=jv(o,r,1),o=ns(o,r,1),r=on(),o!==null&&(Ei(o,1,r),mn(o,r));break}}o=o.return}}function Wj(r,o,c){var f=r.pingCache;f!==null&&f.delete(o),o=on(),r.pingedLanes|=r.suspendedLanes&c,Bt===r&&(Gt&c)===c&&(Lt===4||Lt===3&&(Gt&130023424)===Gt&&500>Nt()-Qd?Ds(r,0):Xd|=c),mn(r,o)}function ly(r,o){o===0&&((r.mode&1)===0?o=1:(o=rl,rl<<=1,(rl&130023424)===0&&(rl=4194304)));var c=on();r=Tr(r,o),r!==null&&(Ei(r,o,c),mn(r,c))}function Hj(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),ly(r,c)}function Kj(r,o){var c=0;switch(r.tag){case 13:var f=r.stateNode,v=r.memoizedState;v!==null&&(c=v.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),ly(r,c)}var cy;cy=function(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps||dn.current)hn=!0;else{if((r.lanes&c)===0&&(o.flags&128)===0)return hn=!1,Oj(r,o,c);hn=(r.flags&131072)!==0}else hn=!1,pt&&(o.flags&1048576)!==0&&Ug(o,Cl,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Vl(r,o),r=o.pendingProps;var v=bo(o,Xt.current);Eo(o,c),v=Td(null,o,f,r,v,c);var x=Pd();return o.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,fn(f)?(x=!0,Sl(o)):x=!1,o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Sd(o),v.updater=$l,o.stateNode=v,v._reactInternals=o,Dd(o,f,r,c),o=Vd(null,o,f,!0,x,c)):(o.tag=0,pt&&x&&fd(o),sn(null,o,v,c),o=o.child),o;case 16:f=o.elementType;e:{switch(Vl(r,o),r=o.pendingProps,v=f._init,f=v(f._payload),o.type=f,v=o.tag=qj(f),r=qn(f,r),v){case 0:o=Fd(null,o,f,r,c);break e;case 1:o=Mv(null,o,f,r,c);break e;case 11:o=Pv(null,o,f,r,c);break e;case 14:o=Av(null,o,f,qn(f.type,r),c);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,v=o.pendingProps,v=o.elementType===f?v:qn(f,v),Fd(r,o,f,v,c);case 1:return f=o.type,v=o.pendingProps,v=o.elementType===f?v:qn(f,v),Mv(r,o,f,v,c);case 3:e:{if(Dv(o),r===null)throw Error(n(387));f=o.pendingProps,x=o.memoizedState,v=x.element,Xg(r,o),Al(o,f,null,c);var k=o.memoizedState;if(f=k.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){v=To(Error(n(423)),o),o=Lv(r,o,f,c,v);break e}else if(f!==v){v=To(Error(n(424)),o),o=Lv(r,o,f,c,v);break e}else for(_n=Xr(o.stateNode.containerInfo.firstChild),Sn=o,pt=!0,Gn=null,c=Yg(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ko(),f===v){o=Ar(r,o,c);break e}sn(r,o,f,c)}o=o.child}return o;case 5:return ev(o),r===null&&md(o),f=o.type,v=o.pendingProps,x=r!==null?r.memoizedProps:null,k=v.children,id(f,v)?k=null:x!==null&&id(f,x)&&(o.flags|=32),Iv(r,o),sn(r,o,k,c),o.child;case 6:return r===null&&md(o),null;case 13:return $v(r,o,c);case 4:return _d(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=Co(o,null,f,c):sn(r,o,f,c),o.child;case 11:return f=o.type,v=o.pendingProps,v=o.elementType===f?v:qn(f,v),Pv(r,o,f,v,c);case 7:return sn(r,o,o.pendingProps,c),o.child;case 8:return sn(r,o,o.pendingProps.children,c),o.child;case 12:return sn(r,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,v=o.pendingProps,x=o.memoizedProps,k=v.value,lt(Nl,f._currentValue),f._currentValue=k,x!==null)if(Kn(x.value,k)){if(x.children===v.children&&!dn.current){o=Ar(r,o,c);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var A=x.dependencies;if(A!==null){k=x.child;for(var D=A.firstContext;D!==null;){if(D.context===f){if(x.tag===1){D=Pr(-1,c&-c),D.tag=2;var K=x.updateQueue;if(K!==null){K=K.shared;var re=K.pending;re===null?D.next=D:(D.next=re.next,re.next=D),K.pending=D}}x.lanes|=c,D=x.alternate,D!==null&&(D.lanes|=c),wd(x.return,c,o),A.lanes|=c;break}D=D.next}}else if(x.tag===10)k=x.type===o.type?null:x.child;else if(x.tag===18){if(k=x.return,k===null)throw Error(n(341));k.lanes|=c,A=k.alternate,A!==null&&(A.lanes|=c),wd(k,c,o),k=x.sibling}else k=x.child;if(k!==null)k.return=x;else for(k=x;k!==null;){if(k===o){k=null;break}if(x=k.sibling,x!==null){x.return=k.return,k=x;break}k=k.return}x=k}sn(r,o,v.children,c),o=o.child}return o;case 9:return v=o.type,f=o.pendingProps.children,Eo(o,c),v=In(v),f=f(v),o.flags|=1,sn(r,o,f,c),o.child;case 14:return f=o.type,v=qn(f,o.pendingProps),v=qn(f.type,v),Av(r,o,f,v,c);case 15:return Rv(r,o,o.type,o.pendingProps,c);case 17:return f=o.type,v=o.pendingProps,v=o.elementType===f?v:qn(f,v),Vl(r,o),o.tag=1,fn(f)?(r=!0,Sl(o)):r=!1,Eo(o,c),_v(o,f,v),Dd(o,f,v,c),Vd(null,o,f,!0,r,c);case 19:return Vv(r,o,c);case 22:return Ov(r,o,c)}throw Error(n(156,o.tag))};function uy(r,o){return zm(r,o)}function Gj(r,o,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(r,o,c,f){return new Gj(r,o,c,f)}function af(r){return r=r.prototype,!(!r||!r.isReactComponent)}function qj(r){if(typeof r=="function")return af(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Z)return 11;if(r===be)return 14}return 2}function ls(r,o){var c=r.alternate;return c===null?(c=Ln(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function Xl(r,o,c,f,v,x){var k=2;if(f=r,typeof r=="function")af(r)&&(k=1);else if(typeof r=="string")k=5;else e:switch(r){case $:return $s(c.children,v,x,o);case M:k=8,v|=8;break;case V:return r=Ln(12,c,o,v|2),r.elementType=V,r.lanes=x,r;case ie:return r=Ln(13,c,o,v),r.elementType=ie,r.lanes=x,r;case he:return r=Ln(19,c,o,v),r.elementType=he,r.lanes=x,r;case J:return Ql(c,v,x,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case H:k=10;break e;case Q:k=9;break e;case Z:k=11;break e;case be:k=14;break e;case z:k=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return o=Ln(k,c,o,v),o.elementType=r,o.type=f,o.lanes=x,o}function $s(r,o,c,f){return r=Ln(7,r,f,o),r.lanes=c,r}function Ql(r,o,c,f){return r=Ln(22,r,f,o),r.elementType=J,r.lanes=c,r.stateNode={isHidden:!1},r}function lf(r,o,c){return r=Ln(6,r,null,o),r.lanes=c,r}function cf(r,o,c){return o=Ln(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function Yj(r,o,c,f,v){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mu(0),this.expirationTimes=Mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mu(0),this.identifierPrefix=f,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function uf(r,o,c,f,v,x,k,A,D){return r=new Yj(r,o,c,A,D),o===1?(o=1,x===!0&&(o|=8)):o=0,x=Ln(3,null,null,o),r.current=x,x.stateNode=r,x.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sd(x),r}function Jj(r,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:f==null?null:""+f,children:r,containerInfo:o,implementation:c}}function dy(r){if(!r)return Zr;r=r._reactInternals;e:{if(js(r)!==r||r.tag!==1)throw Error(n(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(fn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(r.tag===1){var c=r.type;if(fn(c))return Fg(r,c,o)}return o}function fy(r,o,c,f,v,x,k,A,D){return r=uf(c,f,!0,r,v,x,k,A,D),r.context=dy(null),c=r.current,f=on(),v=is(c),x=Pr(f,v),x.callback=o??null,ns(c,x,v),r.current.lanes=v,Ei(r,v,f),mn(r,f),r}function Zl(r,o,c,f){var v=o.current,x=on(),k=is(v);return c=dy(c),o.context===null?o.context=c:o.pendingContext=c,o=Pr(x,k),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=ns(v,o,k),r!==null&&(Xn(r,v,k,x),Pl(r,v,k)),k}function ec(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function hy(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function df(r,o){hy(r,o),(r=r.alternate)&&hy(r,o)}function Xj(){return null}var py=typeof reportError=="function"?reportError:function(r){console.error(r)};function ff(r){this._internalRoot=r}tc.prototype.render=ff.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(n(409));Zl(r,o,null,null)},tc.prototype.unmount=ff.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Ms(function(){Zl(null,r,null,null)}),o[Cr]=null}};function tc(r){this._internalRoot=r}tc.prototype.unstable_scheduleHydration=function(r){if(r){var o=Xm();r={blockedOn:null,target:r,priority:o};for(var c=0;c<qr.length&&o!==0&&o<qr[c].priority;c++);qr.splice(c,0,r),c===0&&eg(r)}};function hf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function nc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function my(){}function Qj(r,o,c,f,v){if(v){if(typeof f=="function"){var x=f;f=function(){var K=ec(k);x.call(K)}}var k=fy(o,f,r,0,null,!1,!1,"",my);return r._reactRootContainer=k,r[Cr]=k.current,Bi(r.nodeType===8?r.parentNode:r),Ms(),k}for(;v=r.lastChild;)r.removeChild(v);if(typeof f=="function"){var A=f;f=function(){var K=ec(D);A.call(K)}}var D=uf(r,0,!1,null,null,!1,!1,"",my);return r._reactRootContainer=D,r[Cr]=D.current,Bi(r.nodeType===8?r.parentNode:r),Ms(function(){Zl(o,D,c,f)}),D}function rc(r,o,c,f,v){var x=c._reactRootContainer;if(x){var k=x;if(typeof v=="function"){var A=v;v=function(){var D=ec(k);A.call(D)}}Zl(o,k,r,v)}else k=Qj(c,o,r,v,f);return ec(k)}Ym=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var c=ji(o.pendingLanes);c!==0&&(Du(o,c|1),mn(o,Nt()),(tt&6)===0&&(Ro=Nt()+500,es()))}break;case 13:Ms(function(){var f=Tr(r,1);if(f!==null){var v=on();Xn(f,r,1,v)}}),df(r,1)}},Lu=function(r){if(r.tag===13){var o=Tr(r,134217728);if(o!==null){var c=on();Xn(o,r,134217728,c)}df(r,134217728)}},Jm=function(r){if(r.tag===13){var o=is(r),c=Tr(r,o);if(c!==null){var f=on();Xn(c,r,o,f)}df(r,o)}},Xm=function(){return it},Qm=function(r,o){var c=it;try{return it=r,o()}finally{it=c}},Ve=function(r,o,c){switch(o){case"input":if(It(r,c),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==r&&f.form===r.form){var v=wl(f);if(!v)throw Error(n(90));ge(f),It(f,v)}}}break;case"textarea":Ye(r,c);break;case"select":o=c.value,o!=null&&oe(r,!!c.multiple,o,!1)}},Be=rf,et=Ms;var Zj={usingClientEntryPoint:!1,Events:[Wi,xo,wl,de,Ae,rf]},sa={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eE={bundleType:sa.bundleType,version:sa.version,rendererPackageName:sa.rendererPackageName,rendererConfig:sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Bm(r),r===null?null:r.stateNode},findFiberByHostInstance:sa.findFiberByHostInstance||Xj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{tl=sc.inject(eE),cr=sc}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zj,gn.createPortal=function(r,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(o))throw Error(n(200));return Jj(r,o,null,c)},gn.createRoot=function(r,o){if(!hf(r))throw Error(n(299));var c=!1,f="",v=py;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=uf(r,1,!1,null,null,c,!1,f,v),r[Cr]=o.current,Bi(r.nodeType===8?r.parentNode:r),new ff(o)},gn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Bm(o),r=r===null?null:r.stateNode,r},gn.flushSync=function(r){return Ms(r)},gn.hydrate=function(r,o,c){if(!nc(o))throw Error(n(200));return rc(null,r,o,!0,c)},gn.hydrateRoot=function(r,o,c){if(!hf(r))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,v=!1,x="",k=py;if(c!=null&&(c.unstable_strictMode===!0&&(v=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),o=fy(o,null,r,1,c??null,v,!1,x,k),r[Cr]=o.current,Bi(r),f)for(r=0;r<f.length;r++)c=f[r],v=c._getVersion,v=v(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,v]:o.mutableSourceEagerHydrationData.push(c,v);return new tc(o)},gn.render=function(r,o,c){if(!nc(o))throw Error(n(200));return rc(null,r,o,!1,c)},gn.unmountComponentAtNode=function(r){if(!nc(r))throw Error(n(40));return r._reactRootContainer?(Ms(function(){rc(null,null,r,!1,function(){r._reactRootContainer=null,r[Cr]=null})}),!0):!1},gn.unstable_batchedUpdates=rf,gn.unstable_renderSubtreeIntoContainer=function(r,o,c,f){if(!nc(c))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return rc(r,o,c,!1,f)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var _y;function hw(){if(_y)return gf.exports;_y=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gf.exports=aE(),gf.exports}var ky;function lE(){if(ky)return oc;ky=1;var t=hw();return oc.createRoot=t.createRoot,oc.hydrateRoot=t.hydrateRoot,oc}var cE=lE(),w=cp();const ce=lp(w),pw=dw({__proto__:null,default:ce},[w]);var up=hw();const mw=lp(up);function uE(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const dE=t=>{switch(t){case"success":return pE;case"info":return gE;case"warning":return mE;case"error":return vE;default:return null}},fE=Array(12).fill(0),hE=({visible:t,className:e})=>ce.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ce.createElement("div",{className:"sonner-spinner"},fE.map((n,s)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),pE=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mE=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gE=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vE=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yE=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xE=()=>{const[t,e]=ce.useState(document.hidden);return ce.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let uh=1;class wE{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:s,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:uh++,l=this.toasts.find(p=>p.id===a),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(p=>p.id===a?(this.publish({...p,...e,id:a,title:s}),{...p,...e,id:a,dismissible:d,title:s}):p):this.addToast({title:s,...i,dismissible:d,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=s!==void 0,l;const d=i.then(async h=>{if(l=["resolve",h],ce.isValidElement(h))a=!1,this.create({id:s,type:"default",message:h});else if(SE(h)&&!h.ok){a=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,y=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,S=typeof g=="object"&&!ce.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:y,...S})}else if(h instanceof Error){a=!1;const g=typeof n.error=="function"?await n.error(h):n.error,y=typeof n.description=="function"?await n.description(h):n.description,S=typeof g=="object"&&!ce.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:y,...S})}else if(n.success!==void 0){a=!1;const g=typeof n.success=="function"?await n.success(h):n.success,y=typeof n.description=="function"?await n.description(h):n.description,S=typeof g=="object"&&!ce.isValidElement(g)?g:{message:g};this.create({id:s,type:"success",description:y,...S})}}).catch(async h=>{if(l=["reject",h],n.error!==void 0){a=!1;const m=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description,b=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:g,...b})}}).finally(()=>{a&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),p=()=>new Promise((h,m)=>d.then(()=>l[0]==="reject"?m(l[1]):h(l[1])).catch(m));return typeof s!="string"&&typeof s!="number"?{unwrap:p}:Object.assign(s,{unwrap:p})},this.custom=(e,n)=>{const s=n?.id||uh++;return this.create({jsx:e(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const vn=new wE,bE=(t,e)=>{const n=e?.id||uh++;return vn.addToast({title:t,...e,id:n}),n},SE=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",_E=bE,kE=()=>vn.toasts,CE=()=>vn.getActiveToasts(),jE=Object.assign(_E,{success:vn.success,info:vn.info,warning:vn.warning,error:vn.error,custom:vn.custom,message:vn.message,promise:vn.promise,dismiss:vn.dismiss,loading:vn.loading},{getHistory:kE,getToasts:CE});uE("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ic(t){return t.label!==void 0}const EE=3,NE="24px",TE="16px",Cy=4e3,PE=356,AE=14,RE=45,OE=200;function pr(...t){return t.filter(Boolean).join(" ")}function IE(t){const[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}const ME=t=>{var e,n,s,i,a,l,d,p,h;const{invert:m,toast:g,unstyled:y,interacting:b,setHeights:S,visibleToasts:_,heights:C,index:j,toasts:T,expanded:E,removeToast:N,defaultRichColors:P,closeButton:I,style:$,cancelButtonStyle:M,actionButtonStyle:V,className:H="",descriptionClassName:Q="",duration:Z,position:ie,gap:he,expandByDefault:be,classNames:z,icons:J,closeButtonAriaLabel:R="Close toast"}=t,[W,X]=ce.useState(null),[L,O]=ce.useState(null),[G,q]=ce.useState(!1),[Y,ae]=ce.useState(!1),[te,ue]=ce.useState(!1),[_e,Ke]=ce.useState(!1),[ft,ge]=ce.useState(!1),[ze,kt]=ce.useState(0),[Pn,Jt]=ce.useState(0),It=ce.useRef(g.duration||Z||Cy),xn=ce.useRef(null),zt=ce.useRef(null),Wn=j===0,oe=j+1<=_,Se=g.type,Le=g.dismissible!==!1,Ye=g.className||"",Ct=g.descriptionClassName||"",Xe=ce.useMemo(()=>C.findIndex(de=>de.toastId===g.id)||0,[C,g.id]),ot=ce.useMemo(()=>{var de;return(de=g.closeButton)!=null?de:I},[g.closeButton,I]),Ge=ce.useMemo(()=>g.duration||Z||Cy,[g.duration,Z]),Ze=ce.useRef(0),jt=ce.useRef(0),ar=ce.useRef(0),lr=ce.useRef(null),[uo,Cs]=ie.split("-"),fe=ce.useMemo(()=>C.reduce((de,Ae,Be)=>Be>=Xe?de:de+Ae.height,0),[C,Xe]),Me=xE(),qe=g.invert||m,$e=Se==="loading";jt.current=ce.useMemo(()=>Xe*he+fe,[Xe,fe]),ce.useEffect(()=>{It.current=Ge},[Ge]),ce.useEffect(()=>{q(!0)},[]),ce.useEffect(()=>{const de=zt.current;if(de){const Ae=de.getBoundingClientRect().height;return Jt(Ae),S(Be=>[{toastId:g.id,height:Ae,position:g.position},...Be]),()=>S(Be=>Be.filter(et=>et.toastId!==g.id))}},[S,g.id]),ce.useLayoutEffect(()=>{if(!G)return;const de=zt.current,Ae=de.style.height;de.style.height="auto";const Be=de.getBoundingClientRect().height;de.style.height=Ae,Jt(Be),S(et=>et.find(at=>at.toastId===g.id)?et.map(at=>at.toastId===g.id?{...at,height:Be}:at):[{toastId:g.id,height:Be,position:g.position},...et])},[G,g.title,g.description,S,g.id,g.jsx,g.action,g.cancel]);const Fe=ce.useCallback(()=>{ae(!0),kt(jt.current),S(de=>de.filter(Ae=>Ae.toastId!==g.id)),setTimeout(()=>{N(g)},OE)},[g,N,S,jt]);ce.useEffect(()=>{if(g.promise&&Se==="loading"||g.duration===1/0||g.type==="loading")return;let de;return E||b||Me?(()=>{if(ar.current<Ze.current){const et=new Date().getTime()-Ze.current;It.current=It.current-et}ar.current=new Date().getTime()})():(()=>{It.current!==1/0&&(Ze.current=new Date().getTime(),de=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Fe()},It.current))})(),()=>clearTimeout(de)},[E,b,g,Se,Me,Fe]),ce.useEffect(()=>{g.delete&&(Fe(),g.onDismiss==null||g.onDismiss.call(g,g))},[Fe,g.delete]);function Ve(){var de;if(J?.loading){var Ae;return ce.createElement("div",{className:pr(z?.loader,g==null||(Ae=g.classNames)==null?void 0:Ae.loader,"sonner-loader"),"data-visible":Se==="loading"},J.loading)}return ce.createElement(hE,{className:pr(z?.loader,g==null||(de=g.classNames)==null?void 0:de.loader),visible:Se==="loading"})}const ht=g.icon||J?.[Se]||dE(Se);var Et,Mt;return ce.createElement("li",{tabIndex:0,ref:zt,className:pr(H,Ye,z?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,z?.default,z?.[Se],g==null||(n=g.classNames)==null?void 0:n[Se]),"data-sonner-toast":"","data-rich-colors":(Et=g.richColors)!=null?Et:P,"data-styled":!(g.jsx||g.unstyled||y),"data-mounted":G,"data-promise":!!g.promise,"data-swiped":ft,"data-removed":Y,"data-visible":oe,"data-y-position":uo,"data-x-position":Cs,"data-index":j,"data-front":Wn,"data-swiping":te,"data-dismissible":Le,"data-type":Se,"data-invert":qe,"data-swipe-out":_e,"data-swipe-direction":L,"data-expanded":!!(E||be&&G),"data-testid":g.testId,style:{"--index":j,"--toasts-before":j,"--z-index":T.length-j,"--offset":`${Y?ze:jt.current}px`,"--initial-height":be?"auto":`${Pn}px`,...$,...g.style},onDragEnd:()=>{ue(!1),X(null),lr.current=null},onPointerDown:de=>{de.button!==2&&($e||!Le||(xn.current=new Date,kt(jt.current),de.target.setPointerCapture(de.pointerId),de.target.tagName!=="BUTTON"&&(ue(!0),lr.current={x:de.clientX,y:de.clientY})))},onPointerUp:()=>{var de,Ae,Be;if(_e||!Le)return;lr.current=null;const et=Number(((de=zt.current)==null?void 0:de.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wt=Number(((Ae=zt.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),at=new Date().getTime()-((Be=xn.current)==null?void 0:Be.getTime()),gt=W==="x"?et:Wt,zr=Math.abs(gt)/at;if(Math.abs(gt)>=RE||zr>.11){kt(jt.current),g.onDismiss==null||g.onDismiss.call(g,g),O(W==="x"?et>0?"right":"left":Wt>0?"down":"up"),Fe(),Ke(!0);return}else{var Ht,wn;(Ht=zt.current)==null||Ht.style.setProperty("--swipe-amount-x","0px"),(wn=zt.current)==null||wn.style.setProperty("--swipe-amount-y","0px")}ge(!1),ue(!1),X(null)},onPointerMove:de=>{var Ae,Be,et;if(!lr.current||!Le||((Ae=window.getSelection())==null?void 0:Ae.toString().length)>0)return;const at=de.clientY-lr.current.y,gt=de.clientX-lr.current.x;var zr;const Ht=(zr=t.swipeDirections)!=null?zr:IE(ie);!W&&(Math.abs(gt)>1||Math.abs(at)>1)&&X(Math.abs(gt)>Math.abs(at)?"x":"y");let wn={x:0,y:0};const Wr=An=>1/(1.5+Math.abs(An)/20);if(W==="y"){if(Ht.includes("top")||Ht.includes("bottom"))if(Ht.includes("top")&&at<0||Ht.includes("bottom")&&at>0)wn.y=at;else{const An=at*Wr(at);wn.y=Math.abs(An)<Math.abs(at)?An:at}}else if(W==="x"&&(Ht.includes("left")||Ht.includes("right")))if(Ht.includes("left")&&gt<0||Ht.includes("right")&&gt>0)wn.x=gt;else{const An=gt*Wr(gt);wn.x=Math.abs(An)<Math.abs(gt)?An:gt}(Math.abs(wn.x)>0||Math.abs(wn.y)>0)&&ge(!0),(Be=zt.current)==null||Be.style.setProperty("--swipe-amount-x",`${wn.x}px`),(et=zt.current)==null||et.style.setProperty("--swipe-amount-y",`${wn.y}px`)}},ot&&!g.jsx&&Se!=="loading"?ce.createElement("button",{"aria-label":R,"data-disabled":$e,"data-close-button":!0,onClick:$e||!Le?()=>{}:()=>{Fe(),g.onDismiss==null||g.onDismiss.call(g,g)},className:pr(z?.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(Mt=J?.close)!=null?Mt:yE):null,(Se||g.icon||g.promise)&&g.icon!==null&&(J?.[Se]!==null||g.icon)?ce.createElement("div",{"data-icon":"",className:pr(z?.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Ve():null,g.type!=="loading"?ht:null):null,ce.createElement("div",{"data-content":"",className:pr(z?.content,g==null||(a=g.classNames)==null?void 0:a.content)},ce.createElement("div",{"data-title":"",className:pr(z?.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ce.createElement("div",{"data-description":"",className:pr(Q,Ct,z?.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),ce.isValidElement(g.cancel)?g.cancel:g.cancel&&ic(g.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||M,onClick:de=>{ic(g.cancel)&&Le&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,de),Fe())},className:pr(z?.cancelButton,g==null||(p=g.classNames)==null?void 0:p.cancelButton)},g.cancel.label):null,ce.isValidElement(g.action)?g.action:g.action&&ic(g.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||V,onClick:de=>{ic(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,de),!de.defaultPrevented&&Fe())},className:pr(z?.actionButton,g==null||(h=g.classNames)==null?void 0:h.actionButton)},g.action.label):null)};function jy(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function DE(t,e){const n={};return[t,e].forEach((s,i)=>{const a=i===1,l=a?"--mobile-offset":"--offset",d=a?TE:NE;function p(h){["top","right","bottom","left"].forEach(m=>{n[`${l}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?p(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${l}-${h}`]=d:n[`${l}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):p(d)}),n}const LE=ce.forwardRef(function(e,n){const{id:s,invert:i,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:d,closeButton:p,className:h,offset:m,mobileOffset:g,theme:y="light",richColors:b,duration:S,style:_,visibleToasts:C=EE,toastOptions:j,dir:T=jy(),gap:E=AE,icons:N,containerAriaLabel:P="Notifications"}=e,[I,$]=ce.useState([]),M=ce.useMemo(()=>s?I.filter(G=>G.toasterId===s):I.filter(G=>!G.toasterId),[I,s]),V=ce.useMemo(()=>Array.from(new Set([a].concat(M.filter(G=>G.position).map(G=>G.position)))),[M,a]),[H,Q]=ce.useState([]),[Z,ie]=ce.useState(!1),[he,be]=ce.useState(!1),[z,J]=ce.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=ce.useRef(null),W=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=ce.useRef(null),L=ce.useRef(!1),O=ce.useCallback(G=>{$(q=>{var Y;return(Y=q.find(ae=>ae.id===G.id))!=null&&Y.delete||vn.dismiss(G.id),q.filter(({id:ae})=>ae!==G.id)})},[]);return ce.useEffect(()=>vn.subscribe(G=>{if(G.dismiss){requestAnimationFrame(()=>{$(q=>q.map(Y=>Y.id===G.id?{...Y,delete:!0}:Y))});return}setTimeout(()=>{mw.flushSync(()=>{$(q=>{const Y=q.findIndex(ae=>ae.id===G.id);return Y!==-1?[...q.slice(0,Y),{...q[Y],...G},...q.slice(Y+1)]:[G,...q]})})})}),[I]),ce.useEffect(()=>{if(y!=="system"){J(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;const G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:q})=>{J(q?"dark":"light")})}catch{G.addListener(({matches:Y})=>{try{J(Y?"dark":"light")}catch(ae){console.error(ae)}})}},[y]),ce.useEffect(()=>{I.length<=1&&ie(!1)},[I]),ce.useEffect(()=>{const G=q=>{var Y;if(l.every(ue=>q[ue]||q.code===ue)){var te;ie(!0),(te=R.current)==null||te.focus()}q.code==="Escape"&&(document.activeElement===R.current||(Y=R.current)!=null&&Y.contains(document.activeElement))&&ie(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[l]),ce.useEffect(()=>{if(R.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,L.current=!1)}},[R.current]),ce.createElement("section",{ref:n,"aria-label":`${P} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((G,q)=>{var Y;const[ae,te]=G.split("-");return M.length?ce.createElement("ol",{key:G,dir:T==="auto"?jy():T,tabIndex:-1,ref:R,className:h,"data-sonner-toaster":!0,"data-sonner-theme":z,"data-y-position":ae,"data-x-position":te,style:{"--front-toast-height":`${((Y=H[0])==null?void 0:Y.height)||0}px`,"--width":`${PE}px`,"--gap":`${E}px`,..._,...DE(m,g)},onBlur:ue=>{L.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(L.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||L.current||(L.current=!0,X.current=ue.relatedTarget)},onMouseEnter:()=>ie(!0),onMouseMove:()=>ie(!0),onMouseLeave:()=>{he||ie(!1)},onDragEnd:()=>ie(!1),onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||be(!0)},onPointerUp:()=>be(!1)},M.filter(ue=>!ue.position&&q===0||ue.position===G).map((ue,_e)=>{var Ke,ft;return ce.createElement(ME,{key:ue.id,icons:N,index:_e,toast:ue,defaultRichColors:b,duration:(Ke=j?.duration)!=null?Ke:S,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:i,visibleToasts:C,closeButton:(ft=j?.closeButton)!=null?ft:p,interacting:he,position:G,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:O,toasts:M.filter(ge=>ge.position==ue.position),heights:H.filter(ge=>ge.position==ue.position),setHeights:Q,expandByDefault:d,gap:E,expanded:Z,swipeDirections:e.swipeDirections})})):null}))}),$E=({...t})=>u.jsx(LE,{theme:"light",className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t}),dp=w.createContext({});function fp(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const hp=typeof window<"u",gw=hp?w.useLayoutEffect:w.useEffect,nu=w.createContext(null);function pp(t,e){t.indexOf(e)===-1&&t.push(e)}function mp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Mr=(t,e,n)=>n>e?e:n<t?t:n;let gp=()=>{};const Dr={},vw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function yw(t){return typeof t=="object"&&t!==null}const xw=t=>/^0[^.\s]+$/u.test(t);function vp(t){let e;return()=>(e===void 0&&(e=t()),e)}const Un=t=>t,FE=(t,e)=>n=>e(t(n)),Ba=(...t)=>t.reduce(FE),ja=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class yp{constructor(){this.subscriptions=[]}add(e){return pp(this.subscriptions,e),()=>mp(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vr=t=>t*1e3,Bn=t=>t/1e3;function ww(t,e){return e?t*(1e3/e):0}const bw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,VE=1e-7,BE=12;function UE(t,e,n,s,i){let a,l,d=0;do l=e+(n-e)/2,a=bw(l,s,i)-t,a>0?n=l:e=l;while(Math.abs(a)>VE&&++d<BE);return l}function Ua(t,e,n,s){if(t===e&&n===s)return Un;const i=a=>UE(a,0,1,t,n);return a=>a===0||a===1?a:bw(i(a),e,s)}const Sw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_w=t=>e=>1-t(1-e),kw=Ua(.33,1.53,.69,.99),xp=_w(kw),Cw=Sw(xp),jw=t=>(t*=2)<1?.5*xp(t):.5*(2-Math.pow(2,-10*(t-1))),wp=t=>1-Math.sin(Math.acos(t)),Ew=_w(wp),Nw=Sw(wp),zE=Ua(.42,0,1,1),WE=Ua(0,0,.58,1),Tw=Ua(.42,0,.58,1),HE=t=>Array.isArray(t)&&typeof t[0]!="number",Pw=t=>Array.isArray(t)&&typeof t[0]=="number",KE={linear:Un,easeIn:zE,easeInOut:Tw,easeOut:WE,circIn:wp,circInOut:Nw,circOut:Ew,backIn:xp,backInOut:Cw,backOut:kw,anticipate:jw},GE=t=>typeof t=="string",Ey=t=>{if(Pw(t)){gp(t.length===4);const[e,n,s,i]=t;return Ua(e,n,s,i)}else if(GE(t))return KE[t];return t},ac=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function qE(t,e){let n=new Set,s=new Set,i=!1,a=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(m){l.has(m)&&(h.schedule(m),t()),m(d)}const h={schedule:(m,g=!1,y=!1)=>{const S=y&&i?n:s;return g&&l.add(m),S.has(m)||S.add(m),m},cancel:m=>{s.delete(m),l.delete(m)},process:m=>{if(d=m,i){a=!0;return}i=!0,[n,s]=[s,n],n.forEach(p),n.clear(),i=!1,a&&(a=!1,h.process(m))}};return h}const YE=40;function Aw(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=ac.reduce((E,N)=>(E[N]=qE(a),E),{}),{setup:d,read:p,resolveKeyframes:h,preUpdate:m,update:g,preRender:y,render:b,postRender:S}=l,_=()=>{const E=Dr.useManualTiming?i.timestamp:performance.now();n=!1,Dr.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(E-i.timestamp,YE),1)),i.timestamp=E,i.isProcessing=!0,d.process(i),p.process(i),h.process(i),m.process(i),g.process(i),y.process(i),b.process(i),S.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(_))},C=()=>{n=!0,s=!0,i.isProcessing||t(_)};return{schedule:ac.reduce((E,N)=>{const P=l[N];return E[N]=(I,$=!1,M=!1)=>(n||C(),P.schedule(I,$,M)),E},{}),cancel:E=>{for(let N=0;N<ac.length;N++)l[ac[N]].cancel(E)},state:i,steps:l}}const{schedule:mt,cancel:ms,state:qt,steps:xf}=Aw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Un,!0);let Pc;function JE(){Pc=void 0}const yn={now:()=>(Pc===void 0&&yn.set(qt.isProcessing||Dr.useManualTiming?qt.timestamp:performance.now()),Pc),set:t=>{Pc=t,queueMicrotask(JE)}},Rw=t=>e=>typeof e=="string"&&e.startsWith(t),bp=Rw("--"),XE=Rw("var(--"),Sp=t=>XE(t)?QE.test(t.split("/*")[0].trim()):!1,QE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ea={...mi,transform:t=>Mr(0,1,t)},lc={...mi,default:1},ma=t=>Math.round(t*1e5)/1e5,_p=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZE(t){return t==null}const e2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kp=(t,e)=>n=>!!(typeof n=="string"&&e2.test(n)&&n.startsWith(t)||e&&!ZE(n)&&Object.prototype.hasOwnProperty.call(n,e)),Ow=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,a,l,d]=s.match(_p);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},t2=t=>Mr(0,255,t),wf={...mi,transform:t=>Math.round(t2(t))},Gs={test:kp("rgb","red"),parse:Ow("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+wf.transform(t)+", "+wf.transform(e)+", "+wf.transform(n)+", "+ma(Ea.transform(s))+")"};function n2(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const dh={test:kp("#"),parse:n2,transform:Gs.transform},za=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fs=za("deg"),yr=za("%"),Oe=za("px"),r2=za("vh"),s2=za("vw"),Ny={...yr,parse:t=>yr.parse(t)/100,transform:t=>yr.transform(t*100)},qo={test:kp("hsl","hue"),parse:Ow("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+yr.transform(ma(e))+", "+yr.transform(ma(n))+", "+ma(Ea.transform(s))+")"},Ot={test:t=>Gs.test(t)||dh.test(t)||qo.test(t),parse:t=>Gs.test(t)?Gs.parse(t):qo.test(t)?qo.parse(t):dh.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Gs.transform(t):qo.transform(t),getAnimatableNone:t=>{const e=Ot.parse(t);return e.alpha=0,Ot.transform(e)}},o2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function i2(t){return isNaN(t)&&typeof t=="string"&&(t.match(_p)?.length||0)+(t.match(o2)?.length||0)>0}const Iw="number",Mw="color",a2="var",l2="var(",Ty="${}",c2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Na(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const d=e.replace(c2,p=>(Ot.test(p)?(s.color.push(a),i.push(Mw),n.push(Ot.parse(p))):p.startsWith(l2)?(s.var.push(a),i.push(a2),n.push(p)):(s.number.push(a),i.push(Iw),n.push(parseFloat(p))),++a,Ty)).split(Ty);return{values:n,split:d,indexes:s,types:i}}function Dw(t){return Na(t).values}function Lw(t){const{split:e,types:n}=Na(t),s=e.length;return i=>{let a="";for(let l=0;l<s;l++)if(a+=e[l],i[l]!==void 0){const d=n[l];d===Iw?a+=ma(i[l]):d===Mw?a+=Ot.transform(i[l]):a+=i[l]}return a}}const u2=t=>typeof t=="number"?0:Ot.test(t)?Ot.getAnimatableNone(t):t;function d2(t){const e=Dw(t);return Lw(t)(e.map(u2))}const gs={test:i2,parse:Dw,createTransformer:Lw,getAnimatableNone:d2};function bf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function f2({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const d=n<.5?n*(1+e):n+e-n*e,p=2*n-d;i=bf(p,d,t+1/3),a=bf(p,d,t),l=bf(p,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:s}}function Lc(t,e){return n=>n>0?e:t}const wt=(t,e,n)=>t+(e-t)*n,Sf=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},h2=[dh,Gs,qo],p2=t=>h2.find(e=>e.test(t));function Py(t){const e=p2(t);if(!e)return!1;let n=e.parse(t);return e===qo&&(n=f2(n)),n}const Ay=(t,e)=>{const n=Py(t),s=Py(e);if(!n||!s)return Lc(t,e);const i={...n};return a=>(i.red=Sf(n.red,s.red,a),i.green=Sf(n.green,s.green,a),i.blue=Sf(n.blue,s.blue,a),i.alpha=wt(n.alpha,s.alpha,a),Gs.transform(i))},fh=new Set(["none","hidden"]);function m2(t,e){return fh.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function g2(t,e){return n=>wt(t,e,n)}function Cp(t){return typeof t=="number"?g2:typeof t=="string"?Sp(t)?Lc:Ot.test(t)?Ay:x2:Array.isArray(t)?$w:typeof t=="object"?Ot.test(t)?Ay:v2:Lc}function $w(t,e){const n=[...t],s=n.length,i=t.map((a,l)=>Cp(a)(a,e[l]));return a=>{for(let l=0;l<s;l++)n[l]=i[l](a);return n}}function v2(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=Cp(t[i])(t[i],e[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function y2(t,e){const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][s[a]],d=t.values[l]??0;n[i]=d,s[a]++}return n}const x2=(t,e)=>{const n=gs.createTransformer(e),s=Na(t),i=Na(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?fh.has(t)&&!i.values.length||fh.has(e)&&!s.values.length?m2(t,e):Ba($w(y2(s,i),i.values),n):Lc(t,e)};function Fw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?wt(t,e,n):Cp(t)(t,e)}const w2=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>mt.update(e,n),stop:()=>ms(e),now:()=>qt.isProcessing?qt.timestamp:yn.now()}},Vw=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)s+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},$c=2e4;function jp(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<$c;)e+=n,s=t.next(e);return e>=$c?1/0:e}function b2(t,e=100,n){const s=n({...t,keyframes:[0,e]}),i=Math.min(jp(s),$c);return{type:"keyframes",ease:a=>s.next(i*a).value/e,duration:Bn(i)}}const S2=5;function Bw(t,e,n){const s=Math.max(e-S2,0);return ww(n-t(s),e-s)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_f=.001;function _2({duration:t=_t.duration,bounce:e=_t.bounce,velocity:n=_t.velocity,mass:s=_t.mass}){let i,a,l=1-e;l=Mr(_t.minDamping,_t.maxDamping,l),t=Mr(_t.minDuration,_t.maxDuration,Bn(t)),l<1?(i=h=>{const m=h*l,g=m*t,y=m-n,b=hh(h,l),S=Math.exp(-g);return _f-y/b*S},a=h=>{const g=h*l*t,y=g*n+n,b=Math.pow(l,2)*Math.pow(h,2)*t,S=Math.exp(-g),_=hh(Math.pow(h,2),l);return(-i(h)+_f>0?-1:1)*((y-b)*S)/_}):(i=h=>{const m=Math.exp(-h*t),g=(h-n)*t+1;return-_f+m*g},a=h=>{const m=Math.exp(-h*t),g=(n-h)*(t*t);return m*g});const d=5/t,p=C2(i,a,d);if(t=vr(t),isNaN(p))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const h=Math.pow(p,2)*s;return{stiffness:h,damping:l*2*Math.sqrt(s*h),duration:t}}}const k2=12;function C2(t,e,n){let s=n;for(let i=1;i<k2;i++)s=s-t(s)/e(s);return s}function hh(t,e){return t*Math.sqrt(1-e*e)}const j2=["duration","bounce"],E2=["stiffness","damping","mass"];function Ry(t,e){return e.some(n=>t[n]!==void 0)}function N2(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!Ry(t,E2)&&Ry(t,j2))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*Mr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:_t.mass,stiffness:i,damping:a}}else{const n=_2(t);e={...e,...n,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function Fc(t=_t.visualDuration,e=_t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:p,damping:h,mass:m,duration:g,velocity:y,isResolvedFromDuration:b}=N2({...n,velocity:-Bn(n.velocity||0)}),S=y||0,_=h/(2*Math.sqrt(p*m)),C=l-a,j=Bn(Math.sqrt(p/m)),T=Math.abs(C)<5;s||(s=T?_t.restSpeed.granular:_t.restSpeed.default),i||(i=T?_t.restDelta.granular:_t.restDelta.default);let E;if(_<1){const P=hh(j,_);E=I=>{const $=Math.exp(-_*j*I);return l-$*((S+_*j*C)/P*Math.sin(P*I)+C*Math.cos(P*I))}}else if(_===1)E=P=>l-Math.exp(-j*P)*(C+(S+j*C)*P);else{const P=j*Math.sqrt(_*_-1);E=I=>{const $=Math.exp(-_*j*I),M=Math.min(P*I,300);return l-$*((S+_*j*C)*Math.sinh(M)+P*C*Math.cosh(M))/P}}const N={calculatedDuration:b&&g||null,next:P=>{const I=E(P);if(b)d.done=P>=g;else{let $=P===0?S:0;_<1&&($=P===0?vr(S):Bw(E,P,I));const M=Math.abs($)<=s,V=Math.abs(l-I)<=i;d.done=M&&V}return d.value=d.done?l:I,d},toString:()=>{const P=Math.min(jp(N),$c),I=Vw($=>N.next(P*$).value,P,30);return P+"ms "+I},toTransition:()=>{}};return N}Fc.applyToOptions=t=>{const e=b2(t,100,Fc);return t.ease=e.ease,t.duration=vr(e.duration),t.type="keyframes",t};function ph({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:p,restDelta:h=.5,restSpeed:m}){const g=t[0],y={done:!1,value:g},b=M=>d!==void 0&&M<d||p!==void 0&&M>p,S=M=>d===void 0?p:p===void 0||Math.abs(d-M)<Math.abs(p-M)?d:p;let _=n*e;const C=g+_,j=l===void 0?C:l(C);j!==C&&(_=j-g);const T=M=>-_*Math.exp(-M/s),E=M=>j+T(M),N=M=>{const V=T(M),H=E(M);y.done=Math.abs(V)<=h,y.value=y.done?j:H};let P,I;const $=M=>{b(y.value)&&(P=M,I=Fc({keyframes:[y.value,S(y.value)],velocity:Bw(E,M,y.value),damping:i,stiffness:a,restDelta:h,restSpeed:m}))};return $(0),{calculatedDuration:null,next:M=>{let V=!1;return!I&&P===void 0&&(V=!0,N(M),$(M)),P!==void 0&&M>=P?I.next(M-P):(!V&&N(M),y)}}}function T2(t,e,n){const s=[],i=n||Dr.mix||Fw,a=t.length-1;for(let l=0;l<a;l++){let d=i(t[l],t[l+1]);if(e){const p=Array.isArray(e)?e[l]||Un:e;d=Ba(p,d)}s.push(d)}return s}function P2(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const a=t.length;if(gp(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=T2(e,s,i),p=d.length,h=m=>{if(l&&m<t[0])return e[0];let g=0;if(p>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const y=ja(t[g],t[g+1],m);return d[g](y)};return n?m=>h(Mr(t[0],t[a-1],m)):h}function A2(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=ja(0,e,s);t.push(wt(n,1,i))}}function R2(t){const e=[0];return A2(e,t.length-1),e}function O2(t,e){return t.map(n=>n*e)}function I2(t,e){return t.map(()=>e||Tw).splice(0,t.length-1)}function ga({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=HE(s)?s.map(Ey):Ey(s),a={done:!1,value:e[0]},l=O2(n&&n.length===e.length?n:R2(e),t),d=P2(l,e,{ease:Array.isArray(i)?i:I2(e,i)});return{calculatedDuration:t,next:p=>(a.value=d(p),a.done=p>=t,a)}}const M2=t=>t!==null;function Ep(t,{repeat:e,repeatType:n="loop"},s,i=1){const a=t.filter(M2),d=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!d||s===void 0?a[d]:s}const D2={decay:ph,inertia:ph,tween:ga,keyframes:ga,spring:Fc};function Uw(t){typeof t.type=="string"&&(t.type=D2[t.type])}class Np{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const L2=t=>t/100;class Tp extends Np{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Uw(e);const{type:n=ga,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:d}=e;const p=n||ga;p!==ga&&typeof d[0]!="number"&&(this.mixKeyframes=Ba(L2,Fw(d[0],d[1])),d=[0,100]);const h=p({...e,keyframes:d});a==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...d].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=jp(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:m,repeat:g,repeatType:y,repeatDelay:b,type:S,onUpdate:_,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-h*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?j<0:j>i;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,N=s;if(g){const M=Math.min(this.currentTime,i)/d;let V=Math.floor(M),H=M%1;!H&&M>=1&&(H=1),H===1&&V--,V=Math.min(V,g+1),!!(V%2)&&(y==="reverse"?(H=1-H,b&&(H-=b/d)):y==="mirror"&&(N=l)),E=Mr(0,1,H)*d}const P=T?{done:!1,value:m[0]}:N.next(E);a&&(P.value=a(P.value));let{done:I}=P;!T&&p!==null&&(I=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return $&&S!==ph&&(P.value=Ep(m,this.options,C,this.speed)),_&&_(P.value),$&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return Bn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Bn(e)}get time(){return Bn(this.currentTime)}set time(e){e=vr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(yn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Bn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=w2,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function $2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const qs=t=>t*180/Math.PI,mh=t=>{const e=qs(Math.atan2(t[1],t[0]));return gh(e)},F2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:mh,rotateZ:mh,skewX:t=>qs(Math.atan(t[1])),skewY:t=>qs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},gh=t=>(t=t%360,t<0&&(t+=360),t),Oy=mh,Iy=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),My=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),V2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Iy,scaleY:My,scale:t=>(Iy(t)+My(t))/2,rotateX:t=>gh(qs(Math.atan2(t[6],t[5]))),rotateY:t=>gh(qs(Math.atan2(-t[2],t[0]))),rotateZ:Oy,rotate:Oy,skewX:t=>qs(Math.atan(t[4])),skewY:t=>qs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function vh(t){return t.includes("scale")?1:0}function yh(t,e){if(!t||t==="none")return vh(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=V2,i=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=F2,i=d}if(!i)return vh(e);const a=s[e],l=i[1].split(",").map(U2);return typeof a=="function"?a(l):l[a]}const B2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return yh(n,e)};function U2(t){return parseFloat(t.trim())}const gi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vi=new Set(gi),Dy=t=>t===mi||t===Oe,z2=new Set(["x","y","z"]),W2=gi.filter(t=>!z2.has(t));function H2(t){const e=[];return W2.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Qs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>yh(e,"x"),y:(t,{transform:e})=>yh(e,"y")};Qs.translateX=Qs.x;Qs.translateY=Qs.y;const Zs=new Set;let xh=!1,wh=!1,bh=!1;function zw(){if(wh){const t=Array.from(Zs).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=H2(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,l])=>{s.getValue(a)?.set(l)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}wh=!1,xh=!1,Zs.forEach(t=>t.complete(bh)),Zs.clear()}function Ww(){Zs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(wh=!0)})}function K2(){bh=!0,Ww(),zw(),bh=!1}class Pp{constructor(e,n,s,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Zs.add(this),xh||(xh=!0,mt.read(Ww),mt.resolveKeyframes(zw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;if(e[0]===null){const a=i?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const d=s.readValue(n,l);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}$2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Zs.delete(this)}cancel(){this.state==="scheduled"&&(Zs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const G2=t=>t.startsWith("--");function q2(t,e,n){G2(e)?t.style.setProperty(e,n):t.style[e]=n}const Y2=vp(()=>window.ScrollTimeline!==void 0),J2={};function X2(t,e){const n=vp(t);return()=>J2[e]??n()}const Hw=X2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),da=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Ly={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:da([0,.65,.55,1]),circOut:da([.55,0,1,.45]),backIn:da([.31,.01,.66,-.59]),backOut:da([.33,1.53,.69,.99])};function Kw(t,e){if(t)return typeof t=="function"?Hw()?Vw(t,e):"ease-out":Pw(t)?da(t):Array.isArray(t)?t.map(n=>Kw(n,e)||Ly.easeOut):Ly[t]}function Q2(t,e,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:d="easeOut",times:p}={},h=void 0){const m={[e]:n};p&&(m.offset=p);const g=Kw(d,i);Array.isArray(g)&&(m.easing=g);const y={delay:s,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(m,y)}function Gw(t){return typeof t=="function"&&"applyToOptions"in t}function Z2({type:t,...e}){return Gw(t)&&Hw()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class eN extends Np{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:d,onComplete:p}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,gp(typeof e.type!="string");const h=Z2(e);this.animation=Q2(n,s,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=Ep(i,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(m):q2(n,s,m),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Bn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Bn(e)}get time(){return Bn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=vr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Y2()?(this.animation.timeline=e,Un):n(this)}}const qw={anticipate:jw,backInOut:Cw,circInOut:Nw};function tN(t){return t in qw}function nN(t){typeof t.ease=="string"&&tN(t.ease)&&(t.ease=qw[t.ease])}const $y=10;class rN extends eN{constructor(e){nN(e),Uw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Tp({...l,autoplay:!1}),p=vr(this.finishedTime??this.time);n.setWithVelocity(d.sample(p-$y).value,d.sample(p).value,$y),d.stop()}}const Fy=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gs.test(t)||t==="0")&&!t.startsWith("url("));function sN(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function oN(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Fy(i,e),d=Fy(a,e);return!l||!d?!1:sN(t)||(n==="spring"||Gw(n))&&s}function Sh(t){t.duration=0,t.type="keyframes"}const iN=new Set(["opacity","clipPath","filter","transform"]),aN=vp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lN(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:i,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:h}=e.owner.getProps();return aN()&&n&&iN.has(n)&&(n!=="transform"||!h)&&!p&&!s&&i!=="mirror"&&a!==0&&l!=="inertia"}const cN=40;class uN extends Np{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:d,name:p,motionValue:h,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=yn.now();const y={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:l,name:p,motionValue:h,element:m,...g},b=m?.KeyframeResolver||Pp;this.keyframeResolver=new b(d,(S,_,C)=>this.onKeyframesResolved(S,_,y,!C),p,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:d,delay:p,isHandoff:h,onUpdate:m}=s;this.resolvedAt=yn.now(),oN(e,a,l,d)||((Dr.instantAnimations||!p)&&m?.(Ep(e,s,n)),e[0]=e[e.length-1],Sh(s),s.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>cN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},b=!h&&lN(y)?new rN({...y,element:y.motionValue.owner.current}):new Tp(y);b.finished.then(()=>this.notifyFinished()).catch(Un),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),K2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const dN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fN(t){const e=dN.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function Yw(t,e,n=1){const[s,i]=fN(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const l=a.trim();return vw(l)?parseFloat(l):l}return Sp(i)?Yw(i,e,n+1):i}function Ap(t,e){return t?.[e]??t?.default??t}const Jw=new Set(["width","height","top","left","right","bottom",...gi]),hN={test:t=>t==="auto",parse:t=>t},Xw=t=>e=>e.test(t),Qw=[mi,Oe,yr,fs,s2,r2,hN],Vy=t=>Qw.find(Xw(t));function pN(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xw(t):!0}const mN=new Set(["brightness","contrast","saturate","opacity"]);function gN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(_p)||[];if(!s)return t;const i=n.replace(s,"");let a=mN.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+i+")"}const vN=/\b([a-z-]*)\(.*?\)/gu,_h={...gs,getAnimatableNone:t=>{const e=t.match(vN);return e?e.map(gN).join(" "):t}},By={...mi,transform:Math.round},yN={rotate:fs,rotateX:fs,rotateY:fs,rotateZ:fs,scale:lc,scaleX:lc,scaleY:lc,scaleZ:lc,skew:fs,skewX:fs,skewY:fs,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:Ea,originX:Ny,originY:Ny,originZ:Oe},Rp={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...yN,zIndex:By,fillOpacity:Ea,strokeOpacity:Ea,numOctaves:By},xN={...Rp,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:_h,WebkitFilter:_h},Zw=t=>xN[t];function eb(t,e){let n=Zw(t);return n!==_h&&(n=gs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const wN=new Set(["auto","none","0"]);function bN(t,e,n){let s=0,i;for(;s<t.length&&!i;){const a=t[s];typeof a=="string"&&!wN.has(a)&&Na(a).values.length&&(i=t[s]),s++}if(i&&n)for(const a of e)t[a]=eb(n,i)}class SN extends Pp{constructor(e,n,s,i,a){super(e,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let h=e[p];if(typeof h=="string"&&(h=h.trim(),Sp(h))){const m=Yw(h,n.current);m!==void 0&&(e[p]=m),p===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!Jw.has(s)||e.length!==2)return;const[i,a]=e,l=Vy(i),d=Vy(a);if(l!==d)if(Dy(l)&&Dy(d))for(let p=0;p<e.length;p++){const h=e[p];typeof h=="string"&&(e[p]=parseFloat(h))}else Qs[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)(e[i]===null||pN(e[i]))&&s.push(i);s.length&&bN(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qs[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,l=s[a];s[a]=Qs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function _N(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const i=n?.[t]??s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const tb=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function nb(t){return yw(t)&&"offsetHeight"in t}const Uy=30,kN=t=>!isNaN(parseFloat(t));class CN{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const i=yn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=kN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new yp);const s=this.events[e].add(n);return e==="change"?()=>{s(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Uy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Uy);return ww(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oi(t,e){return new CN(t,e)}const{schedule:Op}=Aw(queueMicrotask,!1),er={x:!1,y:!1};function rb(){return er.x||er.y}function jN(t){return t==="x"||t==="y"?er[t]?null:(er[t]=!0,()=>{er[t]=!1}):er.x||er.y?null:(er.x=er.y=!0,()=>{er.x=er.y=!1})}function sb(t,e){const n=_N(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function zy(t){return!(t.pointerType==="touch"||rb())}function EN(t,e,n={}){const[s,i,a]=sb(t,n),l=d=>{if(!zy(d))return;const{target:p}=d,h=e(p,d);if(typeof h!="function"||!p)return;const m=g=>{zy(g)&&(h(g),p.removeEventListener("pointerleave",m))};p.addEventListener("pointerleave",m,i)};return s.forEach(d=>{d.addEventListener("pointerenter",l,i)}),a}const ob=(t,e)=>e?t===e?!0:ob(t,e.parentElement):!1,Ip=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,NN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TN(t){return NN.has(t.tagName)||t.tabIndex!==-1}const Ac=new WeakSet;function Wy(t){return e=>{e.key==="Enter"&&t(e)}}function kf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const PN=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Wy(()=>{if(Ac.has(n))return;kf(n,"down");const i=Wy(()=>{kf(n,"up")}),a=()=>kf(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Hy(t){return Ip(t)&&!rb()}function AN(t,e,n={}){const[s,i,a]=sb(t,n),l=d=>{const p=d.currentTarget;if(!Hy(d))return;Ac.add(p);const h=e(p,d),m=(b,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),Ac.has(p)&&Ac.delete(p),Hy(b)&&typeof h=="function"&&h(b,{success:S})},g=b=>{m(b,p===window||p===document||n.useGlobalTarget||ob(p,b.target))},y=b=>{m(b,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",y,i)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",l,i),nb(d)&&(d.addEventListener("focus",h=>PN(h,i)),!TN(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function ib(t){return yw(t)&&"ownerSVGElement"in t}function RN(t){return ib(t)&&t.tagName==="svg"}const rn=t=>!!(t&&t.getVelocity),ON=[...Qw,Ot,gs],IN=t=>ON.find(Xw(t)),Mp=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Ky(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function MN(...t){return e=>{let n=!1;const s=t.map(i=>{const a=Ky(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():Ky(t[i],null)}}}}function DN(...t){return w.useCallback(MN(...t),t)}class LN extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=nb(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $N({children:t,isPresent:e,anchorX:n,root:s}){const i=w.useId(),a=w.useRef(null),l=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=w.useContext(Mp),p=DN(a,t?.ref);return w.useInsertionEffect(()=>{const{width:h,height:m,top:g,left:y,right:b}=l.current;if(e||!a.current||!h||!m)return;const S=n==="left"?`left: ${y}`:`right: ${b}`;a.current.dataset.motionPopId=i;const _=document.createElement("style");d&&(_.nonce=d);const C=s??document.head;return C.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${S}px !important;
            top: ${g}px !important;
          }
        `),()=>{C.contains(_)&&C.removeChild(_)}},[e]),u.jsx(LN,{isPresent:e,childRef:a,sizeRef:l,children:w.cloneElement(t,{ref:p})})}const FN=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:l,anchorX:d,root:p})=>{const h=fp(VN),m=w.useId();let g=!0,y=w.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:b=>{h.set(b,!0);for(const S of h.values())if(!S)return;s&&s()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[n,h,s]);return a&&g&&(y={...y}),w.useMemo(()=>{h.forEach((b,S)=>h.set(S,!1))},[n]),w.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),l==="popLayout"&&(t=u.jsx($N,{isPresent:n,anchorX:d,root:p,children:t})),u.jsx(nu.Provider,{value:y,children:t})};function VN(){return new Map}function ab(t=!0){const e=w.useContext(nu);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,a=w.useId();w.useEffect(()=>{if(t)return i(a)},[t]);const l=w.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,l]:[!0]}const cc=t=>t.key||"";function Gy(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const va=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:d="left",root:p})=>{const[h,m]=ab(l),g=w.useMemo(()=>Gy(t),[t]),y=l&&!h?[]:g.map(cc),b=w.useRef(!0),S=w.useRef(g),_=fp(()=>new Map),[C,j]=w.useState(g),[T,E]=w.useState(g);gw(()=>{b.current=!1,S.current=g;for(let I=0;I<T.length;I++){const $=cc(T[I]);y.includes($)?_.delete($):_.get($)!==!0&&_.set($,!1)}},[T,y.length,y.join("-")]);const N=[];if(g!==C){let I=[...g];for(let $=0;$<T.length;$++){const M=T[$],V=cc(M);y.includes(V)||(I.splice($,0,M),N.push(M))}return a==="wait"&&N.length&&(I=N),E(Gy(I)),j(g),null}const{forceRender:P}=w.useContext(dp);return u.jsx(u.Fragment,{children:T.map(I=>{const $=cc(I),M=l&&!h?!1:g===T||y.includes($),V=()=>{if(_.has($))_.set($,!0);else return;let H=!0;_.forEach(Q=>{Q||(H=!1)}),H&&(P?.(),E(S.current),l&&m?.(),s&&s())};return u.jsx(FN,{isPresent:M,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:p,onExitComplete:M?void 0:V,anchorX:d,children:I},$)})})},lb=w.createContext({strict:!1}),qy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ii={};for(const t in qy)ii[t]={isEnabled:e=>qy[t].some(n=>!!e[n])};function BN(t){for(const e in t)ii[e]={...ii[e],...t[e]}}const UN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||UN.has(t)}let cb=t=>!Vc(t);function zN(t){typeof t=="function"&&(cb=e=>e.startsWith("on")?!Vc(e):t(e))}try{zN(require("@emotion/is-prop-valid").default)}catch{}function WN(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(cb(i)||n===!0&&Vc(i)||!e&&!Vc(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}const ru=w.createContext({});function su(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ta(t){return typeof t=="string"||Array.isArray(t)}const Dp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lp=["initial",...Dp];function ou(t){return su(t.animate)||Lp.some(e=>Ta(t[e]))}function ub(t){return!!(ou(t)||t.variants)}function HN(t,e){if(ou(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Ta(n)?n:void 0,animate:Ta(s)?s:void 0}}return t.inherit!==!1?e:{}}function KN(t){const{initial:e,animate:n}=HN(t,w.useContext(ru));return w.useMemo(()=>({initial:e,animate:n}),[Yy(e),Yy(n)])}function Yy(t){return Array.isArray(t)?t.join(" "):t}const Pa={};function GN(t){for(const e in t)Pa[e]=t[e],bp(e)&&(Pa[e].isCSSVariable=!0)}function db(t,{layout:e,layoutId:n}){return vi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Pa[t]||t==="opacity")}const qN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YN=gi.length;function JN(t,e,n){let s="",i=!0;for(let a=0;a<YN;a++){const l=gi[a],d=t[l];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(l.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||n){const h=tb(d,Rp[l]);if(!p){i=!1;const m=qN[l]||l;s+=`${m}(${h}) `}n&&(e[l]=h)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function $p(t,e,n){const{style:s,vars:i,transformOrigin:a}=t;let l=!1,d=!1;for(const p in e){const h=e[p];if(vi.has(p)){l=!0;continue}else if(bp(p)){i[p]=h;continue}else{const m=tb(h,Rp[p]);p.startsWith("origin")?(d=!0,a[p]=m):s[p]=m}}if(e.transform||(l||n?s.transform=JN(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:h="50%",originZ:m=0}=a;s.transformOrigin=`${p} ${h} ${m}`}}const Fp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fb(t,e,n){for(const s in e)!rn(e[s])&&!db(s,n)&&(t[s]=e[s])}function XN({transformTemplate:t},e){return w.useMemo(()=>{const n=Fp();return $p(n,e,t),Object.assign({},n.vars,n.style)},[e])}function QN(t,e){const n=t.style||{},s={};return fb(s,n,t),Object.assign(s,XN(t,e)),s}function ZN(t,e){const n={},s=QN(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const eT={offset:"stroke-dashoffset",array:"stroke-dasharray"},tT={offset:"strokeDashoffset",array:"strokeDasharray"};function nT(t,e,n=1,s=0,i=!0){t.pathLength=1;const a=i?eT:tT;t[a.offset]=Oe.transform(-s);const l=Oe.transform(e),d=Oe.transform(n);t[a.array]=`${l} ${d}`}function hb(t,{attrX:e,attrY:n,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...d},p,h,m){if($p(t,d,h),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=m?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),s!==void 0&&(g.scale=s),i!==void 0&&nT(g,i,a,l,!1)}const pb=()=>({...Fp(),attrs:{}}),mb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function rT(t,e,n,s){const i=w.useMemo(()=>{const a=pb();return hb(a,e,mb(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};fb(a,t.style,t),i.style={...a,...i.style}}return i}const sT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vp(t){return typeof t!="string"||t.includes("-")?!1:!!(sT.indexOf(t)>-1||/[A-Z]/u.test(t))}function oT(t,e,n,{latestValues:s},i,a=!1){const d=(Vp(t)?rT:ZN)(e,s,i,t),p=WN(e,typeof t=="string",a),h=t!==w.Fragment?{...p,...d,ref:n}:{},{children:m}=e,g=w.useMemo(()=>rn(m)?m.get():m,[m]);return w.createElement(t,{...h,children:g})}function Jy(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Bp(t,e,n,s){if(typeof e=="function"){const[i,a]=Jy(s);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=Jy(s);e=e(n!==void 0?n:t.custom,i,a)}return e}function Rc(t){return rn(t)?t.get():t}function iT({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,i){return{latestValues:aT(n,s,i,t),renderState:e()}}function aT(t,e,n,s){const i={},a=s(t,{});for(const y in a)i[y]=Rc(a[y]);let{initial:l,animate:d}=t;const p=ou(t),h=ub(t);e&&h&&!p&&t.inherit!==!1&&(l===void 0&&(l=e.initial),d===void 0&&(d=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const g=m?d:l;if(g&&typeof g!="boolean"&&!su(g)){const y=Array.isArray(g)?g:[g];for(let b=0;b<y.length;b++){const S=Bp(t,y[b]);if(S){const{transitionEnd:_,transition:C,...j}=S;for(const T in j){let E=j[T];if(Array.isArray(E)){const N=m?E.length-1:0;E=E[N]}E!==null&&(i[T]=E)}for(const T in _)i[T]=_[T]}}}return i}const gb=t=>(e,n)=>{const s=w.useContext(ru),i=w.useContext(nu),a=()=>iT(t,e,s,i);return n?a():fp(a)};function Up(t,e,n){const{style:s}=t,i={};for(const a in s)(rn(s[a])||e.style&&rn(e.style[a])||db(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=s[a]);return i}const lT=gb({scrapeMotionValuesFromProps:Up,createRenderState:Fp});function vb(t,e,n){const s=Up(t,e,n);for(const i in t)if(rn(t[i])||rn(e[i])){const a=gi.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=t[i]}return s}const cT=gb({scrapeMotionValuesFromProps:vb,createRenderState:pb}),uT=Symbol.for("motionComponentSymbol");function Yo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function dT(t,e,n){return w.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Yo(n)&&(n.current=s))},[e])}const zp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fT="framerAppearId",yb="data-"+zp(fT),xb=w.createContext({});function hT(t,e,n,s,i){const{visualElement:a}=w.useContext(ru),l=w.useContext(lb),d=w.useContext(nu),p=w.useContext(Mp).reducedMotion,h=w.useRef(null);s=s||l.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const m=h.current,g=w.useContext(xb);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&pT(h.current,n,i,g);const y=w.useRef(!1);w.useInsertionEffect(()=>{m&&y.current&&m.update(n,d)});const b=n[yb],S=w.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return gw(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),S.current&&m.animationState&&m.animationState.animateChanges())}),w.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),S.current=!1),m.enteringChildren=void 0)}),m}function pT(t,e,n,s){const{layoutId:i,layout:a,drag:l,dragConstraints:d,layoutScroll:p,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:wb(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||d&&Yo(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:p,layoutRoot:h})}function wb(t){if(t)return t.options.allowProjection!==!1?t.projection:wb(t.parent)}function Cf(t,{forwardMotionProps:e=!1}={},n,s){n&&BN(n);const i=Vp(t)?cT:lT;function a(d,p){let h;const m={...w.useContext(Mp),...d,layoutId:mT(d)},{isStatic:g}=m,y=KN(d),b=i(d,g);if(!g&&hp){gT();const S=vT(m);h=S.MeasureLayout,y.visualElement=hT(t,b,m,s,S.ProjectionNode)}return u.jsxs(ru.Provider,{value:y,children:[h&&y.visualElement?u.jsx(h,{visualElement:y.visualElement,...m}):null,oT(t,d,dT(b,y.visualElement,p),b,g,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=w.forwardRef(a);return l[uT]=t,l}function mT({layoutId:t}){const e=w.useContext(dp).id;return e&&t!==void 0?e+"-"+t:t}function gT(t,e){w.useContext(lb).strict}function vT(t){const{drag:e,layout:n}=ii;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function yT(t,e){if(typeof Proxy>"u")return Cf;const n=new Map,s=(a,l)=>Cf(a,l,t,e),i=(a,l)=>s(a,l);return new Proxy(i,{get:(a,l)=>l==="create"?s:(n.has(l)||n.set(l,Cf(l,void 0,t,e)),n.get(l))})}function bb({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function xT({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function wT(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function jf(t){return t===void 0||t===1}function kh({scale:t,scaleX:e,scaleY:n}){return!jf(t)||!jf(e)||!jf(n)}function zs(t){return kh(t)||Sb(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Sb(t){return Xy(t.x)||Xy(t.y)}function Xy(t){return t&&t!=="0%"}function Bc(t,e,n){const s=t-n,i=e*s;return n+i}function Qy(t,e,n,s,i){return i!==void 0&&(t=Bc(t,i,s)),Bc(t,n,s)+e}function Ch(t,e=0,n=1,s,i){t.min=Qy(t.min,e,n,s,i),t.max=Qy(t.max,e,n,s,i)}function _b(t,{x:e,y:n}){Ch(t.x,e.translate,e.scale,e.originPoint),Ch(t.y,n.translate,n.scale,n.originPoint)}const Zy=.999999999999,e0=1.0000000000001;function bT(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let d=0;d<i;d++){a=n[d],l=a.projectionDelta;const{visualElement:p}=a.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Xo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,_b(t,l)),s&&zs(a.latestValues)&&Xo(t,a.latestValues))}e.x<e0&&e.x>Zy&&(e.x=1),e.y<e0&&e.y>Zy&&(e.y=1)}function Jo(t,e){t.min=t.min+e,t.max=t.max+e}function t0(t,e,n,s,i=.5){const a=wt(t.min,t.max,i);Ch(t,e,n,a,s)}function Xo(t,e){t0(t.x,e.x,e.scaleX,e.scale,e.originX),t0(t.y,e.y,e.scaleY,e.scale,e.originY)}function kb(t,e){return bb(wT(t.getBoundingClientRect(),e))}function ST(t,e,n){const s=kb(t,n),{scroll:i}=e;return i&&(Jo(s.x,i.offset.x),Jo(s.y,i.offset.y)),s}const n0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qo=()=>({x:n0(),y:n0()}),r0=()=>({min:0,max:0}),Pt=()=>({x:r0(),y:r0()}),jh={current:null},Cb={current:!1};function _T(){if(Cb.current=!0,!!hp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jh.current=t.matches;t.addEventListener("change",e),e()}else jh.current=!1}const kT=new WeakMap;function CT(t,e,n){for(const s in e){const i=e[s],a=n[s];if(rn(i))t.addValue(s,i);else if(rn(a))t.addValue(s,oi(i,{owner:t}));else if(a!==i)if(t.hasValue(s)){const l=t.getValue(s);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(s);t.addValue(s,oi(l!==void 0?l:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const s0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jT{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=yn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,mt.render(this.render,!1,!0))};const{latestValues:p,renderState:h}=l;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=ou(n),this.isVariantNode=ub(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const b=g[y];p[y]!==void 0&&rn(b)&&b.set(p[y])}}mount(e){this.current=e,kT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Cb.current||_T(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jh.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ms(this.notifyUpdate),ms(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=vi.has(e);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&mt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ii){const n=ii[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<s0.length;s++){const i=s0[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=CT(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=oi(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(vw(s)||xw(s))?s=parseFloat(s):!IN(s)&&gs.test(n)&&(s=eb(e,n)),this.setBaseTarget(e,rn(s)?s.get():s)),rn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=Bp(this.props,n,this.presenceContext?.custom);a&&(s=a[e])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!rn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new yp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Op.render(this.render)}}class jb extends jT{constructor(){super(...arguments),this.KeyframeResolver=SN}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Eb(t,{style:e,vars:n},s,i){const a=t.style;let l;for(l in e)a[l]=e[l];i?.applyProjectionStyles(a,s);for(l in n)a.setProperty(l,n[l])}function ET(t){return window.getComputedStyle(t)}class NT extends jb{constructor(){super(...arguments),this.type="html",this.renderInstance=Eb}readValueFromInstance(e,n){if(vi.has(n))return this.projection?.isProjecting?vh(n):B2(e,n);{const s=ET(e),i=(bp(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return kb(e,n)}build(e,n,s){$p(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Up(e,n,s)}}const Nb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TT(t,e,n,s){Eb(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(Nb.has(i)?i:zp(i),e.attrs[i])}class PT extends jb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(vi.has(n)){const s=Zw(n);return s&&s.default||0}return n=Nb.has(n)?n:zp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return vb(e,n,s)}build(e,n,s){hb(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,i){TT(e,n,s,i)}mount(e){this.isSVGTag=mb(e.tagName),super.mount(e)}}const AT=(t,e)=>Vp(t)?new PT(e):new NT(e,{allowProjection:t!==w.Fragment});function ei(t,e,n){const s=t.getProps();return Bp(s,e,n!==void 0?n:s.custom,t)}const Eh=t=>Array.isArray(t);function RT(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,oi(n))}function OT(t){return Eh(t)?t[t.length-1]||0:t}function IT(t,e){const n=ei(t,e);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const l in a){const d=OT(a[l]);RT(t,l,d)}}function MT(t){return!!(rn(t)&&t.add)}function Nh(t,e){const n=t.getValue("willChange");if(MT(n))return n.add(e);if(!n&&Dr.WillChange){const s=new Dr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Tb(t){return t.props[yb]}const DT=t=>t!==null;function LT(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(DT),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const $T={type:"spring",stiffness:500,damping:25,restSpeed:10},FT=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),VT={type:"keyframes",duration:.8},BT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UT=(t,{keyframes:e})=>e.length>2?VT:vi.has(t)?t.startsWith("scale")?FT(e[1]):$T:BT;function zT({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:d,from:p,elapsed:h,...m}){return!!Object.keys(m).length}const Wp=(t,e,n,s={},i,a)=>l=>{const d=Ap(s,t)||{},p=d.delay||s.delay||0;let{elapsed:h=0}=s;h=h-vr(p);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-h,onUpdate:y=>{e.set(y),d.onUpdate&&d.onUpdate(y)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:i};zT(d)||Object.assign(m,UT(t,m)),m.duration&&(m.duration=vr(m.duration)),m.repeatDelay&&(m.repeatDelay=vr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Sh(m),m.delay===0&&(g=!0)),(Dr.instantAnimations||Dr.skipAnimations)&&(g=!0,Sh(m),m.delay=0),m.allowFlatten=!d.type&&!d.ease,g&&!a&&e.get()!==void 0){const y=LT(m.keyframes,d);if(y!==void 0){mt.update(()=>{m.onUpdate(y),m.onComplete()});return}}return d.isSync?new Tp(m):new uN(m)};function WT({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function Pb(t,e,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...d}=e;s&&(a=s);const p=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const m in d){const g=t.getValue(m,t.latestValues[m]??null),y=d[m];if(y===void 0||h&&WT(h,m))continue;const b={delay:n,...Ap(a||{},m)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===S&&!b.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const j=Tb(t);if(j){const T=window.MotionHandoffAnimation(j,m,mt);T!==null&&(b.startTime=T,_=!0)}}Nh(t,m),g.start(Wp(m,g,y,t.shouldReduceMotion&&Jw.has(m)?{type:!1}:b,t,_));const C=g.animation;C&&p.push(C)}return l&&Promise.all(p).then(()=>{mt.update(()=>{l&&IT(t,l)})}),p}function Ab(t,e,n,s=0,i=1){const a=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),l=t.size,d=(l-1)*s;return typeof n=="function"?n(a,l):i===1?a*s:d-a*s}function Th(t,e,n={}){const s=ei(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(Pb(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:g}=i;return HT(t,e,p,h,m,g,n)}:()=>Promise.resolve(),{when:d}=i;if(d){const[p,h]=d==="beforeChildren"?[a,l]:[l,a];return p().then(()=>h())}else return Promise.all([a(),l(n.delay)])}function HT(t,e,n=0,s=0,i=0,a=1,l){const d=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),d.push(Th(p,e,{...l,delay:n+(typeof s=="function"?0:s)+Ab(t.variantChildren,p,s,i,a)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(d)}function KT(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(a=>Th(t,a,n));s=Promise.all(i)}else if(typeof e=="string")s=Th(t,e,n);else{const i=typeof e=="function"?ei(t,e,n.custom):e;s=Promise.all(Pb(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function Rb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const GT=Lp.length;function Ob(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Ob(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<GT;n++){const s=Lp[n],i=t.props[s];(Ta(i)||i===!1)&&(e[s]=i)}return e}const qT=[...Dp].reverse(),YT=Dp.length;function JT(t){return e=>Promise.all(e.map(({animation:n,options:s})=>KT(t,n,s)))}function XT(t){let e=JT(t),n=o0(),s=!0;const i=p=>(h,m)=>{const g=ei(t,m,p==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:b,...S}=g;h={...h,...S,...b}}return h};function a(p){e=p(t)}function l(p){const{props:h}=t,m=Ob(t.parent)||{},g=[],y=new Set;let b={},S=1/0;for(let C=0;C<YT;C++){const j=qT[C],T=n[j],E=h[j]!==void 0?h[j]:m[j],N=Ta(E),P=j===p?T.isActive:null;P===!1&&(S=C);let I=E===m[j]&&E!==h[j]&&N;if(I&&s&&t.manuallyAnimateOnMount&&(I=!1),T.protectedKeys={...b},!T.isActive&&P===null||!E&&!T.prevProp||su(E)||typeof E=="boolean")continue;const $=QT(T.prevProp,E);let M=$||j===p&&T.isActive&&!I&&N||C>S&&N,V=!1;const H=Array.isArray(E)?E:[E];let Q=H.reduce(i(j),{});P===!1&&(Q={});const{prevResolvedValues:Z={}}=T,ie={...Z,...Q},he=J=>{M=!0,y.has(J)&&(V=!0,y.delete(J)),T.needsAnimating[J]=!0;const R=t.getValue(J);R&&(R.liveStyle=!1)};for(const J in ie){const R=Q[J],W=Z[J];if(b.hasOwnProperty(J))continue;let X=!1;Eh(R)&&Eh(W)?X=!Rb(R,W):X=R!==W,X?R!=null?he(J):y.add(J):R!==void 0&&y.has(J)?he(J):T.protectedKeys[J]=!0}T.prevProp=E,T.prevResolvedValues=Q,T.isActive&&(b={...b,...Q}),s&&t.blockInitialAnimation&&(M=!1);const be=I&&$;M&&(!be||V)&&g.push(...H.map(J=>{const R={type:j};if(typeof J=="string"&&s&&!be&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,X=ei(W,J);if(W.enteringChildren&&X){const{delayChildren:L}=X.transition||{};R.delay=Ab(W.enteringChildren,t,L)}}return{animation:J,options:R}}))}if(y.size){const C={};if(typeof h.initial!="boolean"){const j=ei(t,Array.isArray(h.initial)?h.initial[0]:h.initial);j&&j.transition&&(C.transition=j.transition)}y.forEach(j=>{const T=t.getBaseTarget(j),E=t.getValue(j);E&&(E.liveStyle=!0),C[j]=T??null}),g.push({animation:C})}let _=!!g.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(_=!1),s=!1,_?e(g):Promise.resolve()}function d(p,h){if(n[p].isActive===h)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(p,h)),n[p].isActive=h;const m=l(p);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=o0()}}}function QT(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Rb(e,t):!1}function Fs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function o0(){return{animate:Fs(!0),whileInView:Fs(),whileHover:Fs(),whileTap:Fs(),whileDrag:Fs(),whileFocus:Fs(),exit:Fs()}}class bs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ZT extends bs{constructor(e){super(e),e.animationState||(e.animationState=XT(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();su(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let eP=0;class tP extends bs{constructor(){super(...arguments),this.id=eP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const nP={animation:{Feature:ZT},exit:{Feature:tP}};function Aa(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Wa(t){return{point:{x:t.pageX,y:t.pageY}}}const rP=t=>e=>Ip(e)&&t(e,Wa(e));function ya(t,e,n,s){return Aa(t,e,rP(n),s)}const Ib=1e-4,sP=1-Ib,oP=1+Ib,Mb=.01,iP=0-Mb,aP=0+Mb;function ln(t){return t.max-t.min}function lP(t,e,n){return Math.abs(t-e)<=n}function i0(t,e,n,s=.5){t.origin=s,t.originPoint=wt(e.min,e.max,t.origin),t.scale=ln(n)/ln(e),t.translate=wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=sP&&t.scale<=oP||isNaN(t.scale))&&(t.scale=1),(t.translate>=iP&&t.translate<=aP||isNaN(t.translate))&&(t.translate=0)}function xa(t,e,n,s){i0(t.x,e.x,n.x,s?s.originX:void 0),i0(t.y,e.y,n.y,s?s.originY:void 0)}function a0(t,e,n){t.min=n.min+e.min,t.max=t.min+ln(e)}function cP(t,e,n){a0(t.x,e.x,n.x),a0(t.y,e.y,n.y)}function l0(t,e,n){t.min=e.min-n.min,t.max=t.min+ln(e)}function wa(t,e,n){l0(t.x,e.x,n.x),l0(t.y,e.y,n.y)}function Fn(t){return[t("x"),t("y")]}const Db=({current:t})=>t?t.ownerDocument.defaultView:null,c0=(t,e)=>Math.abs(t-e);function uP(t,e){const n=c0(t.x,e.x),s=c0(t.y,e.y);return Math.sqrt(n**2+s**2)}class Lb{constructor(e,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Nf(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=uP(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!S)return;const{point:_}=y,{timestamp:C}=qt;this.history.push({..._,timestamp:C});const{onStart:j,onMove:T}=this.handlers;b||(j&&j(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Ef(b,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:S,onSessionEnd:_,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Nf(y.type==="pointercancel"?this.lastMoveEventInfo:Ef(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,j),_&&_(y,j)},!Ip(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=l,this.contextWindow=i||window;const d=Wa(e),p=Ef(d,this.transformPagePoint),{point:h}=p,{timestamp:m}=qt;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Nf(p,this.history)),this.removeListeners=Ba(ya(this.contextWindow,"pointermove",this.handlePointerMove),ya(this.contextWindow,"pointerup",this.handlePointerUp),ya(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ms(this.updatePoint)}}function Ef(t,e){return e?{point:e(t.point)}:t}function u0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Nf({point:t},e){return{point:t,delta:u0(t,$b(e)),offset:u0(t,dP(e)),velocity:fP(e,.1)}}function dP(t){return t[0]}function $b(t){return t[t.length-1]}function fP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=$b(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>vr(e)));)n--;if(!s)return{x:0,y:0};const a=Bn(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function hP(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?wt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?wt(n,t,s.max):Math.min(t,n)),t}function d0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function pP(t,{top:e,left:n,bottom:s,right:i}){return{x:d0(t.x,n,i),y:d0(t.y,e,s)}}function f0(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function mP(t,e){return{x:f0(t.x,e.x),y:f0(t.y,e.y)}}function gP(t,e){let n=.5;const s=ln(t),i=ln(e);return i>s?n=ja(e.min,e.max-s,t.min):s>i&&(n=ja(t.min,t.max-i,e.min)),Mr(0,1,n)}function vP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ph=.35;function yP(t=Ph){return t===!1?t=0:t===!0&&(t=Ph),{x:h0(t,"left","right"),y:h0(t,"top","bottom")}}function h0(t,e,n){return{min:p0(t,e),max:p0(t,n)}}function p0(t,e){return typeof t=="number"?t:t[e]||0}const xP=new WeakMap;class wP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wa(g).point)},l=(g,y)=>{const{drag:b,dragPropagation:S,onDragStart:_}=this.getProps();if(b&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jN(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fn(j=>{let T=this.getAxisMotionValue(j).get()||0;if(yr.test(T)){const{projection:E}=this.visualElement;if(E&&E.layout){const N=E.layout.layoutBox[j];N&&(T=ln(N)*(parseFloat(T)/100))}}this.originPoint[j]=T}),_&&mt.postRender(()=>_(g,y)),Nh(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},d=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:_,onDrag:C}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:j}=y;if(S&&this.currentDirection===null){this.currentDirection=bP(j),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",y.point,j),this.updateAxis("y",y.point,j),this.visualElement.render(),C&&C(g,y)},p=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Fn(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Lb(e,{onSessionStart:a,onStart:l,onMove:d,onSessionEnd:p,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:Db(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!s)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:d}=this.getProps();d&&mt.postRender(()=>d(s,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!uc(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(l=hP(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Yo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=pP(s.layoutBox,e):this.constraints=!1,this.elastic=yP(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Fn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=vP(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Yo(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=ST(s,i.root,this.visualElement.getTransformPagePoint());let l=mP(i.layout.layoutBox,a);if(n){const d=n(xT(l));this.hasMutatedConstraints=!!d,d&&(l=bb(d))}return l}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},h=Fn(m=>{if(!uc(m,n,this.currentDirection))return;let g=p&&p[m]||{};l&&(g={min:0,max:0});const y=i?200:1e6,b=i?40:1e7,S={type:"inertia",velocity:s?e[m]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,S)});return Promise.all(h).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Nh(this.visualElement,e),s.start(Wp(e,s,0,n,this.visualElement,!1))}stopAnimation(){Fn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Fn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Fn(n=>{const{drag:s}=this.getProps();if(!uc(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:d}=i.layout.layoutBox[n];a.set(e[n]-wt(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Yo(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Fn(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const p=d.get();i[l]=gP({min:p,max:p},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Fn(l=>{if(!uc(l,e,null))return;const d=this.getAxisMotionValue(l),{min:p,max:h}=this.constraints[l];d.set(wt(p,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;xP.set(this.visualElement,this);const e=this.visualElement.current,n=ya(e,"pointerdown",p=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();Yo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),mt.read(s);const l=Aa(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:h})=>{this.isDragging&&h&&(Fn(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=p[m].translate,g.set(g.get()+p[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Ph,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function uc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function bP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class SP extends bs{constructor(e){super(e),this.removeGroupControls=Un,this.removeListeners=Un,this.controls=new wP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Un}unmount(){this.removeGroupControls(),this.removeListeners()}}const m0=t=>(e,n)=>{t&&mt.postRender(()=>t(e,n))};class _P extends bs{constructor(){super(...arguments),this.removePointerDownListener=Un}onPointerDown(e){this.session=new Lb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Db(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:m0(e),onStart:m0(n),onMove:s,onEnd:(a,l)=>{delete this.session,i&&mt.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=ya(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Oc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function g0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ia={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const n=g0(t,e.target.x),s=g0(t,e.target.y);return`${n}% ${s}%`}},kP={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=gs.parse(t);if(i.length>5)return s;const a=gs.createTransformer(t),l=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,p=n.y.scale*e.y;i[0+l]/=d,i[1+l]/=p;const h=wt(d,p,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),a(i)}};let Tf=!1;class CP extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=e;GN(jP),a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),Tf&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Oc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,{projection:l}=s;return l&&(l.isPresent=a,Tf=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||mt.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Op.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;Tf=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Fb(t){const[e,n]=ab(),s=w.useContext(dp);return u.jsx(CP,{...t,layoutGroup:s,switchLayoutGroup:w.useContext(xb),isPresent:e,safeToRemove:n})}const jP={borderRadius:{...ia,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ia,borderTopRightRadius:ia,borderBottomLeftRadius:ia,borderBottomRightRadius:ia,boxShadow:kP};function EP(t,e,n){const s=rn(t)?t:oi(t);return s.start(Wp("",s,e,n)),s.animation}const NP=(t,e)=>t.depth-e.depth;class TP{constructor(){this.children=[],this.isDirty=!1}add(e){pp(this.children,e),this.isDirty=!0}remove(e){mp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(NP),this.isDirty=!1,this.children.forEach(e)}}function PP(t,e){const n=yn.now(),s=({timestamp:i})=>{const a=i-n;a>=e&&(ms(s),t(a-e))};return mt.setup(s,!0),()=>ms(s)}const Vb=["TopLeft","TopRight","BottomLeft","BottomRight"],AP=Vb.length,v0=t=>typeof t=="string"?parseFloat(t):t,y0=t=>typeof t=="number"||Oe.test(t);function RP(t,e,n,s,i,a){i?(t.opacity=wt(0,n.opacity??1,OP(s)),t.opacityExit=wt(e.opacity??1,0,IP(s))):a&&(t.opacity=wt(e.opacity??1,n.opacity??1,s));for(let l=0;l<AP;l++){const d=`border${Vb[l]}Radius`;let p=x0(e,d),h=x0(n,d);if(p===void 0&&h===void 0)continue;p||(p=0),h||(h=0),p===0||h===0||y0(p)===y0(h)?(t[d]=Math.max(wt(v0(p),v0(h),s),0),(yr.test(h)||yr.test(p))&&(t[d]+="%")):t[d]=h}(e.rotate||n.rotate)&&(t.rotate=wt(e.rotate||0,n.rotate||0,s))}function x0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const OP=Bb(0,.5,Ew),IP=Bb(.5,.95,Un);function Bb(t,e,n){return s=>s<t?0:s>e?1:n(ja(t,e,s))}function w0(t,e){t.min=e.min,t.max=e.max}function $n(t,e){w0(t.x,e.x),w0(t.y,e.y)}function b0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function S0(t,e,n,s,i){return t-=e,t=Bc(t,1/n,s),i!==void 0&&(t=Bc(t,1/i,s)),t}function MP(t,e=0,n=1,s=.5,i,a=t,l=t){if(yr.test(e)&&(e=parseFloat(e),e=wt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let d=wt(a.min,a.max,s);t===a&&(d-=e),t.min=S0(t.min,e,n,d,i),t.max=S0(t.max,e,n,d,i)}function _0(t,e,[n,s,i],a,l){MP(t,e[n],e[s],e[i],e.scale,a,l)}const DP=["x","scaleX","originX"],LP=["y","scaleY","originY"];function k0(t,e,n,s){_0(t.x,e,DP,n?n.x:void 0,s?s.x:void 0),_0(t.y,e,LP,n?n.y:void 0,s?s.y:void 0)}function C0(t){return t.translate===0&&t.scale===1}function Ub(t){return C0(t.x)&&C0(t.y)}function j0(t,e){return t.min===e.min&&t.max===e.max}function $P(t,e){return j0(t.x,e.x)&&j0(t.y,e.y)}function E0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function zb(t,e){return E0(t.x,e.x)&&E0(t.y,e.y)}function N0(t){return ln(t.x)/ln(t.y)}function T0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class FP{constructor(){this.members=[]}add(e){pp(this.members,e),e.scheduleRender()}remove(e){if(mp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VP(t,e,n){let s="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((i||a||l)&&(s=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:y,skewX:b,skewY:S}=n;h&&(s=`perspective(${h}px) ${s}`),m&&(s+=`rotate(${m}deg) `),g&&(s+=`rotateX(${g}deg) `),y&&(s+=`rotateY(${y}deg) `),b&&(s+=`skewX(${b}deg) `),S&&(s+=`skewY(${S}deg) `)}const d=t.x.scale*e.x,p=t.y.scale*e.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const Pf=["","X","Y","Z"],BP=1e3;let UP=0;function Af(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Wb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Tb(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(i||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Wb(s)}function Hb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(l={},d=e?.()){this.id=UP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(HP),this.nodes.forEach(YP),this.nodes.forEach(JP),this.nodes.forEach(KP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new TP)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new yp),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const p=this.eventHandlers.get(l);p&&p.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=ib(l)&&!RN(l),this.instance=l;const{layoutId:d,layout:p,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),t){let m,g=0;const y=()=>this.root.updateBlockedByResize=!1;mt.read(()=>{g=window.innerWidth}),t(l,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,m&&m(),m=PP(y,250),Oc.hasAnimatedSinceResize&&(Oc.hasAnimatedSinceResize=!1,this.nodes.forEach(R0)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||p)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||tA,{onLayoutAnimationStart:_,onLayoutAnimationComplete:C}=h.getProps(),j=!this.targetLayout||!zb(this.targetLayout,b),T=!g&&y;if(this.options.layoutRoot||this.resumeFrom||T||g&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...Ap(S,"layout"),onPlay:_,onComplete:C};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(m,T)}else g||R0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ms(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XP),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Wb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(P0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(A0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qP),this.nodes.forEach(zP),this.nodes.forEach(WP)):this.nodes.forEach(A0),this.clearAllSnapshots();const d=yn.now();qt.delta=Mr(0,1e3/60,d-qt.timestamp),qt.timestamp=d,qt.isProcessing=!0,xf.update.process(qt),xf.preRender.process(qt),xf.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Op.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GP),this.sharedNodes.forEach(QP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ln(this.snapshot.measuredBox.x)&&!ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Ub(this.projectionDelta),p=this.getTransformTemplate(),h=p?p(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&this.instance&&(d||zs(this.latestValues)||m)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return l&&(p=this.removeTransform(p)),nA(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Pt();const d=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(rA))){const{scroll:h}=this.root;h&&(Jo(d.x,h.offset.x),Jo(d.y,h.offset.y))}return d}removeElementScroll(l){const d=Pt();if($n(d,l),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const h=this.path[p],{scroll:m,options:g}=h;h!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&$n(d,l),Jo(d.x,m.offset.x),Jo(d.y,m.offset.y))}return d}applyTransform(l,d=!1){const p=Pt();$n(p,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!d&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Xo(p,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),zs(m.latestValues)&&Xo(p,m.latestValues)}return zs(this.latestValues)&&Xo(p,this.latestValues),p}removeTransform(l){const d=Pt();$n(d,l);for(let p=0;p<this.path.length;p++){const h=this.path[p];if(!h.instance||!zs(h.latestValues))continue;kh(h.latestValues)&&h.updateSnapshot();const m=Pt(),g=h.measurePageBox();$n(m,g),k0(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return zs(this.latestValues)&&k0(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),wa(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),_b(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),wa(this.relativeTargetOrigin,this.target,y.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||kh(this.parent.latestValues)||Sb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),d=!!this.resumingFrom||this!==l;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(p=!1),p)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;$n(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;bT(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Pt());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(b0(this.prevProjectionDelta.x,this.projectionDelta.x),b0(this.prevProjectionDelta.y,this.projectionDelta.y)),xa(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!T0(this.projectionDelta.x,this.prevProjectionDelta.x)||!T0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qo(),this.projectionDelta=Qo(),this.projectionDeltaWithTransform=Qo()}setAnimationOrigin(l,d=!1){const p=this.snapshot,h=p?p.latestValues:{},m={...this.latestValues},g=Qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const y=Pt(),b=p?p.source:void 0,S=this.layout?this.layout.source:void 0,_=b!==S,C=this.getStack(),j=!C||C.members.length<=1,T=!!(_&&!j&&this.options.crossfade===!0&&!this.path.some(eA));this.animationProgress=0;let E;this.mixTargetDelta=N=>{const P=N/1e3;O0(g.x,l.x,P),O0(g.y,l.y,P),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wa(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZP(this.relativeTarget,this.relativeTargetOrigin,y,P),E&&$P(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Pt()),$n(E,this.relativeTarget)),_&&(this.animationValues=m,RP(m,h,this.latestValues,P,T,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ms(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{Oc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=oi(0)),this.currentAnimation=EP(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:p,layout:h,latestValues:m}=l;if(!(!d||!p||!h)){if(this!==l&&this.layout&&h&&Kb(this.options.animationType,this.layout.layoutBox,h.layoutBox)){p=this.target||Pt();const g=ln(this.layout.layoutBox.x);p.x.min=l.target.x.min,p.x.max=p.x.min+g;const y=ln(this.layout.layoutBox.y);p.y.min=l.target.y.min,p.y.max=p.y.min+y}$n(d,p),Xo(d,m),xa(this.projectionDeltaWithTransform,this.layoutCorrected,d,m)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new FP),this.sharedNodes.get(l).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:p}={}){const h=this.getStack();h&&h.promote(this,p),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:p}=l;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const h={};p.z&&Af("z",l,h,this.animationValues);for(let m=0;m<Pf.length;m++)Af(`rotate${Pf[m]}`,l,h,this.animationValues),Af(`skew${Pf[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}applyProjectionStyles(l,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Rc(d?.pointerEvents)||"",l.transform=p?p(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Rc(d?.pointerEvents)||""),this.hasProjected&&!zs(this.latestValues)&&(l.transform=p?p({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=VP(this.projectionDeltaWithTransform,this.treeScale,m);p&&(g=p(m,g)),l.transform=g;const{x:y,y:b}=this.projectionDelta;l.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,h.animationValues?l.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in Pa){if(m[S]===void 0)continue;const{correct:_,applyTo:C,isCSSVariable:j}=Pa[S],T=g==="none"?m[S]:_(m[S],h);if(C){const E=C.length;for(let N=0;N<E;N++)l[C[N]]=T}else j?this.options.visualElement.renderState.vars[S]=T:l[S]=T}this.options.layoutId&&(l.pointerEvents=h===this?Rc(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(P0),this.root.sharedNodes.clear()}}}function zP(t){t.updateLayout()}function WP(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Fn(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],y=ln(g);g.min=n[m].min,g.max=g.min+y}):Kb(i,e.layoutBox,n)&&Fn(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],y=ln(n[m]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+y)});const l=Qo();xa(l,n,e.layoutBox);const d=Qo();a?xa(d,t.applyTransform(s,!0),e.measuredBox):xa(d,n,e.layoutBox);const p=!Ub(l);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:y}=m;if(g&&y){const b=Pt();wa(b,e.layoutBox,g.layoutBox);const S=Pt();wa(S,n,y.layoutBox),zb(b,S)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=b,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:l,hasLayoutChanged:p,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function HP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function KP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function GP(t){t.clearSnapshot()}function P0(t){t.clearMeasurements()}function A0(t){t.isLayoutDirty=!1}function qP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function R0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function YP(t){t.resolveTargetDelta()}function JP(t){t.calcProjection()}function XP(t){t.resetSkewAndRotation()}function QP(t){t.removeLeadSnapshot()}function O0(t,e,n){t.translate=wt(e.translate,0,n),t.scale=wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function I0(t,e,n,s){t.min=wt(e.min,n.min,s),t.max=wt(e.max,n.max,s)}function ZP(t,e,n,s){I0(t.x,e.x,n.x,s),I0(t.y,e.y,n.y,s)}function eA(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tA={duration:.45,ease:[.4,0,.1,1]},M0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),D0=M0("applewebkit/")&&!M0("chrome/")?Math.round:Un;function L0(t){t.min=D0(t.min),t.max=D0(t.max)}function nA(t){L0(t.x),L0(t.y)}function Kb(t,e,n){return t==="position"||t==="preserve-aspect"&&!lP(N0(e),N0(n),.2)}function rA(t){return t!==t.root&&t.scroll?.wasRoot}const sA=Hb({attachResizeListener:(t,e)=>Aa(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rf={current:void 0},Gb=Hb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Rf.current){const t=new sA({});t.mount(window),t.setOptions({layoutScroll:!0}),Rf.current=t}return Rf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),oA={pan:{Feature:_P},drag:{Feature:SP,ProjectionNode:Gb,MeasureLayout:Fb}};function $0(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&mt.postRender(()=>a(e,Wa(e)))}class iA extends bs{mount(){const{current:e}=this.node;e&&(this.unmount=EN(e,(n,s)=>($0(this.node,s,"Start"),i=>$0(this.node,i,"End"))))}unmount(){}}class aA extends bs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ba(Aa(this.node.current,"focus",()=>this.onFocus()),Aa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function F0(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&mt.postRender(()=>a(e,Wa(e)))}class lA extends bs{mount(){const{current:e}=this.node;e&&(this.unmount=AN(e,(n,s)=>(F0(this.node,s,"Start"),(i,{success:a})=>F0(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ah=new WeakMap,Of=new WeakMap,cA=t=>{const e=Ah.get(t.target);e&&e(t)},uA=t=>{t.forEach(cA)};function dA({root:t,...e}){const n=t||document;Of.has(n)||Of.set(n,{});const s=Of.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(uA,{root:t,...e})),s[i]}function fA(t,e,n){const s=dA(e);return Ah.set(t,n),s.observe(t),()=>{Ah.delete(t),s.unobserve(t)}}const hA={some:0,all:1};class pA extends bs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:hA[i]},d=p=>{const{isIntersecting:h}=p;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),y=h?m:g;y&&y(p)};return fA(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mA(e,n))&&this.startObserver()}unmount(){}}function mA({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gA={inView:{Feature:pA},tap:{Feature:lA},focus:{Feature:aA},hover:{Feature:iA}},vA={layout:{ProjectionNode:Gb,MeasureLayout:Fb}},yA={...nP,...gA,...oA,...vA},ee=yT(yA,AT);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wA=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),V0=t=>{const e=wA(t);return e.charAt(0).toUpperCase()+e.slice(1)},qb=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),bA=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:l,...d},p)=>w.createElement("svg",{ref:p,...SA,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:qb("lucide",i),...!a&&!bA(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,m])=>w.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=w.forwardRef(({className:s,...i},a)=>w.createElement(_A,{ref:a,iconNode:e,className:qb(`lucide-${xA(V0(t))}`,`lucide-${t}`,s),...i}));return n.displayName=V0(t),n};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],iu=Pe("arrow-left",kA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Uc=Pe("arrow-right",CA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],EA=Pe("ban",jA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],TA=Pe("bell",NA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Yb=Pe("camera",PA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Ys=Pe("check-check",AA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],eo=Pe("check",RA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],IA=Pe("chevron-down",OA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],If=Pe("chevron-right",MA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],LA=Pe("chevron-up",DA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ra=Pe("circle-alert",$A);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Rh=Pe("clock",FA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],BA=Pe("copy",VA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Hp=Pe("ellipsis-vertical",UA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Oh=Pe("eye",zA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],HA=Pe("heart",WA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],GA=Pe("image",KA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Jb=Pe("info",qA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xb=Pe("loader-circle",YA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],XA=Pe("lock",JA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ZA=Pe("log-out",QA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Qb=Pe("mail",eR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],nR=Pe("maximize-2",tR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ha=Pe("message-circle",rR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],B0=Pe("mic-off",sR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],to=Pe("mic",oR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],aR=Pe("minimize-2",iR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],cR=Pe("paperclip",lR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Zb=Pe("pause",uR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],Ih=Pe("phone-off",dR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],br=Pe("phone",fR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],e1=Pe("play",hR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ba=Pe("plus",pR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gR=Pe("refresh-cw",mR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],U0=Pe("reply",vR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],au=Pe("search",yR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],lu=Pe("send",xR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],t1=Pe("settings",wR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],n1=Pe("shield",bR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],_R=Pe("smile",SR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],CR=Pe("sparkles",kR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ai=Pe("trash-2",jR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],NR=Pe("type",ER);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],r1=Pe("user-plus",TR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],AR=Pe("user-x",PR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],s1=Pe("user",RR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],z0=Pe("users",OR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],MR=Pe("video-off",IR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],li=Pe("video",DR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],$R=Pe("volume-2",LR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],no=Pe("x",FR);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],BR=Pe("zap",VR);function UR({onComplete:t,duration:e=2500}){const[n,s]=w.useState(0);return w.useEffect(()=>{const i=setInterval(()=>{s(l=>l>=100?(clearInterval(i),100):l+2)},e/50),a=setTimeout(()=>{t?.()},e);return()=>{clearInterval(i),clearTimeout(a)}},[t,e]),u.jsxs("div",{className:"h-screen w-full flex items-center justify-center relative overflow-hidden bg-gradient-to-br from-[#0057FF] via-[#0047DD] to-[#00D4A6] px-4 sm:px-6 pt-safe pb-safe",children:[u.jsx("div",{className:"absolute inset-0",children:u.jsx(ee.div,{className:"absolute inset-0",animate:{background:["radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.1) 0%, transparent 50%)","radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.15) 0%, transparent 50%)","radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 50%)","radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.1) 0%, transparent 50%)"]},transition:{duration:4,repeat:1/0,ease:"linear"}})}),u.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(15)].map((i,a)=>u.jsx(ee.div,{className:"absolute rounded-full bg-white/10 backdrop-blur-sm",style:{width:Math.random()*80+20,height:Math.random()*80+20,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-40,0],x:[0,30,0],scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:Math.random()*8+10,repeat:1/0,delay:Math.random()*2,ease:"easeInOut"}},a))}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center w-full max-w-md",children:[u.jsxs(ee.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,duration:1},className:"relative mb-8 sm:mb-10",children:[u.jsx(ee.div,{className:"absolute inset-0 -m-6",animate:{scale:[1,1.4,1],opacity:[.4,0,.4]},transition:{duration:2,repeat:1/0,ease:"easeOut"},children:u.jsx("div",{className:"w-44 h-44 rounded-full border-3 border-white/40"})}),u.jsx(ee.div,{className:"absolute inset-0 -m-3",animate:{scale:[1,1.3,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,ease:"easeOut",delay:.3},children:u.jsx("div",{className:"w-38 h-38 rounded-full border-2 border-white/30"})}),u.jsxs("div",{className:"relative w-24 h-24 xs:w-28 xs:h-28 sm:w-32 sm:h-32 rounded-full bg-white shadow-2xl flex items-center justify-center ring-4 xs:ring-6 sm:ring-8 ring-white/30",children:[u.jsx(ee.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-full",style:{background:"conic-gradient(from 0deg, transparent, rgba(255,255,255,0.3), transparent)"}}),u.jsx(ee.div,{className:"relative",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:u.jsx(Ha,{className:"w-12 h-12 xs:w-14 xs:h-14 sm:w-16 sm:h-16 text-primary",strokeWidth:2.5})})]}),u.jsx(ee.div,{className:"absolute -top-2 -right-2 xs:-top-3 xs:-right-3 sm:-top-4 sm:-right-4",animate:{scale:[1,1.2,1],rotate:[0,180,360],opacity:[.6,1,.6]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:u.jsx(CR,{className:"w-6 h-6 xs:w-7 xs:h-7 sm:w-8 sm:h-8 text-white",fill:"white"})})]}),u.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"text-center mb-12 sm:mb-16",children:[u.jsx(ee.h1,{className:"text-4xl xs:text-5xl sm:text-6xl md:text-7xl font-bold text-white mb-2 sm:mb-3 tracking-tight",animate:{textShadow:["0 0 20px rgba(255,255,255,0.5)","0 0 40px rgba(255,255,255,0.8)","0 0 20px rgba(255,255,255,0.5)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"AuroraLink"}),u.jsx(ee.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-white/90 text-base xs:text-lg sm:text-xl font-medium tracking-wide px-4",children:"Connect. Communicate. Collaborate."})]}),u.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"w-48 xs:w-56 sm:w-64 space-y-2.5 sm:space-y-3 px-4",children:[u.jsx("div",{className:"h-1.5 bg-white/20 rounded-full overflow-hidden backdrop-blur-sm",children:u.jsx(ee.div,{className:"h-full bg-white rounded-full shadow-lg shadow-white/50",initial:{width:0},animate:{width:`${n}%`},transition:{duration:.3}})}),u.jsx(ee.p,{className:"text-center text-white/70 text-sm",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:"Loading..."})]})]}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/10 to-transparent"})]})}function W0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Lr(...t){return e=>{let n=!1;const s=t.map(i=>{const a=W0(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():W0(t[i],null)}}}}function bt(...t){return w.useCallback(Lr(...t),t)}function ro(t){const e=zR(t),n=w.forwardRef((s,i)=>{const{children:a,...l}=s,d=w.Children.toArray(a),p=d.find(HR);if(p){const h=p.props.children,m=d.map(g=>g===p?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:g);return u.jsx(e,{...l,ref:i,children:w.isValidElement(h)?w.cloneElement(h,void 0,m):null})}return u.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var o1=ro("Slot");function zR(t){const e=w.forwardRef((n,s)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const l=GR(i),d=KR(a,i.props);return i.type!==w.Fragment&&(d.ref=s?Lr(s,l):l),w.cloneElement(i,d)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var i1=Symbol("radix.slottable");function WR(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=i1,e}function HR(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===i1}function KR(t,e){const n={...e};for(const s in e){const i=t[s],a=e[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{const p=a(...d);return i(...d),p}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function GR(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function a1(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=a1(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function l1(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=a1(t))&&(s&&(s+=" "),s+=e);return s}const H0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,K0=l1,Kp=(t,e)=>n=>{var s;if(e?.variants==null)return K0(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(h=>{const m=n?.[h],g=a?.[h];if(m===null)return null;const y=H0(m)||H0(g);return i[h][y]}),d=n&&Object.entries(n).reduce((h,m)=>{let[g,y]=m;return y===void 0||(h[g]=y),h},{}),p=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((h,m)=>{let{class:g,className:y,...b}=m;return Object.entries(b).every(S=>{let[_,C]=S;return Array.isArray(C)?C.includes({...a,...d}[_]):{...a,...d}[_]===C})?[...h,g,y]:h},[]);return K0(t,l,p,n?.class,n?.className)},Gp="-",qR=t=>{const e=JR(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:l=>{const d=l.split(Gp);return d[0]===""&&d.length!==1&&d.shift(),c1(d,e)||YR(l)},getConflictingClassGroupIds:(l,d)=>{const p=n[l]||[];return d&&s[l]?[...p,...s[l]]:p}}},c1=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),i=s?c1(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Gp);return e.validators.find(({validator:l})=>l(a))?.classGroupId},G0=/^\[(.+)\]$/,YR=t=>{if(G0.test(t)){const e=G0.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},JR=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const i in n)Mh(n[i],s,i,e);return s},Mh=(t,e,n,s)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:q0(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(XR(i)){Mh(i(s),e,n,s);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,l])=>{Mh(l,q0(e,a),n,s)})})},q0=(t,e)=>{let n=t;return e.split(Gp).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},XR=t=>t.isThemeGetter,QR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const i=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,s=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=s.get(a))!==void 0)return i(a,l),l},set(a,l){n.has(a)?n.set(a,l):i(a,l)}}},Dh="!",Lh=":",ZR=Lh.length,e5=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=i=>{const a=[];let l=0,d=0,p=0,h;for(let S=0;S<i.length;S++){let _=i[S];if(l===0&&d===0){if(_===Lh){a.push(i.slice(p,S)),p=S+ZR;continue}if(_==="/"){h=S;continue}}_==="["?l++:_==="]"?l--:_==="("?d++:_===")"&&d--}const m=a.length===0?i:i.substring(p),g=t5(m),y=g!==m,b=h&&h>p?h-p:void 0;return{modifiers:a,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:b}};if(e){const i=e+Lh,a=s;s=l=>l.startsWith(i)?a(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const i=s;s=a=>n({className:a,parseClassName:i})}return s},t5=t=>t.endsWith(Dh)?t.substring(0,t.length-1):t.startsWith(Dh)?t.substring(1):t,n5=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const i=[];let a=[];return s.forEach(l=>{l[0]==="["||e[l]?(i.push(...a.sort(),l),a=[]):a.push(l)}),i.push(...a.sort()),i}},r5=t=>({cache:QR(t.cacheSize),parseClassName:e5(t),sortModifiers:n5(t),...qR(t)}),s5=/\s+/,o5=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:a}=e,l=[],d=t.trim().split(s5);let p="";for(let h=d.length-1;h>=0;h-=1){const m=d[h],{isExternal:g,modifiers:y,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:_}=n(m);if(g){p=m+(p.length>0?" "+p:p);continue}let C=!!_,j=s(C?S.substring(0,_):S);if(!j){if(!C){p=m+(p.length>0?" "+p:p);continue}if(j=s(S),!j){p=m+(p.length>0?" "+p:p);continue}C=!1}const T=a(y).join(":"),E=b?T+Dh:T,N=E+j;if(l.includes(N))continue;l.push(N);const P=i(j,C);for(let I=0;I<P.length;++I){const $=P[I];l.push(E+$)}p=m+(p.length>0?" "+p:p)}return p};function i5(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=u1(e))&&(s&&(s+=" "),s+=n);return s}const u1=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=u1(t[s]))&&(n&&(n+=" "),n+=e);return n};function a5(t,...e){let n,s,i,a=l;function l(p){const h=e.reduce((m,g)=>g(m),t());return n=r5(h),s=n.cache.get,i=n.cache.set,a=d,d(p)}function d(p){const h=s(p);if(h)return h;const m=o5(p,n);return i(p,m),m}return function(){return a(i5.apply(null,arguments))}}const $t=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},d1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,f1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,l5=/^\d+\/\d+$/,c5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,u5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,d5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,f5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,h5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Io=t=>l5.test(t),Ue=t=>!!t&&!Number.isNaN(Number(t)),us=t=>!!t&&Number.isInteger(Number(t)),Mf=t=>t.endsWith("%")&&Ue(t.slice(0,-1)),Or=t=>c5.test(t),p5=()=>!0,m5=t=>u5.test(t)&&!d5.test(t),h1=()=>!1,g5=t=>f5.test(t),v5=t=>h5.test(t),y5=t=>!xe(t)&&!we(t),x5=t=>yi(t,g1,h1),xe=t=>d1.test(t),Vs=t=>yi(t,v1,m5),Df=t=>yi(t,k5,Ue),Y0=t=>yi(t,p1,h1),w5=t=>yi(t,m1,v5),dc=t=>yi(t,y1,g5),we=t=>f1.test(t),aa=t=>xi(t,v1),b5=t=>xi(t,C5),J0=t=>xi(t,p1),S5=t=>xi(t,g1),_5=t=>xi(t,m1),fc=t=>xi(t,y1,!0),yi=(t,e,n)=>{const s=d1.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},xi=(t,e,n=!1)=>{const s=f1.exec(t);return s?s[1]?e(s[1]):n:!1},p1=t=>t==="position"||t==="percentage",m1=t=>t==="image"||t==="url",g1=t=>t==="length"||t==="size"||t==="bg-size",v1=t=>t==="length",k5=t=>t==="number",C5=t=>t==="family-name",y1=t=>t==="shadow",j5=()=>{const t=$t("color"),e=$t("font"),n=$t("text"),s=$t("font-weight"),i=$t("tracking"),a=$t("leading"),l=$t("breakpoint"),d=$t("container"),p=$t("spacing"),h=$t("radius"),m=$t("shadow"),g=$t("inset-shadow"),y=$t("text-shadow"),b=$t("drop-shadow"),S=$t("blur"),_=$t("perspective"),C=$t("aspect"),j=$t("ease"),T=$t("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...N(),we,xe],I=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],M=()=>[we,xe,p],V=()=>[Io,"full","auto",...M()],H=()=>[us,"none","subgrid",we,xe],Q=()=>["auto",{span:["full",us,we,xe]},us,we,xe],Z=()=>[us,"auto",we,xe],ie=()=>["auto","min","max","fr",we,xe],he=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],be=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...M()],J=()=>[Io,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],R=()=>[t,we,xe],W=()=>[...N(),J0,Y0,{position:[we,xe]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",S5,x5,{size:[we,xe]}],O=()=>[Mf,aa,Vs],G=()=>["","none","full",h,we,xe],q=()=>["",Ue,aa,Vs],Y=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[Ue,Mf,J0,Y0],ue=()=>["","none",S,we,xe],_e=()=>["none",Ue,we,xe],Ke=()=>["none",Ue,we,xe],ft=()=>[Ue,we,xe],ge=()=>[Io,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Or],breakpoint:[Or],color:[p5],container:[Or],"drop-shadow":[Or],ease:["in","out","in-out"],font:[y5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Or],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Or],shadow:[Or],spacing:["px",Ue],text:[Or],"text-shadow":[Or],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Io,xe,we,C]}],container:["container"],columns:[{columns:[Ue,xe,we,d]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[us,"auto",we,xe]}],basis:[{basis:[Io,"full","auto",d,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,Io,"auto","initial","none",xe]}],grow:[{grow:["",Ue,we,xe]}],shrink:[{shrink:["",Ue,we,xe]}],order:[{order:[us,"first","last","none",we,xe]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:Q()}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:Q()}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ie()}],"auto-rows":[{"auto-rows":ie()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...he(),"normal"]}],"justify-items":[{"justify-items":[...be(),"normal"]}],"justify-self":[{"justify-self":["auto",...be()]}],"align-content":[{content:["normal",...he()]}],"align-items":[{items:[...be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...be(),{baseline:["","last"]}]}],"place-content":[{"place-content":he()}],"place-items":[{"place-items":[...be(),"baseline"]}],"place-self":[{"place-self":["auto",...be()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[d,"screen",...J()]}],"min-w":[{"min-w":[d,"screen","none",...J()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",n,aa,Vs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,we,Df]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Mf,xe]}],"font-family":[{font:[b5,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,we,xe]}],"line-clamp":[{"line-clamp":[Ue,"none",we,Df]}],leading:[{leading:[a,...M()]}],"list-image":[{"list-image":["none",we,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",we,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",we,Vs]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[Ue,"auto",we,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},us,we,xe],radial:["",we,xe],conic:[us,we,xe]},_5,w5]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:O()}],"gradient-via-pos":[{via:O()}],"gradient-to-pos":[{to:O()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Y(),"hidden","none"]}],"divide-style":[{divide:[...Y(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...Y(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,we,xe]}],"outline-w":[{outline:["",Ue,aa,Vs]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",m,fc,dc]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",g,fc,dc]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[Ue,Vs]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",y,fc,dc]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[Ue,we,xe]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[we,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",we,xe]}],filter:[{filter:["","none",we,xe]}],blur:[{blur:ue()}],brightness:[{brightness:[Ue,we,xe]}],contrast:[{contrast:[Ue,we,xe]}],"drop-shadow":[{"drop-shadow":["","none",b,fc,dc]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",Ue,we,xe]}],"hue-rotate":[{"hue-rotate":[Ue,we,xe]}],invert:[{invert:["",Ue,we,xe]}],saturate:[{saturate:[Ue,we,xe]}],sepia:[{sepia:["",Ue,we,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",we,xe]}],"backdrop-blur":[{"backdrop-blur":ue()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,we,xe]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,we,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,we,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,we,xe]}],"backdrop-invert":[{"backdrop-invert":["",Ue,we,xe]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,we,xe]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,we,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,we,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",we,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",we,xe]}],ease:[{ease:["linear","initial",j,we,xe]}],delay:[{delay:[Ue,we,xe]}],animate:[{animate:["none",T,we,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,we,xe]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:_e()}],"rotate-x":[{"rotate-x":_e()}],"rotate-y":[{"rotate-y":_e()}],"rotate-z":[{"rotate-z":_e()}],scale:[{scale:Ke()}],"scale-x":[{"scale-x":Ke()}],"scale-y":[{"scale-y":Ke()}],"scale-z":[{"scale-z":Ke()}],"scale-3d":["scale-3d"],skew:[{skew:ft()}],"skew-x":[{"skew-x":ft()}],"skew-y":[{"skew-y":ft()}],transform:[{transform:[we,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ge()}],"translate-x":[{"translate-x":ge()}],"translate-y":[{"translate-y":ge()}],"translate-z":[{"translate-z":ge()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we,xe]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[Ue,aa,Vs,Df]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},E5=a5(j5);function rt(...t){return E5(l1(t))}const qp=Kp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),He=w.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...i},a)=>{const l=s?o1:"button";return u.jsx(l,{ref:a,"data-slot":"button",className:rt(qp({variant:e,size:n,className:t})),...i})});He.displayName="Button";const la=[{icon:Ha,title:"Welcome to AuroraLink",description:"Connect with friends and family through secure, encrypted messaging, voice and video calls. Your conversations, always within reach.",gradient:"from-primary via-primary/80 to-accent",features:["Instant Messaging","Voice & Video Calls","Media Sharing"]},{icon:n1,title:"Private & Secure",description:"Your messages are protected with end-to-end encryption. Only you and your recipients can read them. Your privacy is our priority.",gradient:"from-accent via-accent/80 to-primary",features:["End-to-End Encryption","Privacy First","Secure Storage"]},{icon:BR,title:"Fast & Reliable",description:"Send messages, share media, and make calls instantly with real-time delivery and notifications. Lightning-fast communication.",gradient:"from-primary via-accent/60 to-primary",features:["Real-Time Sync","Instant Delivery","Always Connected"]}];function N5(){const t=Array.from({length:20},(e,n)=>({id:n,size:Math.random()*60+20,x:Math.random()*100,y:Math.random()*100,duration:Math.random()*10+15,delay:Math.random()*5}));return u.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:t.map(e=>u.jsx(ee.div,{className:"absolute rounded-full bg-gradient-to-br from-primary/10 to-accent/10 backdrop-blur-sm",style:{width:e.size,height:e.size,left:`${e.x}%`,top:`${e.y}%`},animate:{y:[0,-30,0],x:[0,20,0],scale:[1,1.1,1],opacity:[.3,.6,.3]},transition:{duration:e.duration,repeat:1/0,delay:e.delay,ease:"easeInOut"}},e.id))})}function T5({onComplete:t}){const[e,n]=w.useState(0),s=()=>{e<la.length-1?n(e+1):t()},i=la[e],a=i.icon;return u.jsxs("div",{className:"onboarding-container w-full overflow-hidden relative bg-gradient-to-br from-background via-surface to-background",children:[u.jsx(ee.div,{className:"absolute inset-0 opacity-30",animate:{background:["radial-gradient(circle at 0% 0%, var(--primary) 0%, transparent 50%)","radial-gradient(circle at 100% 100%, var(--accent) 0%, transparent 50%)","radial-gradient(circle at 0% 100%, var(--primary) 0%, transparent 50%)","radial-gradient(circle at 100% 0%, var(--accent) 0%, transparent 50%)","radial-gradient(circle at 0% 0%, var(--primary) 0%, transparent 50%)"]},transition:{duration:20,repeat:1/0,ease:"linear"}}),u.jsx(N5,{}),u.jsxs("div",{className:"relative z-10 h-full w-full flex flex-col items-center justify-between px-4 py-4 xs:py-5 sm:py-6 md:py-8 lg:py-10",style:{paddingTop:"max(env(safe-area-inset-top), 1rem)",paddingBottom:"max(env(safe-area-inset-bottom), 1rem)"},children:[u.jsx(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center w-full",children:u.jsxs(ee.div,{className:"inline-flex items-center gap-2 xs:gap-2.5 sm:gap-3 md:gap-4 mb-1.5 xs:mb-2",animate:{scale:[1,1.01,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-9 h-9 xs:w-10 xs:h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-xl shadow-primary/30",children:u.jsx(Ha,{className:"w-5 h-5 xs:w-6 xs:h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-white",strokeWidth:2.5})}),u.jsx("div",{className:"absolute inset-0 rounded-xl sm:rounded-2xl bg-gradient-to-br from-primary to-accent opacity-20 blur-xl"})]}),u.jsx("h1",{className:"text-xl xs:text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-primary via-primary to-accent bg-clip-text text-transparent",children:"AuroraLink"})]})}),u.jsx(va,{mode:"wait",children:u.jsxs(ee.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5,ease:[.25,.1,.25,1]},className:"w-full max-w-[90%] xs:max-w-sm sm:max-w-md md:max-w-lg lg:max-w-4xl flex flex-col items-center text-center flex-1 justify-center py-1 xs:py-2 sm:py-4",children:[u.jsx(ee.div,{initial:{scale:.92,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.7,ease:[.25,.1,.25,1]},className:"relative mb-6 xs:mb-8 sm:mb-10 md:mb-12 w-full px-2 sm:px-0",children:u.jsxs("div",{className:"relative mx-auto w-full max-w-[280px] xs:max-w-[300px] sm:max-w-[340px] md:max-w-md px-4",children:[u.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${i.gradient} opacity-20 blur-[60px] sm:blur-[80px] md:blur-[100px] rounded-full`}),u.jsxs(ee.div,{className:"relative w-full aspect-square",animate:{y:[0,-12,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[u.jsx(ee.div,{className:`relative w-full h-full mx-auto rounded-full bg-gradient-to-br ${i.gradient} p-1 shadow-2xl`,animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},children:u.jsx("div",{className:"w-full h-full rounded-full bg-surface/95 backdrop-blur-sm flex items-center justify-center",children:u.jsxs(ee.div,{className:`w-[45%] h-[45%] rounded-full bg-gradient-to-br ${i.gradient} flex items-center justify-center shadow-2xl`,animate:{scale:[1,1.05,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[u.jsx(a,{className:"w-[55%] h-[55%] text-white",strokeWidth:2.5}),u.jsx(ee.div,{className:"absolute inset-0 rounded-full bg-white/30",animate:{opacity:[.2,.5,.2],scale:[.9,1.1,.9]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"}})]})})}),[0,1,2].map(l=>u.jsx(ee.div,{className:`absolute top-1/2 left-1/2 w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-gradient-to-br ${i.gradient} shadow-lg -translate-x-1/2 -translate-y-1/2`,animate:{rotate:[l*120,l*120+360]},transition:{duration:8,repeat:1/0,ease:"linear",delay:l*.5},children:u.jsx("div",{className:"absolute top-0 left-0 w-3 h-3 sm:w-4 sm:h-4",style:{transform:"translateY(calc(-1 * min(80px, 28vw)))"}})},l))]}),u.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"mt-6 xs:mt-8 sm:mt-10 md:mt-12 space-y-2.5 xs:space-y-3 sm:space-y-4 w-full",children:i.features.map((l,d)=>u.jsxs(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+d*.1,duration:.5},className:"flex items-center gap-2.5 xs:gap-3 bg-surface/50 backdrop-blur-sm rounded-xl sm:rounded-2xl px-3.5 xs:px-4 sm:px-5 py-2.5 xs:py-3 sm:py-3.5 border border-border/50 shadow-sm hover:shadow-md transition-all duration-300 min-h-[52px] touch-manipulation",children:[u.jsx("div",{className:`flex-shrink-0 w-7 h-7 xs:w-8 xs:h-8 sm:w-9 sm:h-9 rounded-lg sm:rounded-xl bg-gradient-to-br ${i.gradient} flex items-center justify-center`,children:u.jsx(eo,{className:"w-3.5 h-3.5 xs:w-4 xs:h-4 sm:w-5 sm:h-5 text-white",strokeWidth:3})}),u.jsx("span",{className:"text-[13px] xs:text-sm sm:text-base font-medium text-foreground leading-snug",children:l})]},l))})]})}),u.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"space-y-2 xs:space-y-3 sm:space-y-4 md:space-y-6 mb-4 xs:mb-5 sm:mb-6 md:mb-8 px-2 xs:px-4 sm:px-6 md:px-8 w-full",children:[u.jsx("h2",{className:"text-lg xs:text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold text-foreground leading-tight",children:i.title}),u.jsx("p",{className:"text-[13px] xs:text-sm sm:text-base md:text-lg text-muted-foreground max-w-md sm:max-w-lg md:max-w-2xl mx-auto leading-relaxed",children:i.description})]})]},e)}),u.jsxs("div",{className:"w-full max-w-[90%] xs:max-w-sm sm:max-w-md md:max-w-lg space-y-4 xs:space-y-5 sm:space-y-6 md:space-y-8 px-2 xs:px-4 sm:px-6",children:[u.jsx("div",{className:"flex justify-center gap-1.5 xs:gap-2 sm:gap-2.5 md:gap-3",children:la.map((l,d)=>u.jsx(ee.button,{onClick:()=>n(d),className:"relative focus:outline-none touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center",whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":`Go to slide ${d+1}`,children:u.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${d===e?"w-7 xs:w-8 sm:w-10 bg-gradient-to-r from-primary to-accent shadow-lg shadow-primary/30":"w-2 bg-muted-foreground/40 hover:bg-muted-foreground/60"}`})},d))}),u.jsxs("div",{className:"flex gap-2.5 xs:gap-3 sm:gap-4",children:[e>0&&u.jsx(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex-1",children:u.jsx(He,{variant:"outline",onClick:()=>n(e-1),className:"w-full min-h-[48px] h-12 sm:h-13 md:h-14 text-[13px] xs:text-sm sm:text-base font-semibold border-2 hover:bg-muted touch-manipulation",children:"Back"})}),u.jsx(ee.div,{className:e>0?"flex-1":"w-full",whileHover:{scale:1.02},whileTap:{scale:.98},children:u.jsx(He,{onClick:s,className:"w-full min-h-[48px] h-12 sm:h-13 md:h-14 text-[13px] xs:text-sm sm:text-base font-semibold bg-gradient-to-r from-primary to-accent hover:opacity-90 shadow-xl shadow-primary/30 transition-all duration-300 touch-manipulation",children:e<la.length-1?u.jsxs(u.Fragment,{children:["Next",u.jsx(Uc,{className:"ml-1.5 sm:ml-2 w-4 h-4 sm:w-5 sm:h-5"})]}):u.jsxs(u.Fragment,{children:["Get Started",u.jsx(Uc,{className:"ml-1.5 sm:ml-2 w-4 h-4 sm:w-5 sm:h-5"})]})})})]}),e<la.length-1&&u.jsx(ee.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},onClick:t,className:"w-full text-[13px] xs:text-sm sm:text-base font-medium text-muted-foreground hover:text-foreground transition-colors py-2.5 xs:py-3 sm:py-3.5 touch-manipulation min-h-[48px]",children:"Skip"})]})]})]})}const xr=w.forwardRef(({className:t,type:e,...n},s)=>u.jsx("input",{ref:s,type:e,"data-slot":"input",className:rt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 aria-invalid:border-destructive",t),...n}));xr.displayName="Input";var P5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qe=P5.reduce((t,e)=>{const n=ro(`Primitive.${e}`),s=w.forwardRef((i,a)=>{const{asChild:l,...d}=i,p=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(p,{...d,ref:a})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function x1(t,e){t&&up.flushSync(()=>t.dispatchEvent(e))}var A5="Label",w1=w.forwardRef((t,e)=>u.jsx(Qe.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));w1.displayName=A5;var R5=w1;function fa({className:t,...e}){return u.jsx(R5,{"data-slot":"label",className:rt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const O5=Kp("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function b1({className:t,variant:e,...n}){return u.jsx("div",{"data-slot":"alert",role:"alert",className:rt(O5({variant:e}),t),...n})}function I5({className:t,...e}){return u.jsx("div",{"data-slot":"alert-title",className:rt("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),...e})}function S1({className:t,...e}){return u.jsx("div",{"data-slot":"alert-description",className:rt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}var $h=function(t,e){return $h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},$h(t,e)};function _1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$h(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Vn=function(){return Vn=Object.assign||function(e){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Vn.apply(this,arguments)};function Ss(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function k1(t,e,n,s){var i=arguments.length,a=i<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,s);else for(var d=t.length-1;d>=0;d--)(l=t[d])&&(a=(i<3?l(a):i>3?l(e,n,a):l(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function C1(t,e){return function(n,s){e(n,s,t)}}function j1(t,e,n,s,i,a){function l(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var d=s.kind,p=d==="getter"?"get":d==="setter"?"set":"value",h=!e&&t?s.static?t:t.prototype:null,m=e||(h?Object.getOwnPropertyDescriptor(h,s.name):{}),g,y=!1,b=n.length-1;b>=0;b--){var S={};for(var _ in s)S[_]=_==="access"?{}:s[_];for(var _ in s.access)S.access[_]=s.access[_];S.addInitializer=function(j){if(y)throw new TypeError("Cannot add initializers after decoration has completed");a.push(l(j||null))};var C=(0,n[b])(d==="accessor"?{get:m.get,set:m.set}:m[p],S);if(d==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(g=l(C.get))&&(m.get=g),(g=l(C.set))&&(m.set=g),(g=l(C.init))&&i.unshift(g)}else(g=l(C))&&(d==="field"?i.unshift(g):m[p]=g)}h&&Object.defineProperty(h,s.name,m),y=!0}function E1(t,e,n){for(var s=arguments.length>2,i=0;i<e.length;i++)n=s?e[i].call(t,n):e[i].call(t);return s?n:void 0}function N1(t){return typeof t=="symbol"?t:"".concat(t)}function T1(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function P1(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ce(t,e,n,s){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(m){try{h(s.next(m))}catch(g){l(g)}}function p(m){try{h(s.throw(m))}catch(g){l(g)}}function h(m){m.done?a(m.value):i(m.value).then(d,p)}h((s=s.apply(t,e||[])).next())})}function A1(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=d(0),l.throw=d(1),l.return=d(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(h){return function(m){return p([h,m])}}function p(h){if(s)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(n=0)),n;)try{if(s=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(m){h=[6,m],i=0}finally{s=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var cu=Object.create?(function(t,e,n,s){s===void 0&&(s=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,s,i)}):(function(t,e,n,s){s===void 0&&(s=n),t[s]=e[n]});function R1(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&cu(e,t,n)}function zc(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yp(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var s=n.call(t),i,a=[],l;try{for(;(e===void 0||e-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(d){l={error:d}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(l)throw l.error}}return a}function O1(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Yp(arguments[e]));return t}function I1(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var s=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],l=0,d=a.length;l<d;l++,i++)s[i]=a[l];return s}function Jp(t,e,n){if(n||arguments.length===2)for(var s=0,i=e.length,a;s<i;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))}function ci(t){return this instanceof ci?(this.v=t,this):new ci(t)}function M1(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(b){return function(S){return Promise.resolve(S).then(b,g)}}function d(b,S){s[b]&&(i[b]=function(_){return new Promise(function(C,j){a.push([b,_,C,j])>1||p(b,_)})},S&&(i[b]=S(i[b])))}function p(b,S){try{h(s[b](S))}catch(_){y(a[0][3],_)}}function h(b){b.value instanceof ci?Promise.resolve(b.value.v).then(m,g):y(a[0][2],b)}function m(b){p("next",b)}function g(b){p("throw",b)}function y(b,S){b(S),a.shift(),a.length&&p(a[0][0],a[0][1])}}function D1(t){var e,n;return e={},s("next"),s("throw",function(i){throw i}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(i,a){e[i]=t[i]?function(l){return(n=!n)?{value:ci(t[i](l)),done:!1}:a?a(l):l}:a}}function L1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof zc=="function"?zc(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(a){n[a]=t[a]&&function(l){return new Promise(function(d,p){l=t[a](l),i(d,p,l.done,l.value)})}}function i(a,l,d,p){Promise.resolve(p).then(function(h){a({value:h,done:d})},l)}}function $1(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var M5=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Fh=function(t){return Fh=Object.getOwnPropertyNames||function(e){var n=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[n.length]=s);return n},Fh(t)};function F1(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Fh(t),s=0;s<n.length;s++)n[s]!=="default"&&cu(e,t,n[s]);return M5(e,t),e}function V1(t){return t&&t.__esModule?t:{default:t}}function B1(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)}function U1(t,e,n,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function z1(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function W1(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],n&&(i=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");i&&(s=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:s,async:n})}else n&&t.stack.push({async:!0});return e}var D5=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var s=new Error(n);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function H1(t){function e(a){t.error=t.hasError?new D5(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var n,s=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&s===1)return s=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return s|=2,Promise.resolve(a).then(i,function(l){return e(l),i()})}else s|=1}catch(l){e(l)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function K1(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,s,i,a,l){return s?e?".jsx":".js":i&&(!a||!l)?n:i+a+"."+l.toLowerCase()+"js"}):t}const L5={__extends:_1,__assign:Vn,__rest:Ss,__decorate:k1,__param:C1,__esDecorate:j1,__runInitializers:E1,__propKey:N1,__setFunctionName:T1,__metadata:P1,__awaiter:Ce,__generator:A1,__createBinding:cu,__exportStar:R1,__values:zc,__read:Yp,__spread:O1,__spreadArrays:I1,__spreadArray:Jp,__await:ci,__asyncGenerator:M1,__asyncDelegator:D1,__asyncValues:L1,__makeTemplateObject:$1,__importStar:F1,__importDefault:V1,__classPrivateFieldGet:B1,__classPrivateFieldSet:U1,__classPrivateFieldIn:z1,__addDisposableResource:W1,__disposeResources:H1,__rewriteRelativeImportExtension:K1},$5=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:W1,get __assign(){return Vn},__asyncDelegator:D1,__asyncGenerator:M1,__asyncValues:L1,__await:ci,__awaiter:Ce,__classPrivateFieldGet:B1,__classPrivateFieldIn:z1,__classPrivateFieldSet:U1,__createBinding:cu,__decorate:k1,__disposeResources:H1,__esDecorate:j1,__exportStar:R1,__extends:_1,__generator:A1,__importDefault:V1,__importStar:F1,__makeTemplateObject:$1,__metadata:P1,__param:C1,__propKey:N1,__read:Yp,__rest:Ss,__rewriteRelativeImportExtension:K1,__runInitializers:E1,__setFunctionName:T1,__spread:O1,__spreadArray:Jp,__spreadArrays:I1,__values:zc,default:L5},Symbol.toStringTag,{value:"Module"})),F5="modulepreload",V5=function(t){return"/"+t},X0={},wi=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");i=l(n.map(h=>{if(h=V5(h),h in X0)return;X0[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":F5,m||(y.as="script"),y.crossOrigin="",y.href=h,p&&y.setAttribute("nonce",p),document.head.appendChild(y),m)return new Promise((b,S)=>{y.addEventListener("load",b),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return i.then(l=>{for(const d of l||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},B5=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>wi(async()=>{const{default:s}=await Promise.resolve().then(()=>ao);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class Xp extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class Q0 extends Xp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Z0 extends Xp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ex extends Xp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Vh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Vh||(Vh={}));class U5{constructor(e,{headers:n={},customFetch:s,region:i=Vh.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=B5(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ce(this,arguments,void 0,function*(n,s={}){var i;try{const{headers:a,method:l,body:d,signal:p}=s;let h={},{region:m}=s;m||(m=this.region);const g=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let y;d&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(h["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(h["Content-Type"]="application/json",y=JSON.stringify(d)):y=d;const b=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:y,signal:p}).catch(j=>{throw j.name==="AbortError"?j:new Q0(j)}),S=b.headers.get("x-relay-error");if(S&&S==="true")throw new Z0(b);if(!b.ok)throw new ex(b);let _=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return _==="application/json"?C=yield b.json():_==="application/octet-stream"||_==="application/pdf"?C=yield b.blob():_==="text/event-stream"?C=b:_==="multipart/form-data"?C=yield b.formData():C=yield b.text(),{data:C,error:null,response:b}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new Q0(a)}:{data:null,error:a,response:a instanceof ex||a instanceof Z0?a.context:void 0}}})}}var tn={};const bi=fw($5);var hc={},pc={},mc={},gc={},vc={},z5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ui=z5();const W5=ui.fetch,G1=ui.fetch.bind(ui),q1=ui.Headers,H5=ui.Request,K5=ui.Response,ao=Object.freeze(Object.defineProperty({__proto__:null,Headers:q1,Request:H5,Response:K5,default:G1,fetch:W5},Symbol.toStringTag,{value:"Module"})),G5=fw(ao);var yc={},tx;function Y1(){if(tx)return yc;tx=1,Object.defineProperty(yc,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return yc.default=t,yc}var nx;function J1(){if(nx)return vc;nx=1,Object.defineProperty(vc,"__esModule",{value:!0});const t=bi,e=t.__importDefault(G5),n=t.__importDefault(Y1());class s{constructor(a){var l,d;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(d=a.isMaybeSingle)!==null&&d!==void 0?d:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let p=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,g,y,b;let S=null,_=null,C=null,j=h.status,T=h.statusText;if(h.ok){if(this.method!=="HEAD"){const I=await h.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?_=I:_=JSON.parse(I))}const N=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),P=(y=h.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");N&&P&&P.length>1&&(C=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(S={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,C=null,j=406,T="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const N=await h.text();try{S=JSON.parse(N),Array.isArray(S)&&h.status===404&&(_=[],S=null,j=200,T="OK")}catch{h.status===404&&N===""?(j=204,T="No Content"):S={message:N}}if(S&&this.isMaybeSingle&&(!((b=S?.details)===null||b===void 0)&&b.includes("0 rows"))&&(S=null,j=200,T="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:_,count:C,status:j,statusText:T}});return this.shouldThrowOnError||(p=p.catch(h=>{var m,g,y;return{error:{message:`${(m=h?.name)!==null&&m!==void 0?m:"FetchError"}: ${h?.message}`,details:`${(g=h?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(y=h?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),p.then(a,l)}returns(){return this}overrideTypes(){return this}}return vc.default=s,vc}var rx;function X1(){if(rx)return gc;rx=1,Object.defineProperty(gc,"__esModule",{value:!0});const e=bi.__importDefault(J1());class n extends e.default{select(i){let a=!1;const l=(i??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:d,referencedTable:p=d}={}){const h=p?`${p}.order`:"order",m=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${m?`${m},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:d=l}={}){const p=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(p,`${i}`),this.url.searchParams.set(h,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:d=!1,wal:p=!1,format:h="text"}={}){var m;const g=[i?"analyze":null,a?"verbose":null,l?"settings":null,d?"buffers":null,p?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return gc.default=n,gc}var sx;function Qp(){if(sx)return mc;sx=1,Object.defineProperty(mc,"__esModule",{value:!0});const e=bi.__importDefault(X1()),n=new RegExp("[,()]");class s extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const d=Array.from(new Set(l)).map(p=>typeof p=="string"&&n.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:d,type:p}={}){let h="";p==="plain"?h="pl":p==="phrase"?h="ph":p==="websearch"&&(h="w");const m=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${h}fts${m}.${l}`),this}match(a){return Object.entries(a).forEach(([l,d])=>{this.url.searchParams.append(l,`eq.${d}`)}),this}not(a,l,d){return this.url.searchParams.append(a,`not.${l}.${d}`),this}or(a,{foreignTable:l,referencedTable:d=l}={}){const p=d?`${d}.or`:"or";return this.url.searchParams.append(p,`(${a})`),this}filter(a,l,d){return this.url.searchParams.append(a,`${l}.${d}`),this}}return mc.default=s,mc}var ox;function Q1(){if(ox)return pc;ox=1,Object.defineProperty(pc,"__esModule",{value:!0});const e=bi.__importDefault(Qp());class n{constructor(i,{headers:a={},schema:l,fetch:d}){this.url=i,this.headers=new Headers(a),this.schema=l,this.fetch=d}select(i,a){const{head:l=!1,count:d}=a??{},p=l?"HEAD":"GET";let h=!1;const m=(i??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",m),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:l=!0}={}){var d;const p="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:d,defaultToNull:p=!0}={}){var h;const m="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(g.length>0){const y=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:a}={}){var l;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var a;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return pc.default=n,pc}var ix;function q5(){if(ix)return hc;ix=1,Object.defineProperty(hc,"__esModule",{value:!0});const t=bi,e=t.__importDefault(Q1()),n=t.__importDefault(Qp());class s{constructor(a,{headers:l={},schema:d,fetch:p}={}){this.url=a,this.headers=new Headers(l),this.schemaName=d,this.fetch=p}from(a){const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new s(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:d=!1,get:p=!1,count:h}={}){var m;let g;const y=new URL(`${this.url}/rpc/${a}`);let b;d||p?(g=d?"HEAD":"GET",Object.entries(l).filter(([_,C])=>C!==void 0).map(([_,C])=>[_,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([_,C])=>{y.searchParams.append(_,C)})):(g="POST",b=l);const S=new Headers(this.headers);return h&&S.set("Prefer",`count=${h}`),new n.default({method:g,url:y,headers:S,schema:this.schemaName,body:b,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return hc.default=s,hc}var ax;function Y5(){if(ax)return tn;ax=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.PostgrestError=tn.PostgrestBuilder=tn.PostgrestTransformBuilder=tn.PostgrestFilterBuilder=tn.PostgrestQueryBuilder=tn.PostgrestClient=void 0;const t=bi,e=t.__importDefault(q5());tn.PostgrestClient=e.default;const n=t.__importDefault(Q1());tn.PostgrestQueryBuilder=n.default;const s=t.__importDefault(Qp());tn.PostgrestFilterBuilder=s.default;const i=t.__importDefault(X1());tn.PostgrestTransformBuilder=i.default;const a=t.__importDefault(J1());tn.PostgrestBuilder=a.default;const l=t.__importDefault(Y1());return tn.PostgrestError=l.default,tn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:l.default},tn}var Z1=Y5();const eS=lp(Z1),J5=dw({__proto__:null,default:eS},[Z1]),{PostgrestClient:X5,PostgrestQueryBuilder:sF,PostgrestFilterBuilder:oF,PostgrestTransformBuilder:iF,PostgrestBuilder:aF,PostgrestError:lF}=eS||J5;class Q5{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Z5="2.78.0",eO=`realtime-js/${Z5}`,tO="1.0.0",Bh=1e4,nO=1e3,rO=100;var Sa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Sa||(Sa={}));var Ft;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ft||(Ft={}));var nr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(nr||(nr={}));var Uh;(function(t){t.websocket="websocket"})(Uh||(Uh={}));var Hs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Hs||(Hs={}));class sO{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const i=n.getUint8(1),a=n.getUint8(2);let l=this.HEADER_LENGTH+2;const d=s.decode(e.slice(l,l+i));l=l+i;const p=s.decode(e.slice(l,l+a));l=l+a;const h=JSON.parse(s.decode(e.slice(l,e.byteLength)));return{ref:null,topic:d,event:p,payload:h}}}class tS{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ct||(ct={}));const lx=(t,e,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=oO(l,t,e,i),a),{}):{}},oO=(t,e,n,s)=>{const i=e.find(d=>d.name===t),a=i?.type,l=n[t];return a&&!s.includes(a)?nS(a,l):zh(l)},nS=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return cO(e,n)}switch(t){case ct.bool:return iO(e);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return aO(e);case ct.json:case ct.jsonb:return lO(e);case ct.timestamp:return uO(e);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return zh(e);default:return zh(e)}},zh=t=>t,iO=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},aO=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},lO=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},cO=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let a;const l=t.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(d=>nS(e,d))}return t},uO=t=>typeof t=="string"?t.replace(" ","T"):t,rS=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Lf{constructor(e,n,s={},i=Bh){this.channel=e,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var cx;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(cx||(cx={}));class _a{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:a,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_a.syncState(this.state,i,a,l),this.pendingDiffs.forEach(p=>{this.state=_a.syncDiff(this.state,p,a,l)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_a.syncDiff(this.state,i,a,l),d())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,i){const a=this.cloneDeep(e),l=this.transformState(n),d={},p={};return this.map(a,(h,m)=>{l[h]||(p[h]=m)}),this.map(l,(h,m)=>{const g=a[h];if(g){const y=m.map(C=>C.presence_ref),b=g.map(C=>C.presence_ref),S=m.filter(C=>b.indexOf(C.presence_ref)<0),_=g.filter(C=>y.indexOf(C.presence_ref)<0);S.length>0&&(d[h]=S),_.length>0&&(p[h]=_)}else d[h]=m}),this.syncDiff(a,{joins:d,leaves:p},s,i)}static syncDiff(e,n,s,i){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(a,(d,p)=>{var h;const m=(h=e[d])!==null&&h!==void 0?h:[];if(e[d]=this.cloneDeep(p),m.length>0){const g=e[d].map(b=>b.presence_ref),y=m.filter(b=>g.indexOf(b.presence_ref)<0);e[d].unshift(...y)}s(d,m,p)}),this.map(l,(d,p)=>{let h=e[d];if(!h)return;const m=p.map(g=>g.presence_ref);h=h.filter(g=>m.indexOf(g.presence_ref)<0),e[d]=h,i(d,h,p),h.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const i=e[s];return"metas"in i?n[s]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ux;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ux||(ux={}));var ka;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ka||(ka={}));var Ir;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ir||(Ir={}));class Zp{constructor(e,n={config:{}},s){var i,a;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Lf(this,nr.join,this.params,this.timeout),this.rejoinTimer=new tS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ft.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nr.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new _a(this),this.broadcastEndpointURL=rS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ft.closed){const{config:{broadcast:l,presence:d,private:p}}=this.params,h=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(b=>b.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[ka.PRESENCE]&&this.bindings[ka.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,g={},y={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:h,private:p};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(Ir.CHANNEL_ERROR,b)),this._onClose(()=>e?.(Ir.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var S;if(this.socket.setAuth(),b===void 0){e?.(Ir.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,C=(S=_?.length)!==null&&S!==void 0?S:0,j=[];for(let T=0;T<C;T++){const E=_[T],{filter:{event:N,schema:P,table:I,filter:$}}=E,M=b&&b[T];if(M&&M.event===N&&M.schema===P&&M.table===I&&M.filter===$)j.push(Object.assign(Object.assign({},E),{id:M.id}));else{this.unsubscribe(),this.state=Ft.errored,e?.(Ir.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(Ir.SUBSCRIBED);return}}).receive("error",b=>{this.state=Ft.errored,e?.(Ir.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ir.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===Ft.joined&&e===ka.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let p=d.statusText;try{const h=await d.json();p=h.error||h.message||p}catch{}return Promise.reject(new Error(p))}async send(e,n={}){var s,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,d,p;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ft.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new Lf(this,nr.leave,{},e),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ft.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const i=new AbortController,a=setTimeout(()=>i.abort(),s),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),l}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Lf(this,e,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>rO){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var i,a;const l=e.toLocaleLowerCase(),{close:d,error:p,leave:h,join:m}=nr;if(s&&[d,p,h,m].indexOf(l)>=0&&s!==this._joinRef())return;let y=this._onMessage(l,n,s);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var S,_,C;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((C=(_=b.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===l}).map(b=>b.callback(y,s)):(a=this.bindings[l])===null||a===void 0||a.filter(b=>{var S,_,C,j,T,E;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const N=b.id,P=(S=b.filter)===null||S===void 0?void 0:S.event;return N&&((_=n.ids)===null||_===void 0?void 0:_.includes(N))&&(P==="*"||P?.toLocaleLowerCase()===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const N=(T=(j=b?.filter)===null||j===void 0?void 0:j.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return N==="*"||N===((E=n?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:_,table:C,commit_timestamp:j,type:T,errors:E}=S;y=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:j,eventType:T,new:{},old:{},errors:E}),this._getPayloadRecords(S))}b.callback(y,s)})}_isClosed(){return this.state===Ft.closed}_isJoined(){return this.state===Ft.joined}_isJoining(){return this.state===Ft.joining}_isLeaving(){return this.state===Ft.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&Zp.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nr.close,{},e)}_onError(e){this._on(nr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ft.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=lx(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=lx(e.columns,e.old_record)),n}}const $f=()=>{},xc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dO=[1e3,2e3,5e3,1e4],fO=1e4,hO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pO{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bh,this.transport=null,this.heartbeatIntervalMs=xc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$f,this.ref=0,this.reconnectTimer=null,this.logger=$f,this.conn=null,this.sendBuffer=[],this.serializer=new sO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>wi(async()=>{const{default:d}=await Promise.resolve().then(()=>ao);return{default:d}},void 0).then(({default:d})=>d(...l)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Uh.websocket}`,this.httpEndpoint=rS(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Q5.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tO}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Sa.connecting:return Hs.Connecting;case Sa.open:return Hs.Open;case Sa.closing:return Hs.Closing;default:return Hs.Closed}}isConnected(){return this.connectionState()===Hs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===s);if(i)return i;{const a=new Zp(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:s,payload:i,ref:a}=e,l=()=>{this.encode(e,d=>{var p;(p=this.conn)===null||p===void 0||p.send(d)})};this.log("push",`${n} ${s} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(nO,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},xc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:a,ref:l}=n,d=l?`(${l})`:"",p=a.status||"";this.log("receive",`${p} ${s} ${i} ${d}`.trim(),a),this.channels.filter(h=>h._isMember(s)).forEach(h=>h._trigger(i,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(nr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${s}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([hO],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:eO};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(nr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new tS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,i,a,l,d,p,h,m;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Bh,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:xc.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:$f,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(g=>dO[g-1]||fO),this.encode=(h=e?.encode)!==null&&h!==void 0?h:((g,y)=>y(JSON.stringify(g))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class em extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class mO extends em{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wh extends em{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const tm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>wi(async()=>{const{default:s}=await Promise.resolve().then(()=>ao);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},gO=()=>Ce(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wi(()=>Promise.resolve().then(()=>ao),void 0)).Response:Response}),Hh=t=>{if(Array.isArray(t))return t.map(n=>Hh(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Hh(s)}),e},vO=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ff=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},yO=(t,e,n)=>Ce(void 0,void 0,void 0,function*(){const s=yield gO();t instanceof s&&!n?.noResolveJson?t.json().then(i=>{const a=t.status||500,l=i?.statusCode||a+"";e(new mO(Ff(i),a,l))}).catch(i=>{e(new Wh(Ff(i),i))}):e(new Wh(Ff(t),t))}),xO=(t,e,n,s)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!s?i:(vO(s)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(s)):i.body=s,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Ka(t,e,n,s,i,a){return Ce(this,void 0,void 0,function*(){return new Promise((l,d)=>{t(n,xO(e,s,i,a)).then(p=>{if(!p.ok)throw p;return s?.noResolveJson?p:p.json()}).then(p=>l(p)).catch(p=>yO(p,d,s))})})}function Oa(t,e,n,s){return Ce(this,void 0,void 0,function*(){return Ka(t,"GET",e,n,s)})}function tr(t,e,n,s,i){return Ce(this,void 0,void 0,function*(){return Ka(t,"POST",e,s,i,n)})}function Kh(t,e,n,s,i){return Ce(this,void 0,void 0,function*(){return Ka(t,"PUT",e,s,i,n)})}function wO(t,e,n,s){return Ce(this,void 0,void 0,function*(){return Ka(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function nm(t,e,n,s,i){return Ce(this,void 0,void 0,function*(){return Ka(t,"DELETE",e,s,i,n)})}class bO{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Ce(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(xt(e))return{data:null,error:e};throw e}})}}var sS;class SO{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[sS]="BlobDownloadBuilder",this.promise=null}asStream(){return new bO(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ce(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(xt(e))return{data:null,error:e};throw e}})}}sS=Symbol.toStringTag;const _O={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kO{constructor(e,n={},s,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=tm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,i){return Ce(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},dx),i);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const p=l.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),p&&a.append("metadata",this.encodeMetadata(p)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",l.cacheControl),p&&a.append("metadata",this.encodeMetadata(p))):(a=s,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,p&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const h=this._removeEmptyFolders(n),m=this._getFinalPath(h),g=yield(e=="PUT"?Kh:tr)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:d},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}})}upload(e,n,s){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,i){return Ce(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",n);try{let p;const h=Object.assign({upsert:dx.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",h.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",h.cacheControl)):(p=s,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const g=yield Kh(this.fetch,d.toString(),p,{headers:m});return{data:{path:a,fullPath:g.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(xt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return Ce(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield tr(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),l=new URL(this.url+a.url),d=l.searchParams.get("token");if(!d)throw new em("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}})}update(e,n,s){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return Ce(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}copy(e,n,s){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,s){return Ce(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield tr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,s){return Ce(this,void 0,void 0,function*(){try{const i=yield tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),l=a?`?${a}`:"",d=this._getFinalPath(e),p=()=>Oa(this.fetch,`${this.url}/${i}/${d}${l}`,{headers:this.headers,noResolveJson:!0});return new SO(p,this.shouldThrowOnError)}info(e){return Ce(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield Oa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Hh(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}})}exists(e){return Ce(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield wO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xt(s)&&s instanceof Wh){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const d=typeof n?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(n?.transform||{});p!==""&&i.push(p);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${h}`)}}}remove(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield nm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}list(e,n,s){return Ce(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},_O),n),{prefix:e||""});return{data:yield tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}listV2(e,n){return Ce(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield tr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const oS="2.78.0",iS={"X-Client-Info":`storage-js/${oS}`};class CO{constructor(e,n={},s,i){this.shouldThrowOnError=!1;const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iS),n),this.fetch=tm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ce(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Oa(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}getBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}createBucket(e){return Ce(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Ce(this,void 0,void 0,function*(){try{return{data:yield Kh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield nm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class jO{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iS),n),this.fetch=tm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}listBuckets(e){return Ce(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const s=n.toString(),i=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Oa(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield nm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}}const rm={"X-Client-Info":`storage-js/${oS}`,"Content-Type":"application/json"};class aS extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function jn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Vf extends aS{constructor(e,n,s){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class EO extends aS{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var fx;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(fx||(fx={}));const sm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>wi(async()=>{const{default:s}=await Promise.resolve().then(()=>ao);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},NO=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},hx=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),TO=(t,e,n)=>Ce(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(l=>{const d=l?.statusCode||l?.code||i+"";e(new Vf(hx(l),i,d))}).catch(()=>{const l=i+"",d=a.statusText||`HTTP ${i} error`;e(new Vf(d,i,l))});else{const l=i+"",d=a.statusText||`HTTP ${i} error`;e(new Vf(d,i,l))}}else e(new EO(hx(t),t))}),PO=(t,e,n,s)=>{const i={method:t,headers:e?.headers||{}};return s?(NO(s)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(s)):i.body=s,Object.assign(Object.assign({},i),n)):i};function AO(t,e,n,s,i,a){return Ce(this,void 0,void 0,function*(){return new Promise((l,d)=>{t(n,PO(e,s,i,a)).then(p=>{if(!p.ok)throw p;if(s?.noResolveJson)return p;const h=p.headers.get("content-type");return!h||!h.includes("application/json")?{}:p.json()}).then(p=>l(p)).catch(p=>TO(p,d,s))})})}function En(t,e,n,s,i){return Ce(this,void 0,void 0,function*(){return AO(t,"POST",e,s,i,n)})}class RO{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rm),n),this.fetch=sm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ce(this,void 0,void 0,function*(){try{return{data:(yield En(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Ce(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jn(s))return{data:null,error:s};throw s}})}listIndexes(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Ce(this,void 0,void 0,function*(){try{return{data:(yield En(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jn(s))return{data:null,error:s};throw s}})}}class OO{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rm),n),this.fetch=sm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ce(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield En(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}getVectors(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}listVectors(e){return Ce(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield En(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}queryVectors(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Ce(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield En(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}}class IO{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rm),n),this.fetch=sm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:(yield En(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}getBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}listBuckets(){return Ce(this,arguments,void 0,function*(e={}){try{return{data:yield En(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:(yield En(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}}class MO extends IO{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new DO(this.url,this.headers,e,this.fetch)}}class DO extends RO{constructor(e,n,s,i){super(e,n,i),this.vectorBucketName=s}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ce(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ce(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ce(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ce(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new LO(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class LO extends OO{constructor(e,n,s,i,a){super(e,n,a),this.vectorBucketName=s,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ce(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ce(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ce(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ce(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ce(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class $O extends CO{constructor(e,n={},s,i){super(e,n,s,i)}from(e){return new kO(this.url,this.headers,e,this.fetch)}get vectors(){return new MO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new jO(this.url+"/iceberg",this.headers,this.fetch)}}const FO="2.78.0";let ha="";typeof Deno<"u"?ha="deno":typeof document<"u"?ha="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ha="react-native":ha="node";const VO={"X-Client-Info":`supabase-js-${ha}/${FO}`},BO={headers:VO},UO={schema:"public"},zO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},WO={},HO=t=>{let e;return t?e=t:typeof fetch>"u"?e=G1:e=fetch,(...n)=>e(...n)},KO=()=>typeof Headers>"u"?q1:Headers,GO=(t,e,n)=>{const s=HO(n),i=KO();return async(a,l)=>{var d;const p=(d=await e())!==null&&d!==void 0?d:t;let h=new i(l?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${p}`),s(a,Object.assign(Object.assign({},l),{headers:h}))}};function qO(t){return t.endsWith("/")?t:t+"/"}function YO(t,e){var n,s;const{db:i,auth:a,realtime:l,global:d}=t,{db:p,auth:h,realtime:m,global:g}=e,y={db:Object.assign(Object.assign({},p),i),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},m),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),d),{headers:Object.assign(Object.assign({},(n=g?.headers)!==null&&n!==void 0?n:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function JO(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qO(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const lS="2.78.0",Wo=30*1e3,Gh=3,Bf=Gh*Wo,XO="http://localhost:9999",QO="supabase.auth.token",ZO={"X-Client-Info":`gotrue-js/${lS}`},qh="X-Supabase-Api-Version",cS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tI=600*1e3;class Ia extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Ee(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class nI extends Ia{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function rI(t){return Ee(t)&&t.name==="AuthApiError"}class Ks extends Ia{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class _s extends Ia{constructor(e,n,s,i){super(e,s,i),this.name=n,this.status=s}}class Qn extends _s{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sI(t){return Ee(t)&&t.name==="AuthSessionMissingError"}class Mo extends _s{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wc extends _s{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bc extends _s{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oI(t){return Ee(t)&&t.name==="AuthImplicitGrantRedirectError"}class px extends _s{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yh extends _s{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Uf(t){return Ee(t)&&t.name==="AuthRetryableFetchError"}class mx extends _s{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Jh extends _s{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gx=` 	
\r=`.split(""),iI=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<gx.length;e+=1)t[gx[e].charCodeAt(0)]=-2;for(let e=0;e<Wc.length;e+=1)t[Wc[e].charCodeAt(0)]=e;return t})();function vx(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Wc[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Wc[s]),e.queuedBits-=6}}function uS(t,e,n){const s=iI[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function yx(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{cI(l,s,n)};for(let l=0;l<t.length;l+=1)uS(t.charCodeAt(l),i,a);return e.join("")}function aI(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function lI(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}aI(s,e)}}function cI(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ti(t){const e=[],n={queue:0,queuedBits:0},s=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)uS(t.charCodeAt(i),n,s);return new Uint8Array(e)}function uI(t){const e=[];return lI(t,n=>e.push(n)),new Uint8Array(e)}function Js(t){const e=[],n={queue:0,queuedBits:0},s=i=>{e.push(i)};return t.forEach(i=>vx(i,n,s)),vx(null,n,s),e.join("")}function dI(t){return Math.round(Date.now()/1e3)+t}function fI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const an=()=>typeof window<"u"&&typeof document<"u",Bs={tested:!1,writable:!1},dS=()=>{if(!an())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bs.tested)return Bs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Bs.tested=!0,Bs.writable=!0}catch{Bs.tested=!0,Bs.writable=!1}return Bs.writable};function hI(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((s,i)=>{e[i]=s}),e}const fS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>wi(async()=>{const{default:s}=await Promise.resolve().then(()=>ao);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},pI=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ho=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Us=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ds=async(t,e)=>{await t.removeItem(e)};class uu{constructor(){this.promise=new uu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}uu.promiseConstructor=Promise;function zf(t){const e=t.split(".");if(e.length!==3)throw new Jh("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!eI.test(e[s]))throw new Jh("JWT not in base64url format");return{header:JSON.parse(yx(e[0])),payload:JSON.parse(yx(e[1])),signature:ti(e[2]),raw:{header:e[0],payload:e[1]}}}async function mI(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gI(t,e){return new Promise((s,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){s(l);return}}catch(l){if(!e(a,l)){i(l);return}}})()})}function vI(t){return("0"+t.toString(16)).substr(-2)}function yI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(e),Array.from(e,vI).join("")}async function xI(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function wI(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await xI(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Do(t,e,n=!1){const s=yI();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Ho(t,`${e}-code-verifier`,i);const a=await wI(s);return[a,s===a?"plain":"s256"]}const bI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SI(t){const e=t.headers.get(qh);if(!e||!e.match(bI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _I(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function kI(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const CI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lo(t){if(!CI.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wf(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jI(t,e){return new Proxy(t,{get:(n,s,i)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,i)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,i)}})}function xx(t){return JSON.parse(JSON.stringify(t))}const Ws=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),EI=[502,503,504];async function wx(t){var e;if(!pI(t))throw new Yh(Ws(t),0);if(EI.includes(t.status))throw new Yh(Ws(t),t.status);let n;try{n=await t.json()}catch(a){throw new Ks(Ws(a),a)}let s;const i=SI(t);if(i&&i.getTime()>=cS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new mx(Ws(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Qn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new mx(Ws(n),t.status,n.weak_password.reasons);throw new nI(Ws(n),t.status||500,s)}const NI=(t,e,n,s)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function Re(t,e,n,s){var i;const a=Object.assign({},s?.headers);a[qh]||(a[qh]=cS["2024-01-01"].name),s?.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const l=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(l.redirect_to=s.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",p=await TI(t,e,n+d,{headers:a,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(p):{data:Object.assign({},p),error:null}}async function TI(t,e,n,s,i,a){const l=NI(e,s,i,a);let d;try{d=await t(n,Object.assign({},l))}catch(p){throw console.error(p),new Yh(Ws(p),0)}if(d.ok||await wx(d),s?.noResolveJson)return d;try{return await d.json()}catch(p){await wx(p)}}function Zn(t){var e;let n=null;RI(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=dI(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function bx(t){const e=Zn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ps(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function PI(t){return{data:t,error:null}}function AI(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a}=t,l=Ss(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a},p=Object.assign({},l);return{data:{properties:d,user:p},error:null}}function Sx(t){return t}function RI(t){return t.access_token&&t.refresh_token&&t.expires_in}const Hf=["global","local","others"];class OI{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=fS(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Hf[0]){if(Hf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hf.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ps})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=Ss(e,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:AI,redirectTo:n?.redirectTo})}catch(n){if(Ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ps})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,i,a,l,d,p;try{const h={nextPage:null,lastPage:0,total:0},m=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Sx});if(m.error)throw m.error;const g=await m.json(),y=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(p=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(S.split(";")[1].split("=")[1]);h[`${C}Page`]=_}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ee(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Lo(e);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ps})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Lo(e);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ps})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Lo(e);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ps})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Lo(e.userId);try{const{data:n,error:s}=await Re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Lo(e.userId),Lo(e.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,i,a,l,d,p;try{const h={nextPage:null,lastPage:0,total:0},m=await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Sx});if(m.error)throw m.error;const g=await m.json(),y=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(p=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(S.split(";")[1].split("=")[1]);h[`${C}Page`]=_}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ee(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}}function _x(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const $o={debug:!!(globalThis&&dS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class II extends hS{}async function MI(t,e,n){$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),$o.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw $o.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new II(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($o.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function DI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pS(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function LI(t){return parseInt(t,16)}function $I(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function FI(t){var e;const{chainId:n,domain:s,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:d,requestId:p,resources:h,scheme:m,uri:g,version:y}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=pS(t.address),S=m?`${m}://${s}`:s,_=t.statement?`${t.statement}
`:"",C=`${S} wants you to sign in with your Ethereum account:
${b}

${_}`;let j=`URI: ${g}
Version: ${y}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),d&&(j+=`
Not Before: ${d.toISOString()}`),p&&(j+=`
Request ID: ${p}`),h){let T=`
Resources:`;for(const E of h){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);T+=`
- ${E}`}j+=T}return`${C}
${j}`}class Rt extends Error{constructor({message:e,code:n,cause:s,name:i}){var a;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(a=i??(s instanceof Error?s.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Hc extends Rt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function VI({error:t,options:e}){var n,s,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(mS(l)){if(a.rp.id!==l)return new Rt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function BI({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(mS(s)){if(n.rpId!==s)return new Rt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class UI{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const zI=new UI;function WI(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,i=Ss(t,["challenge","user","excludeCredentials"]),a=ti(e).buffer,l=Object.assign(Object.assign({},n),{id:ti(n.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:a,user:l});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let p=0;p<s.length;p++){const h=s[p];d.excludeCredentials[p]=Object.assign(Object.assign({},h),{id:ti(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function HI(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=Ss(t,["challenge","allowCredentials"]),i=ti(e).buffer,a=Object.assign(Object.assign({},s),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const d=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},d),{id:ti(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function KI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Js(new Uint8Array(t.response.attestationObject)),clientDataJSON:Js(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function GI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Js(new Uint8Array(i.authenticatorData)),clientDataJSON:Js(new Uint8Array(i.clientDataJSON)),signature:Js(new Uint8Array(i.signature)),userHandle:i.userHandle?Js(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function mS(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function kx(){var t,e;return!!(an()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function qI(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hc("Browser returned unexpected credential type",e)}:{data:null,error:new Hc("Empty credential response",e)}}catch(e){return{data:null,error:VI({error:e,options:t})}}}async function YI(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hc("Browser returned unexpected credential type",e)}:{data:null,error:new Hc("Empty credential response",e)}}catch(e){return{data:null,error:BI({error:e,options:t})}}}const JI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},XI={userVerification:"preferred",hints:["security-key"]};function Kc(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),s={};for(const i of t)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))s[a]=l;else if(n(l))s[a]=l;else if(e(l)){const d=s[a];e(d)?s[a]=Kc(d,l):s[a]=Kc(l)}else s[a]=l}return s}function QI(t,e){return Kc(JI,t,e||{})}function ZI(t,e){return Kc(XI,t,e||{})}class eM{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:i},a){try{const{data:l,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!l)return{data:null,error:d};const p=i??zI.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${s}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=QI(l.webauthn.credential_options.publicKey,a?.create),{data:m,error:g}=await qI({publicKey:h,signal:p});return m?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const h=ZI(l.webauthn.credential_options.publicKey,a?.request),{data:m,error:g}=await YI(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:p}));return m?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(l){return Ee(l)?{data:null,error:l}:{data:null,error:new Ks("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!n)return{data:null,error:new Ia("rpId is required for WebAuthn authentication")};try{if(!kx())return{data:null,error:new Ks("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:i},{request:a});if(!l)return{data:null,error:d};const{webauthn:p}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:s,credential_response:p.credential_response}})}catch(l){return Ee(l)?{data:null,error:l}:{data:null,error:new Ks("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!n)return{data:null,error:new Ia("rpId is required for WebAuthn registration")};try{if(!kx())return{data:null,error:new Ks("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:d};const{data:p,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:i},{create:a});return p?this._verify({factorId:l.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:s,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Ee(l)?{data:null,error:l}:{data:null,error:new Ks("Unexpected error in register",l)}}}}DI();const tM={url:XO,storageKey:QO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ZO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cx(t,e,n){return await n()}const Fo={};class Ma{get jwks(){var e,n;return(n=(e=Fo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Fo[this.storageKey]=Object.assign(Object.assign({},Fo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Fo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Fo[this.storageKey]=Object.assign(Object.assign({},Fo[this.storageKey]),{cachedAt:e})}constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ma.nextInstanceID,Ma.nextInstanceID+=1,this.instanceID>0&&an()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},tM),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new OI({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=fS(i.fetch),this.lock=i.lock||Cx,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:an()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=MI:this.lock=Cx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new eM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:dS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_x(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=_x(this.memoryStorage)),an()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lS}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=hI(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),an()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),oI(a)){const p=(e=a.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ee(n)?{error:n}:{error:new Ks("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,i;try{const a=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Zn}),{data:l,error:d}=a;if(d||!l)return{data:{user:null,session:null},error:d};const p=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:h,session:p},error:null}}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,s,i;try{let a;if("email"in e){const{email:m,password:g,options:y}=e;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await Do(this.storage,this.storageKey)),a=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:m,password:g,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:b,code_challenge_method:S},xform:Zn})}else if("phone"in e){const{phone:m,password:g,options:y}=e;a=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(s=y?.data)!==null&&s!==void 0?s:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Zn})}else throw new wc("You must provide either an email or phone number and a password");const{data:l,error:d}=a;if(d||!l)return{data:{user:null,session:null},error:d};const p=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:h,session:p},error:null}}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:l,options:d}=e;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:bx})}else if("phone"in e){const{phone:a,password:l,options:d}=e;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:bx})}else throw new wc("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Mo}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,i,a,l,d,p,h,m,g,y;let b,S;if("message"in e)b=e.message,S=e.signature;else{const{chain:_,wallet:C,statement:j,options:T}=e;let E;if(an())if(typeof C=="object")E=C;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")E=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=C}const N=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href),P=await E.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=pS(P[0]);let $=(s=T?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!$){const V=await E.request({method:"eth_chainId"});$=LI(V)}const M={domain:N.host,address:I,statement:j,uri:N.href,version:"1",chainId:$,nonce:(i=T?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=T?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=T?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(p=T?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(h=T?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=T?.signInWithEthereum)===null||m===void 0?void 0:m.resources};b=FI(M),S=await E.request({method:"personal_sign",params:[$I(b),I]})}try{const{data:_,error:C}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:S},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Zn});if(C)throw C;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Mo}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:C})}catch(_){if(Ee(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(e){var n,s,i,a,l,d,p,h,m,g,y,b;let S,_;if("message"in e)S=e.message,_=e.signature;else{const{chain:C,wallet:j,statement:T,options:E}=e;let N;if(an())if(typeof j=="object")N=j;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))N=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=j}const P=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const I=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),T?{statement:T}:null));let $;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")$=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)$=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)S=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),_=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${P.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(s=E?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=E?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((p=E?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((g=(m=E?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...E.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const I=await N.signMessage(new TextEncoder().encode(S),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=I}}try{const{data:C,error:j}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Js(_)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Zn});if(j)throw j;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Mo}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:j})}catch(C){if(Ee(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(e){const n=await Us(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:a,error:l}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Zn});if(await ds(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Mo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(Ee(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:s,token:i,access_token:a,nonce:l}=e,d=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Zn}),{data:p,error:h}=d;return h?{data:{user:null,session:null},error:h}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Mo}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:h})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,i,a,l;try{if("email"in e){const{email:d,options:p}=e;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Do(this.storage,this.storageKey));const{error:g}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=p?.data)!==null&&n!==void 0?n:{},create_user:(s=p?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:d,options:p}=e,{data:h,error:m}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=p?.data)!==null&&i!==void 0?i:{},create_user:(a=p?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(l=p?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:m}}throw new wc("You must provide either an email or phone number.")}catch(d){if(Ee(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var n,s;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:l,error:d}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Zn});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const p=l.session,h=l.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:h,session:p},error:null}}catch(i){if(Ee(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,s,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await Do(this.storage,this.storageKey)),await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:PI})}catch(a){if(Ee(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Qn;const{error:i}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ee(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:i,options:a}=e,{error:l}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:s,type:i,options:a}=e,{data:l,error:d}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new wc("You must provide either an email or phone number and a type")}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Us(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Bf:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const l=await Us(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=Wf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=jI(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ps}):await this._useSession(async n=>{var s,i,a;const{data:l,error:d}=n;if(d)throw d;return!(!((s=l.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qn}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ps})})}catch(n){if(Ee(n))return sI(n)&&(await this._removeSession(),await ds(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new Qn;const l=i.session;let d=null,p=null;this.flowType==="pkce"&&e.email!=null&&([d,p]=await Do(this.storage,this.storageKey));const{data:h,error:m}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:p}),jwt:l.access_token,xform:ps});if(m)throw m;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qn;const n=Date.now()/1e3;let s=n,i=!0,a=null;const{payload:l}=zf(e.access_token);if(l.exp&&(s=l.exp,i=s<=n),i){const{data:d,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:p}=await this._getUser(e.access_token);if(p)throw p;a={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Ee(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:l,error:d}=n;if(d)throw d;e=(s=l.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Qn;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!an())throw new bc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new px("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new px("No code detected.");const{data:T,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:d,expires_at:p,token_type:h}=e;if(!a||!d||!l||!h)throw new bc("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(d);let y=m+g;p&&(y=parseInt(p));const b=y-m;b*1e3<=Wo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const S=y-g;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,m);const{data:_,error:C}=await this._getUser(a);if(C)throw C;const j={provider_token:s,provider_refresh_token:i,access_token:a,expires_in:g,expires_at:y,refresh_token:l,token_type:h,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:e.type},error:null}}catch(s){if(Ee(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Us(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{error:a};const l=(s=i.session)===null||s===void 0?void 0:s.access_token;if(l){const{error:d}=await this.admin.signOut(l,e);if(d&&!(rI(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await ds(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=fI(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,i;try{const{data:{session:a},error:l}=n;if(l)throw l;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Do(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ee(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:i}=await this._useSession(async a=>{var l,d,p,h,m;const{data:g,error:y}=a;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",b,{headers:this.headers,jwt:(m=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return an()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(Ee(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:l,provider:d,token:p,access_token:h,nonce:m}=e,g=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=a?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:p,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Zn}),{data:y,error:b}=g;return b?{data:{user:null,session:null},error:b}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new Mo}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:b})}catch(i){if(Ee(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,i;const{data:a,error:l}=n;if(l)throw l;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await gI(async i=>(i>0&&await mI(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Zn})),(i,a)=>{const l=200*Math.pow(2,i);return a&&Uf(a)&&Date.now()+l-s<Wo})}catch(s){if(this._debug(n,"error",s),Ee(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),an()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Us(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Us(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Ho(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l?.user)!==null&&e!==void 0?e:Wf()}else if(i&&!i.user&&!i.user){const l=await Us(this.storage,this.storageKey+"-user");l&&l?.user?(i.user=l.user,await ds(this.storage,this.storageKey+"-user"),await Ho(this.storage,this.storageKey,i)):i.user=Wf()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bf;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${Bf}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Uf(l)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(i.access_token);!d&&l?.user?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(s,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Qn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new uu;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Qn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(i,"error",a),Ee(a)){const l={data:null,error:a};return Uf(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,s=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(p){a.push(p)}});if(await Promise.all(l),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Ho(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=xx(i);await Ho(this.storage,this.storageKey,a)}else{const i=xx(n);await Ho(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ds(this.storage,this.storageKey),await ds(this.storage,this.storageKey+"-code-verifier"),await ds(this.storage,this.storageKey+"-user"),this.userStorage&&await ds(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&an()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Wo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-e)/Wo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Wo}ms, refresh threshold is ${Gh} ticks`),i<=Gh&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof hS)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!an()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,l]=await Do(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(d.toString())}if(s?.queryParams){const a=new URLSearchParams(s.queryParams);i.push(a.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await Re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,i;const{data:a,error:l}=n;if(l)return{data:null,error:l};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:h}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&p.type==="totp"&&(!((i=p?.totp)===null||i===void 0)&&i.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?KI(e.webauthn.credential_response):GI(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:p}=await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:p})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:WI(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:HI(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=zf(s.access_token);let l=null;a.aal&&(l=a.aal);let d=l;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const h=a.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;return i?{data:null,error:i}:s?await Re(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):{data:null,error:new Qn}})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:i},error:a}=s;if(a)return{data:null,error:a};if(!i)return{data:null,error:new Qn};const l=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&an()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:i},error:a}=s;if(a)return{data:null,error:a};if(!i)return{data:null,error:new Qn};const l=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&an()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(d=>d.kid===e);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+tI>i)return s;const{data:a,error:l}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,s=a.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:b,error:S}=await this.getSession();if(S||!b.session)return{data:null,error:S};s=b.session.access_token}const{header:i,payload:a,signature:l,raw:{header:d,payload:p}}=zf(s);n?.allowExpired||_I(a.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:b}=await this.getUser(s);if(b)throw b;return{data:{claims:a,header:i,signature:l},error:null}}const m=kI(i.alg),g=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,l,uI(`${d}.${p}`)))throw new Jh("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}}}Ma.nextInstanceID=0;const nM=Ma;class rM extends nM{constructor(e){super(e)}}class sM{constructor(e,n,s){var i,a,l;this.supabaseUrl=e,this.supabaseKey=n;const d=JO(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const p=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:UO,realtime:WO,auth:Object.assign(Object.assign({},zO),{storageKey:p}),global:BO},m=YO(s??{},h);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=GO(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new X5(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new $O(this.storageUrl.href,this.headers,this.fetch,s?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new U5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,storageKey:l,flowType:d,lock:p,debug:h},m,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rM({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,flowType:d,lock:p,debug:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new pO(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const oM=(t,e,n)=>new sM(t,e,n);function iM(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}iM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nn="aavljgcuaajnimeohelq",du="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFhdmxqZ2N1YWFqbmltZW9oZWxxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA5OTE1ODUsImV4cCI6MjA3NjU2NzU4NX0.4cfyCfXlVLYmlLwa5Y7aGj0-BuVF4RDTpNooURWZXAo";let ca=null,jx=!1;function aM(t){try{const e=t.split(".");if(e.length!==3)return null;const n=e[1],s=atob(n.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(s)}catch(e){return console.error("[decodeJWT] Failed to decode token:",e),null}}function gS(t){const e=aM(t);if(!e)return console.error("[validateTokenProject] Could not decode token"),!1;const n=`https://${nn}.supabase.co/auth/v1`;if(e.iss!==n)return console.error("[validateTokenProject] Token issuer mismatch!"),console.error("[validateTokenProject] Expected:",n),console.error("[validateTokenProject] Got:",e.iss),console.error("[validateTokenProject]  This token is from a DIFFERENT Supabase project!"),!1;if(e.exp){const s=Math.floor(Date.now()/1e3);if(e.exp<s)return console.warn("[validateTokenProject] Token is expired"),!1}return!0}function Yt(){if(ca)return ca;const t=`https://${nn}.supabase.co`;console.log("[Supabase Client] Creating client with URL:",t),console.log("[Supabase Client] Using localStorage for session persistence");const e=`sb-${nn}-auth-token`,n=localStorage.getItem(e);if(n)try{const s=JSON.parse(n);s?.access_token&&(console.log("[Supabase Client] Found existing session, validating..."),s.access_token.startsWith("eyJ")?gS(s.access_token)?console.log("[Supabase Client]  Existing session appears valid"):(console.error("[Supabase Client]  Token is from different project - clearing session"),localStorage.clear()):(console.error("[Supabase Client]  Invalid token format - clearing session"),localStorage.clear()))}catch(s){console.error("[Supabase Client] Error validating existing session:",s),console.error("[Supabase Client] Clearing potentially corrupted session"),localStorage.clear()}return ca=oM(t,du,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce",storage:{getItem:s=>localStorage.getItem(s),setItem:(s,i)=>{localStorage.setItem(s,i)},removeItem:s=>{localStorage.removeItem(s)}}},realtime:{params:{eventsPerSecond:10}}}),jx||(jx=!0,ca.auth.onAuthStateChange(async(s,i)=>{console.log("[Auth State Change]",s,i?"Session exists":"No session"),s==="SIGNED_OUT"?(console.log("[Auth] User signed out - clearing session"),localStorage.clear()):s==="TOKEN_REFRESHED"?(console.log("[Auth]  Token refreshed successfully"),i?.access_token&&console.log("[Auth] New token expires at:",new Date(i.expires_at*1e3).toLocaleString())):s==="SIGNED_IN"?(console.log("[Auth]  User signed in successfully"),i?.access_token&&console.log("[Auth] Session expires at:",new Date(i.expires_at*1e3).toLocaleString())):s==="USER_UPDATED"&&console.log("[Auth] User profile updated")})),ca}async function lM(){const t=Yt();try{const{data:{session:e}}=await t.auth.getSession();return e?.access_token?e.access_token.startsWith("eyJ")?gS(e.access_token)?e.access_token:(console.error("[getAccessToken] Token is from wrong project"),null):(console.error("[getAccessToken] Invalid token format"),null):null}catch(e){return console.error("[getAccessToken] Error:",e),null}}const vS=300*1e3,Ex=120*1e3;let st=null,Ca=null,Sc=!1;function yS(t){try{const e=t.split(".");if(e.length!==3)return null;const n=e[1],s=atob(n.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(s)}catch(e){return console.error("[TokenManager] Failed to decode JWT:",e),null}}function xS(t){const e=yS(t);if(!e)return!1;const n=`https://${nn}.supabase.co/auth/v1`;return e.iss===n}function wS(t){const e=yS(t);return e?.exp?e.exp*1e3:null}function Gc(t){const e=Date.now();return t-e<=vS}function Da(t){return Date.now()>=t}async function Xh(){if(Sc){console.log("[TokenManager] Refresh already in progress, waiting...");let t=0;for(;Sc&&t<50;)await new Promise(e=>setTimeout(e,100)),t++;return st?.token?st.token:null}Sc=!0;try{const t=Yt();console.log("[TokenManager]  Refreshing session...");const{data:{session:e},error:n}=await t.auth.refreshSession();if(n)return console.error("[TokenManager]  Refresh failed:",n.message),n.message.includes("Invalid Refresh Token")||n.message.includes("refresh_token_not_found")||n.message.includes("invalid_grant")?(console.error("[TokenManager]  Terminal error - session is invalid"),st=null,null):st?.token&&!Da(st.expiresAt)?(console.warn("[TokenManager]  Using cached token as fallback"),st.token):null;if(!e?.access_token)return console.error("[TokenManager]  Refresh succeeded but no token returned"),st=null,null;if(!xS(e.access_token))return console.error("[TokenManager]  Refreshed token is from wrong project"),st=null,null;const s=wS(e.access_token);if(!s)return console.error("[TokenManager]  Cannot determine token expiry"),st=null,null;st={token:e.access_token,expiresAt:s,lastRefreshed:Date.now()};const i=Math.floor((s-Date.now())/6e4);return console.log(`[TokenManager]  Token refreshed successfully (valid for ${i} minutes)`),e.access_token}catch(t){return console.error("[TokenManager]  Unexpected error during refresh:",t),st=null,null}finally{Sc=!1}}async function cM(){try{const t=Yt(),{data:{session:e},error:n}=await t.auth.getSession();if(n||!e)return st=null,null;const s=e.access_token;if(!s||!s.startsWith("eyJ"))return console.error("[TokenManager] Invalid token format"),st=null,null;if(!xS(s))return console.error("[TokenManager] Token is from wrong project"),st=null,null;const i=wS(s);if(!i)return console.error("[TokenManager] Cannot determine token expiry"),st=null,null;if(Da(i))return console.log("[TokenManager] Token is expired, refreshing immediately..."),await Xh();if(st?.token===s&&!Gc(st.expiresAt))return st.token;if(Gc(i)){console.log("[TokenManager] Token approaching expiry, refreshing...");const a=await Xh();return!a&&!Da(i)?(console.warn("[TokenManager]  Refresh failed but current token still valid"),st={token:s,expiresAt:i,lastRefreshed:Date.now()},s):a}return st={token:s,expiresAt:i,lastRefreshed:Date.now()},s}catch(t){return console.error("[TokenManager] Error getting token:",t),null}}async function Nx(){try{if(!st)return;const t=Date.now(),e=st.expiresAt-t;if(Da(st.expiresAt)||Gc(st.expiresAt))console.log("[TokenManager]  Background refresh triggered"),await Xh();else{const n=Math.floor(e/6e4);console.log(`[TokenManager]  Token healthy (${n} min until refresh needed)`)}}catch(t){console.error("[TokenManager] Background refresh check failed:",t)}}function bS(){if(Ca){console.log("[TokenManager] Background refresh already running");return}console.log("[TokenManager]  Starting background refresh system"),console.log(`[TokenManager] Checking every ${Ex/6e4} minutes`),console.log(`[TokenManager] Refreshing ${vS/6e4} minutes before expiry`),setTimeout(Nx,5e3),Ca=setInterval(Nx,Ex)}function om(){Ca&&(console.log("[TokenManager] Stopping background refresh system"),clearInterval(Ca),Ca=null)}function SS(){console.log("[TokenManager] Clearing token cache"),st=null,om()}function uM(){if(!st)return{cached:!1};const t=Date.now(),e=st.expiresAt-t,n=Math.floor(e/6e4),s=Gc(st.expiresAt);return{cached:!0,expiresAt:new Date(st.expiresAt).toLocaleString(),minutesUntilExpiry:n,needsRefresh:s,isExpired:Da(st.expiresAt),lastRefreshed:new Date(st.lastRefreshed).toLocaleString()}}typeof window<"u"&&window.addEventListener("beforeunload",()=>{om()});const _S="v1",dM=1e3*60*60*24;function fM(t,e){try{const n={data:e,timestamp:Date.now(),version:_S};localStorage.setItem(`cache:${t}`,JSON.stringify(n))}catch(n){console.warn("[Offline Cache] Failed to save to cache:",n)}}function hM(t,e=dM){try{const n=localStorage.getItem(`cache:${t}`);if(!n)return null;const s=JSON.parse(n);if(s.version!==_S)return console.log("[Offline Cache] Cache version mismatch, ignoring"),localStorage.removeItem(`cache:${t}`),null;const i=Date.now()-s.timestamp;return i>e?(console.log("[Offline Cache] Cache expired, ignoring"),localStorage.removeItem(`cache:${t}`),null):(console.log("[Offline Cache]  Using cached data for:",t,`(age: ${Math.round(i/1e3)}s)`),s.data)}catch(n){return console.warn("[Offline Cache] Failed to read from cache:",n),null}}const kS=`https://${nn}.supabase.co/functions/v1/make-server-29f6739b`;async function Je(t,e={},n=0,s=!1,i=!0){try{console.log(`[API] ========== REQUEST START: ${t} ==========`);const l=["/auth/signup","/auth/login","/health"].some(S=>t.includes(S)),d=["/conversations/","/profile/"],p=i&&(!e.method||e.method==="GET")&&d.some(S=>t.includes(S));console.log(`[API] Endpoint: ${t}`),console.log(`[API] Is public: ${l}`),console.log(`[API] Retry count: ${n}`),!l&&n===0&&await new Promise(S=>setTimeout(S,100));const h=await cM();if(!h&&!l)return console.warn(`[API]   No access token available for: ${t}`),console.log("[API] getAccessToken() returned null - session may have expired"),{success:!1,error:"Authentication token not available. Please try again."};const m={"Content-Type":"application/json",Authorization:`Bearer ${h||du}`,...e.headers},g=`${kS}${t}`;console.log(`[API] ${e.method||"GET"} ${g}`,h?"(authenticated)":"(public)"),h?console.log("[API] Using access_token, preview:",h.substring(0,30)+"..."):console.log("[API] Using anon_key (public endpoint)");let y;try{y=await fetch(g,{...e,headers:m}),console.log(`[API Response] ${t} - Status: ${y.status} ${y.statusText}`)}catch(S){if(s||console.log(`[API] Network connectivity issue on ${t}`),p){const _=`${t}`,C=hM(_);if(C)return console.log("[API]  Using cached data"),{success:!0,data:C,fromCache:!0}}return{success:!1,error:"Unable to complete request",details:S instanceof Error?S.message:String(S)}}if(y.status===401&&n<1&&!l)return console.warn("[API] Got 401, will retry with fresh token..."),await new Promise(S=>setTimeout(S,300)),Je(t,e,n+1,s,i);if(!y.ok){const S=await y.text();return s||console.error(`[API Error] ${t} (${y.status}):`,S),y.status===401?{success:!1,error:"Authentication failed. Please log in again."}:{success:!1,error:S||`HTTP ${y.status}`}}const b=await y.json();if(p&&b){const S=`${t}`;fM(S,b),console.log("[API]  Cached response for offline use")}return{success:!0,data:b}}catch{return console.log(`[API] Request error on ${t}`),{success:!1,error:"Request failed"}}}const pM={signup:(t,e,n,s)=>Je("/auth/signup",{method:"POST",body:JSON.stringify({email:t,password:e,full_name:n,phone_number:s})}),login:async(t,e)=>({success:!0})},Vo={send:(t,e,n="text",s,i)=>Je("/messages/send",{method:"POST",body:JSON.stringify({conversation_id:t,body:e,type:n,reply_to:s,attachments:i})}),markAsRead:t=>Je("/messages/mark-read",{method:"POST",body:JSON.stringify({message_ids:t})}),react:(t,e)=>Je("/messages/react",{method:"POST",body:JSON.stringify({message_id:t,emoji:e})}),deleteForMe:t=>Je("/messages/delete-for-me",{method:"POST",body:JSON.stringify({message_id:t})}),deleteForEveryone:t=>Je("/messages/delete-for-everyone",{method:"POST",body:JSON.stringify({message_id:t})})},di={create:(t,e,n)=>Je("/conversations/create",{method:"POST",body:JSON.stringify({type:t,member_ids:e,title:n})}),list:()=>Je("/conversations"),get:t=>Je(`/conversations/${t}`),delete:t=>Je("/conversations/delete",{method:"POST",body:JSON.stringify({conversation_id:t})})},qc={uploadFile:async(t,e)=>{const n=new FormData;n.append("file",t),n.append("type",e);const s=await getAccessToken();try{const i=await fetch(`${kS}/upload`,{method:"POST",headers:{Authorization:`Bearer ${s||du}`},body:n});return i.ok?{success:!0,data:await i.json()}:{success:!1,error:await i.text()}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Upload failed"}}}},Kf={start:t=>Je("/typing/start",{method:"POST",body:JSON.stringify({conversation_id:t})},0,!0),stop:t=>Je("/typing/stop",{method:"POST",body:JSON.stringify({conversation_id:t})},0,!0)},_c={updateStatus:t=>Je("/presence/update",{method:"POST",body:JSON.stringify({is_online:t})})},Gf={update:t=>Je("/profile/update",{method:"POST",body:JSON.stringify(t)}),get:t=>Je(`/profile/${t}`)},Tx={block:t=>Je("/users/block",{method:"POST",body:JSON.stringify({user_id:t})}),unblock:t=>Je("/users/unblock",{method:"POST",body:JSON.stringify({user_id:t})}),getBlockedUsers:()=>Je("/users/blocked")},Px={initiate:(t,e)=>Je("/calls/initiate",{method:"POST",body:JSON.stringify({recipient_id:t,call_type:e})}),signal:(t,e,n)=>Je("/calls/signal",{method:"POST",body:JSON.stringify({call_id:t,signal_type:e,signal_data:n})}),accept:t=>Je("/calls/accept",{method:"POST",body:JSON.stringify({call_id:t})}),reject:t=>Je("/calls/reject",{method:"POST",body:JSON.stringify({call_id:t})}),end:t=>Je("/calls/end",{method:"POST",body:JSON.stringify({call_id:t})}),getSignals:(t,e)=>Je(`/calls/${t}/signals${e?`?after=${e}`:""}`),checkIncoming:()=>Je("/calls/incoming")};function CS(t){const e=new Date;return t.filter(n=>n.expires_at?new Date(n.expires_at)>e:!0)}function mM(t){return t.map(e=>{if(!e.stories)return null;const n=CS(e.stories);return n.length===0?null:{...e,stories:n}}).filter(e=>e!==null)}const rr={getAllStories:async()=>{const t=await Je("/stories");return t.success&&t.data?.stories&&(t.data.stories=mM(t.data.stories)),t},getUserStories:t=>Je(`/stories/user/${t}`),create:(t,e)=>Je("/stories/create",{method:"POST",body:JSON.stringify({type:t,...e})}),view:t=>Je("/stories/view",{method:"POST",body:JSON.stringify({story_id:t})}),getViews:t=>Je(`/stories/${t}/views`),reply:(t,e)=>Je("/stories/reply",{method:"POST",body:JSON.stringify({story_id:t,message:e})}),delete:t=>Je("/stories/delete",{method:"POST",body:JSON.stringify({story_id:t})}),getMyStories:async()=>{const t=await Je("/stories/my-stories");return t.success&&t.data?.stories&&(t.data.stories=CS(t.data.stories)),t},cleanup:()=>Je("/stories/cleanup",{method:"POST"})};var Ax=1,gM=.9,vM=.8,yM=.17,qf=.1,Yf=.999,xM=.9999,wM=.99,bM=/[\\\/_+.#"@\[\(\{&]/,SM=/[\\\/_+.#"@\[\(\{&]/g,_M=/[\s-]/,jS=/[\s-]/g;function Qh(t,e,n,s,i,a,l){if(a===e.length)return i===t.length?Ax:wM;var d=`${i},${a}`;if(l[d]!==void 0)return l[d];for(var p=s.charAt(a),h=n.indexOf(p,i),m=0,g,y,b,S;h>=0;)g=Qh(t,e,n,s,h+1,a+1,l),g>m&&(h===i?g*=Ax:bM.test(t.charAt(h-1))?(g*=vM,b=t.slice(i,h-1).match(SM),b&&i>0&&(g*=Math.pow(Yf,b.length))):_M.test(t.charAt(h-1))?(g*=gM,S=t.slice(i,h-1).match(jS),S&&i>0&&(g*=Math.pow(Yf,S.length))):(g*=yM,i>0&&(g*=Math.pow(Yf,h-i))),t.charAt(h)!==e.charAt(a)&&(g*=xM)),(g<qf&&n.charAt(h-1)===s.charAt(a+1)||s.charAt(a+1)===s.charAt(a)&&n.charAt(h-1)!==s.charAt(a))&&(y=Qh(t,e,n,s,h+1,a+2,l),y*qf>g&&(g=y*qf)),g>m&&(m=g),h=n.indexOf(p,h+1);return l[d]=m,m}function Rx(t){return t.toLowerCase().replace(jS," ")}function kM(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,Qh(t,e,Rx(t),Rx(e),0,0,{})}function De(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function CM(t,e){const n=w.createContext(e),s=a=>{const{children:l,...d}=a,p=w.useMemo(()=>d,Object.values(d));return u.jsx(n.Provider,{value:p,children:l})};s.displayName=t+"Provider";function i(a){const l=w.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[s,i]}function Br(t,e=[]){let n=[];function s(a,l){const d=w.createContext(l),p=n.length;n=[...n,l];const h=g=>{const{scope:y,children:b,...S}=g,_=y?.[t]?.[p]||d,C=w.useMemo(()=>S,Object.values(S));return u.jsx(_.Provider,{value:C,children:b})};h.displayName=a+"Provider";function m(g,y){const b=y?.[t]?.[p]||d,S=w.useContext(b);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=n.map(l=>w.createContext(l));return function(d){const p=d?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...d,[t]:p}}),[d,p])}};return i.scopeName=t,[s,jM(i,...e)]}function jM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=s.reduce((d,{useScope:p,scopeName:h})=>{const g=p(a)[`__scope${h}`];return{...d,...g}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}var vs=globalThis?.document?w.useLayoutEffect:()=>{},EM=pw[" useId ".trim().toString()]||(()=>{}),NM=0;function Nn(t){const[e,n]=w.useState(EM());return vs(()=>{n(s=>s??String(NM++))},[t]),t||(e?`radix-${e}`:"")}var TM=pw[" useInsertionEffect ".trim().toString()]||vs;function Ga({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[i,a,l]=PM({defaultProp:e,onChange:n}),d=t!==void 0,p=d?t:i;{const m=w.useRef(t!==void 0);w.useEffect(()=>{const g=m.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=d},[d,s])}const h=w.useCallback(m=>{if(d){const g=AM(m)?m(t):m;g!==t&&l.current?.(g)}else a(m)},[d,t,a,l]);return[p,h]}function PM({defaultProp:t,onChange:e}){const[n,s]=w.useState(t),i=w.useRef(n),a=w.useRef(e);return TM(()=>{a.current=e},[e]),w.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,s,a]}function AM(t){return typeof t=="function"}function $r(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>e.current?.(...n),[])}function RM(t,e=globalThis?.document){const n=$r(t);w.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var OM="DismissableLayer",Zh="dismissableLayer.update",IM="dismissableLayer.pointerDownOutside",MM="dismissableLayer.focusOutside",Ox,ES=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fu=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:d,...p}=t,h=w.useContext(ES),[m,g]=w.useState(null),y=m?.ownerDocument??globalThis?.document,[,b]=w.useState({}),S=bt(e,$=>g($)),_=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),j=_.indexOf(C),T=m?_.indexOf(m):-1,E=h.layersWithOutsidePointerEventsDisabled.size>0,N=T>=j,P=$M($=>{const M=$.target,V=[...h.branches].some(H=>H.contains(M));!N||V||(i?.($),l?.($),$.defaultPrevented||d?.())},y),I=FM($=>{const M=$.target;[...h.branches].some(H=>H.contains(M))||(a?.($),l?.($),$.defaultPrevented||d?.())},y);return RM($=>{T===h.layers.size-1&&(s?.($),!$.defaultPrevented&&d&&($.preventDefault(),d()))},y),w.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Ox=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),Ix(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Ox)}},[m,y,n,h]),w.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),Ix())},[m,h]),w.useEffect(()=>{const $=()=>b({});return document.addEventListener(Zh,$),()=>document.removeEventListener(Zh,$)},[]),u.jsx(Qe.div,{...p,ref:S,style:{pointerEvents:E?N?"auto":"none":void 0,...t.style},onFocusCapture:De(t.onFocusCapture,I.onFocusCapture),onBlurCapture:De(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:De(t.onPointerDownCapture,P.onPointerDownCapture)})});fu.displayName=OM;var DM="DismissableLayerBranch",LM=w.forwardRef((t,e)=>{const n=w.useContext(ES),s=w.useRef(null),i=bt(e,s);return w.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),u.jsx(Qe.div,{...t,ref:i})});LM.displayName=DM;function $M(t,e=globalThis?.document){const n=$r(t),s=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=d=>{if(d.target&&!s.current){let p=function(){NS(IM,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=p,e.addEventListener("click",i.current,{once:!0})):p()}else e.removeEventListener("click",i.current);s.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function FM(t,e=globalThis?.document){const n=$r(t),s=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!s.current&&NS(MM,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Ix(){const t=new CustomEvent(Zh);document.dispatchEvent(t)}function NS(t,e,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),s?x1(i,a):i.dispatchEvent(a)}var Jf="focusScope.autoFocusOnMount",Xf="focusScope.autoFocusOnUnmount",Mx={bubbles:!1,cancelable:!0},VM="FocusScope",hu=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=t,[d,p]=w.useState(null),h=$r(i),m=$r(a),g=w.useRef(null),y=bt(e,_=>p(_)),b=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(s){let _=function(E){if(b.paused||!d)return;const N=E.target;d.contains(N)?g.current=N:hs(g.current,{select:!0})},C=function(E){if(b.paused||!d)return;const N=E.relatedTarget;N!==null&&(d.contains(N)||hs(g.current,{select:!0}))},j=function(E){if(document.activeElement===document.body)for(const P of E)P.removedNodes.length>0&&hs(d)};document.addEventListener("focusin",_),document.addEventListener("focusout",C);const T=new MutationObserver(j);return d&&T.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",C),T.disconnect()}}},[s,d,b.paused]),w.useEffect(()=>{if(d){Lx.add(b);const _=document.activeElement;if(!d.contains(_)){const j=new CustomEvent(Jf,Mx);d.addEventListener(Jf,h),d.dispatchEvent(j),j.defaultPrevented||(BM(KM(TS(d)),{select:!0}),document.activeElement===_&&hs(d))}return()=>{d.removeEventListener(Jf,h),setTimeout(()=>{const j=new CustomEvent(Xf,Mx);d.addEventListener(Xf,m),d.dispatchEvent(j),j.defaultPrevented||hs(_??document.body,{select:!0}),d.removeEventListener(Xf,m),Lx.remove(b)},0)}}},[d,h,m,b]);const S=w.useCallback(_=>{if(!n&&!s||b.paused)return;const C=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,j=document.activeElement;if(C&&j){const T=_.currentTarget,[E,N]=UM(T);E&&N?!_.shiftKey&&j===N?(_.preventDefault(),n&&hs(E,{select:!0})):_.shiftKey&&j===E&&(_.preventDefault(),n&&hs(N,{select:!0})):j===T&&_.preventDefault()}},[n,s,b.paused]);return u.jsx(Qe.div,{tabIndex:-1,...l,ref:y,onKeyDown:S})});hu.displayName=VM;function BM(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(hs(s,{select:e}),document.activeElement!==n)return}function UM(t){const e=TS(t),n=Dx(e,t),s=Dx(e.reverse(),t);return[n,s]}function TS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Dx(t,e){for(const n of t)if(!zM(n,{upTo:e}))return n}function zM(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function WM(t){return t instanceof HTMLInputElement&&"select"in t}function hs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&WM(t)&&e&&t.select()}}var Lx=HM();function HM(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=$x(t,e),t.unshift(e)},remove(e){t=$x(t,e),t[0]?.resume()}}}function $x(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function KM(t){return t.filter(e=>e.tagName!=="A")}var GM="Portal",pu=w.forwardRef((t,e)=>{const{container:n,...s}=t,[i,a]=w.useState(!1);vs(()=>a(!0),[]);const l=n||i&&globalThis?.document?.body;return l?mw.createPortal(u.jsx(Qe.div,{...s,ref:e}),l):null});pu.displayName=GM;function qM(t,e){return w.useReducer((n,s)=>e[n][s]??n,t)}var _r=t=>{const{present:e,children:n}=t,s=YM(e),i=typeof n=="function"?n({present:s.isPresent}):w.Children.only(n),a=bt(s.ref,JM(i));return typeof n=="function"||s.isPresent?w.cloneElement(i,{ref:a}):null};_r.displayName="Presence";function YM(t){const[e,n]=w.useState(),s=w.useRef(null),i=w.useRef(t),a=w.useRef("none"),l=t?"mounted":"unmounted",[d,p]=qM(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const h=kc(s.current);a.current=d==="mounted"?h:"none"},[d]),vs(()=>{const h=s.current,m=i.current;if(m!==t){const y=a.current,b=kc(h);t?p("MOUNT"):b==="none"||h?.display==="none"?p("UNMOUNT"):p(m&&y!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,p]),vs(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,g=b=>{const _=kc(s.current).includes(CSS.escape(b.animationName));if(b.target===e&&_&&(p("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},y=b=>{b.target===e&&(a.current=kc(s.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:w.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function kc(t){return t?.animationName||"none"}function JM(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Qf=0;function im(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Fx()),document.body.insertAdjacentElement("beforeend",t[1]??Fx()),Qf++,()=>{Qf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qf--}},[])}function Fx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ic="right-scroll-bar-position",Mc="width-before-scroll-bar",XM="with-scroll-bars-hidden",QM="--removed-body-scroll-bar-size";function Zf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ZM(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=e,n.facade}var e3=typeof window<"u"?w.useLayoutEffect:w.useEffect,Vx=new WeakMap;function t3(t,e){var n=ZM(null,function(s){return t.forEach(function(i){return Zf(i,s)})});return e3(function(){var s=Vx.get(n);if(s){var i=new Set(s),a=new Set(t),l=n.current;i.forEach(function(d){a.has(d)||Zf(d,null)}),a.forEach(function(d){i.has(d)||Zf(d,l)})}Vx.set(n,t)},[t]),n}function n3(t){return t}function r3(t,e){e===void 0&&(e=n3);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,s);return n.push(l),function(){n=n.filter(function(d){return d!==l})}},assignSyncMedium:function(a){for(s=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){s=!0;var l=[];if(n.length){var d=n;n=[],d.forEach(a),l=n}var p=function(){var m=l;l=[],m.forEach(a)},h=function(){return Promise.resolve().then(p)};h(),n={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),n}}}};return i}function s3(t){t===void 0&&(t={});var e=r3(null);return e.options=Vn({async:!0,ssr:!1},t),e}var PS=function(t){var e=t.sideCar,n=Ss(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return w.createElement(s,Vn({},n))};PS.isSideCarExport=!0;function o3(t,e){return t.useMedium(e),PS}var AS=s3(),eh=function(){},mu=w.forwardRef(function(t,e){var n=w.useRef(null),s=w.useState({onScrollCapture:eh,onWheelCapture:eh,onTouchMoveCapture:eh}),i=s[0],a=s[1],l=t.forwardProps,d=t.children,p=t.className,h=t.removeScrollBar,m=t.enabled,g=t.shards,y=t.sideCar,b=t.noRelative,S=t.noIsolation,_=t.inert,C=t.allowPinchZoom,j=t.as,T=j===void 0?"div":j,E=t.gapMode,N=Ss(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=y,I=t3([n,e]),$=Vn(Vn({},N),i);return w.createElement(w.Fragment,null,m&&w.createElement(P,{sideCar:AS,removeScrollBar:h,shards:g,noRelative:b,noIsolation:S,inert:_,setCallbacks:a,allowPinchZoom:!!C,lockRef:n,gapMode:E}),l?w.cloneElement(w.Children.only(d),Vn(Vn({},$),{ref:I})):w.createElement(T,Vn({},$,{className:p,ref:I}),d))});mu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mu.classNames={fullWidth:Mc,zeroRight:Ic};var i3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function a3(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=i3();return e&&t.setAttribute("nonce",e),t}function l3(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function c3(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var u3=function(){var t=0,e=null;return{add:function(n){t==0&&(e=a3())&&(l3(e,n),c3(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},d3=function(){var t=u3();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},RS=function(){var t=d3(),e=function(n){var s=n.styles,i=n.dynamic;return t(s,i),null};return e},f3={left:0,top:0,right:0,gap:0},th=function(t){return parseInt(t||"",10)||0},h3=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[th(n),th(s),th(i)]},p3=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return f3;var e=h3(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},m3=RS(),ni="data-scroll-locked",g3=function(t,e,n,s){var i=t.left,a=t.top,l=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(XM,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(ni,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ic,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Mc,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Ic," .").concat(Ic,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Mc," .").concat(Mc,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ni,`] {
    `).concat(QM,": ").concat(d,`px;
  }
`)},Bx=function(){var t=parseInt(document.body.getAttribute(ni)||"0",10);return isFinite(t)?t:0},v3=function(){w.useEffect(function(){return document.body.setAttribute(ni,(Bx()+1).toString()),function(){var t=Bx()-1;t<=0?document.body.removeAttribute(ni):document.body.setAttribute(ni,t.toString())}},[])},y3=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,i=s===void 0?"margin":s;v3();var a=w.useMemo(function(){return p3(i)},[i]);return w.createElement(m3,{styles:g3(a,!e,i,n?"":"!important")})},ep=!1;if(typeof window<"u")try{var Cc=Object.defineProperty({},"passive",{get:function(){return ep=!0,!0}});window.addEventListener("test",Cc,Cc),window.removeEventListener("test",Cc,Cc)}catch{ep=!1}var Bo=ep?{passive:!1}:!1,x3=function(t){return t.tagName==="TEXTAREA"},OS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!x3(t)&&n[e]==="visible")},w3=function(t){return OS(t,"overflowY")},b3=function(t){return OS(t,"overflowX")},Ux=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=IS(t,s);if(i){var a=MS(t,s),l=a[1],d=a[2];if(l>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},S3=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},_3=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},IS=function(t,e){return t==="v"?w3(e):b3(e)},MS=function(t,e){return t==="v"?S3(e):_3(e)},k3=function(t,e){return t==="h"&&e==="rtl"?-1:1},C3=function(t,e,n,s,i){var a=k3(t,window.getComputedStyle(e).direction),l=a*s,d=n.target,p=e.contains(d),h=!1,m=l>0,g=0,y=0;do{if(!d)break;var b=MS(t,d),S=b[0],_=b[1],C=b[2],j=_-C-a*S;(S||j)&&IS(t,d)&&(g+=j,y+=S);var T=d.parentNode;d=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!p&&d!==document.body||p&&(e.contains(d)||e===d));return(m&&Math.abs(g)<1||!m&&Math.abs(y)<1)&&(h=!0),h},jc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zx=function(t){return[t.deltaX,t.deltaY]},Wx=function(t){return t&&"current"in t?t.current:t},j3=function(t,e){return t[0]===e[0]&&t[1]===e[1]},E3=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},N3=0,Uo=[];function T3(t){var e=w.useRef([]),n=w.useRef([0,0]),s=w.useRef(),i=w.useState(N3++)[0],a=w.useState(RS)[0],l=w.useRef(t);w.useEffect(function(){l.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=Jp([t.lockRef.current],(t.shards||[]).map(Wx),!0).filter(Boolean);return _.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=w.useCallback(function(_,C){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var j=jc(_),T=n.current,E="deltaX"in _?_.deltaX:T[0]-j[0],N="deltaY"in _?_.deltaY:T[1]-j[1],P,I=_.target,$=Math.abs(E)>Math.abs(N)?"h":"v";if("touches"in _&&$==="h"&&I.type==="range")return!1;var M=Ux($,I);if(!M)return!0;if(M?P=$:(P=$==="v"?"h":"v",M=Ux($,I)),!M)return!1;if(!s.current&&"changedTouches"in _&&(E||N)&&(s.current=P),!P)return!0;var V=s.current||P;return C3(V,C,_,V==="h"?E:N)},[]),p=w.useCallback(function(_){var C=_;if(!(!Uo.length||Uo[Uo.length-1]!==a)){var j="deltaY"in C?zx(C):jc(C),T=e.current.filter(function(P){return P.name===C.type&&(P.target===C.target||C.target===P.shadowParent)&&j3(P.delta,j)})[0];if(T&&T.should){C.cancelable&&C.preventDefault();return}if(!T){var E=(l.current.shards||[]).map(Wx).filter(Boolean).filter(function(P){return P.contains(C.target)}),N=E.length>0?d(C,E[0]):!l.current.noIsolation;N&&C.cancelable&&C.preventDefault()}}},[]),h=w.useCallback(function(_,C,j,T){var E={name:_,delta:C,target:j,should:T,shadowParent:P3(j)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(N){return N!==E})},1)},[]),m=w.useCallback(function(_){n.current=jc(_),s.current=void 0},[]),g=w.useCallback(function(_){h(_.type,zx(_),_.target,d(_,t.lockRef.current))},[]),y=w.useCallback(function(_){h(_.type,jc(_),_.target,d(_,t.lockRef.current))},[]);w.useEffect(function(){return Uo.push(a),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",p,Bo),document.addEventListener("touchmove",p,Bo),document.addEventListener("touchstart",m,Bo),function(){Uo=Uo.filter(function(_){return _!==a}),document.removeEventListener("wheel",p,Bo),document.removeEventListener("touchmove",p,Bo),document.removeEventListener("touchstart",m,Bo)}},[]);var b=t.removeScrollBar,S=t.inert;return w.createElement(w.Fragment,null,S?w.createElement(a,{styles:E3(i)}):null,b?w.createElement(y3,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function P3(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const A3=o3(AS,T3);var gu=w.forwardRef(function(t,e){return w.createElement(mu,Vn({},t,{ref:e,sideCar:A3}))});gu.classNames=mu.classNames;var R3=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},zo=new WeakMap,Ec=new WeakMap,Nc={},nh=0,DS=function(t){return t&&(t.host||DS(t.parentNode))},O3=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=DS(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},I3=function(t,e,n,s){var i=O3(e,Array.isArray(t)?t:[t]);Nc[n]||(Nc[n]=new WeakMap);var a=Nc[n],l=[],d=new Set,p=new Set(i),h=function(g){!g||d.has(g)||(d.add(g),h(g.parentNode))};i.forEach(h);var m=function(g){!g||p.has(g)||Array.prototype.forEach.call(g.children,function(y){if(d.has(y))m(y);else try{var b=y.getAttribute(s),S=b!==null&&b!=="false",_=(zo.get(y)||0)+1,C=(a.get(y)||0)+1;zo.set(y,_),a.set(y,C),l.push(y),_===1&&S&&Ec.set(y,!0),C===1&&y.setAttribute(n,"true"),S||y.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",y,j)}})};return m(e),d.clear(),nh++,function(){l.forEach(function(g){var y=zo.get(g)-1,b=a.get(g)-1;zo.set(g,y),a.set(g,b),y||(Ec.has(g)||g.removeAttribute(s),Ec.delete(g)),b||g.removeAttribute(n)}),nh--,nh||(zo=new WeakMap,zo=new WeakMap,Ec=new WeakMap,Nc={})}},am=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),i=R3(t);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),I3(s,i,n,"aria-hidden")):function(){return null}},vu="Dialog",[LS,$S]=Br(vu),[M3,ir]=LS(vu),FS=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,d=w.useRef(null),p=w.useRef(null),[h,m]=Ga({prop:s,defaultProp:i??!1,onChange:a,caller:vu});return u.jsx(M3,{scope:e,triggerRef:d,contentRef:p,contentId:Nn(),titleId:Nn(),descriptionId:Nn(),open:h,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(g=>!g),[m]),modal:l,children:n})};FS.displayName=vu;var VS="DialogTrigger",BS=w.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=ir(VS,n),a=bt(e,i.triggerRef);return u.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":um(i.open),...s,ref:a,onClick:De(t.onClick,i.onOpenToggle)})});BS.displayName=VS;var lm="DialogPortal",[D3,US]=LS(lm,{forceMount:void 0}),zS=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:i}=t,a=ir(lm,e);return u.jsx(D3,{scope:e,forceMount:n,children:w.Children.map(s,l=>u.jsx(_r,{present:n||a.open,children:u.jsx(pu,{asChild:!0,container:i,children:l})}))})};zS.displayName=lm;var Yc="DialogOverlay",WS=w.forwardRef((t,e)=>{const n=US(Yc,t.__scopeDialog),{forceMount:s=n.forceMount,...i}=t,a=ir(Yc,t.__scopeDialog);return a.modal?u.jsx(_r,{present:s||a.open,children:u.jsx($3,{...i,ref:e})}):null});WS.displayName=Yc;var L3=ro("DialogOverlay.RemoveScroll"),$3=w.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=ir(Yc,n);return u.jsx(gu,{as:L3,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Qe.div,{"data-state":um(i.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),so="DialogContent",HS=w.forwardRef((t,e)=>{const n=US(so,t.__scopeDialog),{forceMount:s=n.forceMount,...i}=t,a=ir(so,t.__scopeDialog);return u.jsx(_r,{present:s||a.open,children:a.modal?u.jsx(F3,{...i,ref:e}):u.jsx(V3,{...i,ref:e})})});HS.displayName=so;var F3=w.forwardRef((t,e)=>{const n=ir(so,t.__scopeDialog),s=w.useRef(null),i=bt(e,n.contentRef,s);return w.useEffect(()=>{const a=s.current;if(a)return am(a)},[]),u.jsx(KS,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:De(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&a.preventDefault()}),onFocusOutside:De(t.onFocusOutside,a=>a.preventDefault())})}),V3=w.forwardRef((t,e)=>{const n=ir(so,t.__scopeDialog),s=w.useRef(!1),i=w.useRef(!1);return u.jsx(KS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||n.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;n.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),KS=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=t,d=ir(so,n),p=w.useRef(null),h=bt(e,p);return im(),u.jsxs(u.Fragment,{children:[u.jsx(hu,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(fu,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":um(d.open),...l,ref:h,onDismiss:()=>d.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(U3,{titleId:d.titleId}),u.jsx(W3,{contentRef:p,descriptionId:d.descriptionId})]})]})}),cm="DialogTitle",GS=w.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=ir(cm,n);return u.jsx(Qe.h2,{id:i.titleId,...s,ref:e})});GS.displayName=cm;var qS="DialogDescription",YS=w.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=ir(qS,n);return u.jsx(Qe.p,{id:i.descriptionId,...s,ref:e})});YS.displayName=qS;var JS="DialogClose",XS=w.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=ir(JS,n);return u.jsx(Qe.button,{type:"button",...s,ref:e,onClick:De(t.onClick,()=>i.onOpenChange(!1))})});XS.displayName=JS;function um(t){return t?"open":"closed"}var QS="DialogTitleWarning",[B3,ZS]=CM(QS,{contentName:so,titleName:cm,docsSlug:"dialog"}),U3=({titleId:t})=>{const e=ZS(QS),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},z3="DialogDescriptionWarning",W3=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZS(z3).contentName}}.`;return w.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},dm=FS,H3=BS,fm=zS,yu=WS,xu=HS,e_=GS,t_=YS,hm=XS,ua='[cmdk-group=""]',rh='[cmdk-group-items=""]',K3='[cmdk-group-heading=""]',n_='[cmdk-item=""]',Hx=`${n_}:not([aria-disabled="true"])`,tp="cmdk-item-select",Ko="data-value",G3=(t,e,n)=>kM(t,e,n),r_=w.createContext(void 0),qa=()=>w.useContext(r_),s_=w.createContext(void 0),pm=()=>w.useContext(s_),o_=w.createContext(void 0),i_=w.forwardRef((t,e)=>{let n=Go(()=>{var O,G;return{search:"",value:(G=(O=t.value)!=null?O:t.defaultValue)!=null?G:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Go(()=>new Set),i=Go(()=>new Map),a=Go(()=>new Map),l=Go(()=>new Set),d=a_(t),{label:p,children:h,value:m,onValueChange:g,filter:y,shouldFilter:b,loop:S,disablePointerSelection:_=!1,vimBindings:C=!0,...j}=t,T=Nn(),E=Nn(),N=Nn(),P=w.useRef(null),I=sD();oo(()=>{if(m!==void 0){let O=m.trim();n.current.value=O,$.emit()}},[m]),oo(()=>{I(6,ie)},[]);let $=w.useMemo(()=>({subscribe:O=>(l.current.add(O),()=>l.current.delete(O)),snapshot:()=>n.current,setState:(O,G,q)=>{var Y,ae,te,ue;if(!Object.is(n.current[O],G)){if(n.current[O]=G,O==="search")Z(),H(),I(1,Q);else if(O==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let _e=document.getElementById(N);_e?_e.focus():(Y=document.getElementById(T))==null||Y.focus()}if(I(7,()=>{var _e;n.current.selectedItemId=(_e=he())==null?void 0:_e.id,$.emit()}),q||I(5,ie),((ae=d.current)==null?void 0:ae.value)!==void 0){let _e=G??"";(ue=(te=d.current).onValueChange)==null||ue.call(te,_e);return}}$.emit()}},emit:()=>{l.current.forEach(O=>O())}}),[]),M=w.useMemo(()=>({value:(O,G,q)=>{var Y;G!==((Y=a.current.get(O))==null?void 0:Y.value)&&(a.current.set(O,{value:G,keywords:q}),n.current.filtered.items.set(O,V(G,q)),I(2,()=>{H(),$.emit()}))},item:(O,G)=>(s.current.add(O),G&&(i.current.has(G)?i.current.get(G).add(O):i.current.set(G,new Set([O]))),I(3,()=>{Z(),H(),n.current.value||Q(),$.emit()}),()=>{a.current.delete(O),s.current.delete(O),n.current.filtered.items.delete(O);let q=he();I(4,()=>{Z(),q?.getAttribute("id")===O&&Q(),$.emit()})}),group:O=>(i.current.has(O)||i.current.set(O,new Set),()=>{a.current.delete(O),i.current.delete(O)}),filter:()=>d.current.shouldFilter,label:p||t["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:T,inputId:N,labelId:E,listInnerRef:P}),[]);function V(O,G){var q,Y;let ae=(Y=(q=d.current)==null?void 0:q.filter)!=null?Y:G3;return O?ae(O,n.current.search,G):0}function H(){if(!n.current.search||d.current.shouldFilter===!1)return;let O=n.current.filtered.items,G=[];n.current.filtered.groups.forEach(Y=>{let ae=i.current.get(Y),te=0;ae.forEach(ue=>{let _e=O.get(ue);te=Math.max(_e,te)}),G.push([Y,te])});let q=P.current;be().sort((Y,ae)=>{var te,ue;let _e=Y.getAttribute("id"),Ke=ae.getAttribute("id");return((te=O.get(Ke))!=null?te:0)-((ue=O.get(_e))!=null?ue:0)}).forEach(Y=>{let ae=Y.closest(rh);ae?ae.appendChild(Y.parentElement===ae?Y:Y.closest(`${rh} > *`)):q.appendChild(Y.parentElement===q?Y:Y.closest(`${rh} > *`))}),G.sort((Y,ae)=>ae[1]-Y[1]).forEach(Y=>{var ae;let te=(ae=P.current)==null?void 0:ae.querySelector(`${ua}[${Ko}="${encodeURIComponent(Y[0])}"]`);te?.parentElement.appendChild(te)})}function Q(){let O=be().find(q=>q.getAttribute("aria-disabled")!=="true"),G=O?.getAttribute(Ko);$.setState("value",G||void 0)}function Z(){var O,G,q,Y;if(!n.current.search||d.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let ae=0;for(let te of s.current){let ue=(G=(O=a.current.get(te))==null?void 0:O.value)!=null?G:"",_e=(Y=(q=a.current.get(te))==null?void 0:q.keywords)!=null?Y:[],Ke=V(ue,_e);n.current.filtered.items.set(te,Ke),Ke>0&&ae++}for(let[te,ue]of i.current)for(let _e of ue)if(n.current.filtered.items.get(_e)>0){n.current.filtered.groups.add(te);break}n.current.filtered.count=ae}function ie(){var O,G,q;let Y=he();Y&&(((O=Y.parentElement)==null?void 0:O.firstChild)===Y&&((q=(G=Y.closest(ua))==null?void 0:G.querySelector(K3))==null||q.scrollIntoView({block:"nearest"})),Y.scrollIntoView({block:"nearest"}))}function he(){var O;return(O=P.current)==null?void 0:O.querySelector(`${n_}[aria-selected="true"]`)}function be(){var O;return Array.from(((O=P.current)==null?void 0:O.querySelectorAll(Hx))||[])}function z(O){let G=be()[O];G&&$.setState("value",G.getAttribute(Ko))}function J(O){var G;let q=he(),Y=be(),ae=Y.findIndex(ue=>ue===q),te=Y[ae+O];(G=d.current)!=null&&G.loop&&(te=ae+O<0?Y[Y.length-1]:ae+O===Y.length?Y[0]:Y[ae+O]),te&&$.setState("value",te.getAttribute(Ko))}function R(O){let G=he(),q=G?.closest(ua),Y;for(;q&&!Y;)q=O>0?nD(q,ua):rD(q,ua),Y=q?.querySelector(Hx);Y?$.setState("value",Y.getAttribute(Ko)):J(O)}let W=()=>z(be().length-1),X=O=>{O.preventDefault(),O.metaKey?W():O.altKey?R(1):J(1)},L=O=>{O.preventDefault(),O.metaKey?z(0):O.altKey?R(-1):J(-1)};return w.createElement(Qe.div,{ref:e,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:O=>{var G;(G=j.onKeyDown)==null||G.call(j,O);let q=O.nativeEvent.isComposing||O.keyCode===229;if(!(O.defaultPrevented||q))switch(O.key){case"n":case"j":{C&&O.ctrlKey&&X(O);break}case"ArrowDown":{X(O);break}case"p":case"k":{C&&O.ctrlKey&&L(O);break}case"ArrowUp":{L(O);break}case"Home":{O.preventDefault(),z(0);break}case"End":{O.preventDefault(),W();break}case"Enter":{O.preventDefault();let Y=he();if(Y){let ae=new Event(tp);Y.dispatchEvent(ae)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:M.inputId,id:M.labelId,style:iD},p),wu(t,O=>w.createElement(s_.Provider,{value:$},w.createElement(r_.Provider,{value:M},O))))}),q3=w.forwardRef((t,e)=>{var n,s;let i=Nn(),a=w.useRef(null),l=w.useContext(o_),d=qa(),p=a_(t),h=(s=(n=p.current)==null?void 0:n.forceMount)!=null?s:l?.forceMount;oo(()=>{if(!h)return d.item(i,l?.id)},[h]);let m=l_(i,a,[t.value,t.children,a],t.keywords),g=pm(),y=ys(I=>I.value&&I.value===m.current),b=ys(I=>h||d.filter()===!1?!0:I.search?I.filtered.items.get(i)>0:!0);w.useEffect(()=>{let I=a.current;if(!(!I||t.disabled))return I.addEventListener(tp,S),()=>I.removeEventListener(tp,S)},[b,t.onSelect,t.disabled]);function S(){var I,$;_(),($=(I=p.current).onSelect)==null||$.call(I,m.current)}function _(){g.setState("value",m.current,!0)}if(!b)return null;let{disabled:C,value:j,onSelect:T,forceMount:E,keywords:N,...P}=t;return w.createElement(Qe.div,{ref:Lr(a,e),...P,id:i,"cmdk-item":"",role:"option","aria-disabled":!!C,"aria-selected":!!y,"data-disabled":!!C,"data-selected":!!y,onPointerMove:C||d.getDisablePointerSelection()?void 0:_,onClick:C?void 0:S},t.children)}),Y3=w.forwardRef((t,e)=>{let{heading:n,children:s,forceMount:i,...a}=t,l=Nn(),d=w.useRef(null),p=w.useRef(null),h=Nn(),m=qa(),g=ys(b=>i||m.filter()===!1?!0:b.search?b.filtered.groups.has(l):!0);oo(()=>m.group(l),[]),l_(l,d,[t.value,t.heading,p]);let y=w.useMemo(()=>({id:l,forceMount:i}),[i]);return w.createElement(Qe.div,{ref:Lr(d,e),...a,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},n&&w.createElement("div",{ref:p,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),wu(t,b=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},w.createElement(o_.Provider,{value:y},b))))}),J3=w.forwardRef((t,e)=>{let{alwaysRender:n,...s}=t,i=w.useRef(null),a=ys(l=>!l.search);return!n&&!a?null:w.createElement(Qe.div,{ref:Lr(i,e),...s,"cmdk-separator":"",role:"separator"})}),X3=w.forwardRef((t,e)=>{let{onValueChange:n,...s}=t,i=t.value!=null,a=pm(),l=ys(h=>h.search),d=ys(h=>h.selectedItemId),p=qa();return w.useEffect(()=>{t.value!=null&&a.setState("search",t.value)},[t.value]),w.createElement(Qe.input,{ref:e,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":p.listId,"aria-labelledby":p.labelId,"aria-activedescendant":d,id:p.inputId,type:"text",value:i?t.value:l,onChange:h=>{i||a.setState("search",h.target.value),n?.(h.target.value)}})}),Q3=w.forwardRef((t,e)=>{let{children:n,label:s="Suggestions",...i}=t,a=w.useRef(null),l=w.useRef(null),d=ys(h=>h.selectedItemId),p=qa();return w.useEffect(()=>{if(l.current&&a.current){let h=l.current,m=a.current,g,y=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let b=h.offsetHeight;m.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return y.observe(h),()=>{cancelAnimationFrame(g),y.unobserve(h)}}},[]),w.createElement(Qe.div,{ref:Lr(a,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":s,id:p.listId},wu(t,h=>w.createElement("div",{ref:Lr(l,p.listInnerRef),"cmdk-list-sizer":""},h)))}),Z3=w.forwardRef((t,e)=>{let{open:n,onOpenChange:s,overlayClassName:i,contentClassName:a,container:l,...d}=t;return w.createElement(dm,{open:n,onOpenChange:s},w.createElement(fm,{container:l},w.createElement(yu,{"cmdk-overlay":"",className:i}),w.createElement(xu,{"aria-label":t.label,"cmdk-dialog":"",className:a},w.createElement(i_,{ref:e,...d}))))}),eD=w.forwardRef((t,e)=>ys(n=>n.filtered.count===0)?w.createElement(Qe.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),tD=w.forwardRef((t,e)=>{let{progress:n,children:s,label:i="Loading...",...a}=t;return w.createElement(Qe.div,{ref:e,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},wu(t,l=>w.createElement("div",{"aria-hidden":!0},l)))}),Si=Object.assign(i_,{List:Q3,Item:q3,Input:X3,Group:Y3,Separator:J3,Dialog:Z3,Empty:eD,Loading:tD});function nD(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function rD(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function a_(t){let e=w.useRef(t);return oo(()=>{e.current=t}),e}var oo=typeof window>"u"?w.useEffect:w.useLayoutEffect;function Go(t){let e=w.useRef();return e.current===void 0&&(e.current=t()),e}function ys(t){let e=pm(),n=()=>t(e.snapshot());return w.useSyncExternalStore(e.subscribe,n,n)}function l_(t,e,n,s=[]){let i=w.useRef(),a=qa();return oo(()=>{var l;let d=(()=>{var h;for(let m of n){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(h=m.current.textContent)==null?void 0:h.trim():i.current}})(),p=s.map(h=>h.trim());a.value(t,d,p),(l=e.current)==null||l.setAttribute(Ko,d),i.current=d}),i}var sD=()=>{let[t,e]=w.useState(),n=Go(()=>new Map);return oo(()=>{n.current.forEach(s=>s()),n.current=new Map},[t]),(s,i)=>{n.current.set(s,i),e({})}};function oD(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function wu({asChild:t,children:e},n){return t&&w.isValidElement(e)?w.cloneElement(oD(e),{ref:e.ref},n(e.props.children)):n(e)}var iD={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function aD({...t}){return u.jsx(dm,{"data-slot":"dialog",...t})}function lD({...t}){return u.jsx(fm,{"data-slot":"dialog-portal",...t})}const c_=w.forwardRef(({className:t,...e},n)=>u.jsx(yu,{ref:n,"data-slot":"dialog-overlay",className:rt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));c_.displayName=yu.displayName;const u_=w.forwardRef(({className:t,children:e,...n},s)=>u.jsxs(lD,{"data-slot":"dialog-portal",children:[u.jsx(c_,{}),u.jsxs(xu,{ref:s,"data-slot":"dialog-content",className:rt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,u.jsxs(hm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(no,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));u_.displayName=xu.displayName;function cD({className:t,...e}){return u.jsx("div",{"data-slot":"dialog-header",className:rt("flex flex-col gap-2 text-center sm:text-left",t),...e})}function uD({className:t,...e}){return u.jsx(e_,{"data-slot":"dialog-title",className:rt("text-lg leading-none font-semibold",t),...e})}function dD({className:t,...e}){return u.jsx(t_,{"data-slot":"dialog-description",className:rt("text-muted-foreground text-sm",t),...e})}function fD({className:t,...e}){return u.jsx(Si,{"data-slot":"command",className:rt("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...e})}function hD({className:t,...e}){return u.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[u.jsx(au,{className:"size-4 shrink-0 opacity-50"}),u.jsx(Si.Input,{"data-slot":"command-input",className:rt("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),...e})]})}function pD({className:t,...e}){return u.jsx(Si.List,{"data-slot":"command-list",className:rt("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),...e})}function mD({...t}){return u.jsx(Si.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t})}function gD({className:t,...e}){return u.jsx(Si.Group,{"data-slot":"command-group",className:rt("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),...e})}function vD({className:t,...e}){return u.jsx(Si.Item,{"data-slot":"command-item",className:rt("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}const yD=["top","right","bottom","left"],xs=Math.min,Cn=Math.max,Jc=Math.round,Tc=Math.floor,wr=t=>({x:t,y:t}),xD={left:"right",right:"left",bottom:"top",top:"bottom"},wD={start:"end",end:"start"};function np(t,e,n){return Cn(t,xs(e,n))}function Fr(t,e){return typeof t=="function"?t(e):t}function Vr(t){return t.split("-")[0]}function _i(t){return t.split("-")[1]}function mm(t){return t==="x"?"y":"x"}function gm(t){return t==="y"?"height":"width"}const bD=new Set(["top","bottom"]);function mr(t){return bD.has(Vr(t))?"y":"x"}function vm(t){return mm(mr(t))}function SD(t,e,n){n===void 0&&(n=!1);const s=_i(t),i=vm(t),a=gm(i);let l=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Xc(l)),[l,Xc(l)]}function _D(t){const e=Xc(t);return[rp(t),e,rp(e)]}function rp(t){return t.replace(/start|end/g,e=>wD[e])}const Kx=["left","right"],Gx=["right","left"],kD=["top","bottom"],CD=["bottom","top"];function jD(t,e,n){switch(t){case"top":case"bottom":return n?e?Gx:Kx:e?Kx:Gx;case"left":case"right":return e?kD:CD;default:return[]}}function ED(t,e,n,s){const i=_i(t);let a=jD(Vr(t),n==="start",s);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(rp)))),a}function Xc(t){return t.replace(/left|right|bottom|top/g,e=>xD[e])}function ND(t){return{top:0,right:0,bottom:0,left:0,...t}}function d_(t){return typeof t!="number"?ND(t):{top:t,right:t,bottom:t,left:t}}function Qc(t){const{x:e,y:n,width:s,height:i}=t;return{width:s,height:i,top:n,left:e,right:e+s,bottom:n+i,x:e,y:n}}function qx(t,e,n){let{reference:s,floating:i}=t;const a=mr(e),l=vm(e),d=gm(l),p=Vr(e),h=a==="y",m=s.x+s.width/2-i.width/2,g=s.y+s.height/2-i.height/2,y=s[d]/2-i[d]/2;let b;switch(p){case"top":b={x:m,y:s.y-i.height};break;case"bottom":b={x:m,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:g};break;case"left":b={x:s.x-i.width,y:g};break;default:b={x:s.x,y:s.y}}switch(_i(e)){case"start":b[l]-=y*(n&&h?-1:1);break;case"end":b[l]+=y*(n&&h?-1:1);break}return b}const TD=async(t,e,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:l}=n,d=a.filter(Boolean),p=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:m,y:g}=qx(h,s,p),y=s,b={},S=0;for(let _=0;_<d.length;_++){const{name:C,fn:j}=d[_],{x:T,y:E,data:N,reset:P}=await j({x:m,y:g,initialPlacement:s,placement:y,strategy:i,middlewareData:b,rects:h,platform:l,elements:{reference:t,floating:e}});m=T??m,g=E??g,b={...b,[C]:{...b[C],...N}},P&&S<=50&&(S++,typeof P=="object"&&(P.placement&&(y=P.placement),P.rects&&(h=P.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:m,y:g}=qx(h,y,p)),_=-1)}return{x:m,y:g,placement:y,strategy:i,middlewareData:b}};async function La(t,e){var n;e===void 0&&(e={});const{x:s,y:i,platform:a,rects:l,elements:d,strategy:p}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:y=!1,padding:b=0}=Fr(e,t),S=d_(b),C=d[y?g==="floating"?"reference":"floating":g],j=Qc(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(C)))==null||n?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:h,rootBoundary:m,strategy:p})),T=g==="floating"?{x:s,y:i,width:l.floating.width,height:l.floating.height}:l.reference,E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),N=await(a.isElement==null?void 0:a.isElement(E))?await(a.getScale==null?void 0:a.getScale(E))||{x:1,y:1}:{x:1,y:1},P=Qc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:T,offsetParent:E,strategy:p}):T);return{top:(j.top-P.top+S.top)/N.y,bottom:(P.bottom-j.bottom+S.bottom)/N.y,left:(j.left-P.left+S.left)/N.x,right:(P.right-j.right+S.right)/N.x}}const PD=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:i,rects:a,platform:l,elements:d,middlewareData:p}=e,{element:h,padding:m=0}=Fr(t,e)||{};if(h==null)return{};const g=d_(m),y={x:n,y:s},b=vm(i),S=gm(b),_=await l.getDimensions(h),C=b==="y",j=C?"top":"left",T=C?"bottom":"right",E=C?"clientHeight":"clientWidth",N=a.reference[S]+a.reference[b]-y[b]-a.floating[S],P=y[b]-a.reference[b],I=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let $=I?I[E]:0;(!$||!await(l.isElement==null?void 0:l.isElement(I)))&&($=d.floating[E]||a.floating[S]);const M=N/2-P/2,V=$/2-_[S]/2-1,H=xs(g[j],V),Q=xs(g[T],V),Z=H,ie=$-_[S]-Q,he=$/2-_[S]/2+M,be=np(Z,he,ie),z=!p.arrow&&_i(i)!=null&&he!==be&&a.reference[S]/2-(he<Z?H:Q)-_[S]/2<0,J=z?he<Z?he-Z:he-ie:0;return{[b]:y[b]+J,data:{[b]:be,centerOffset:he-be-J,...z&&{alignmentOffset:J}},reset:z}}}),AD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:i,middlewareData:a,rects:l,initialPlacement:d,platform:p,elements:h}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:_=!0,...C}=Fr(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const j=Vr(i),T=mr(d),E=Vr(d)===d,N=await(p.isRTL==null?void 0:p.isRTL(h.floating)),P=y||(E||!_?[Xc(d)]:_D(d)),I=S!=="none";!y&&I&&P.push(...ED(d,_,S,N));const $=[d,...P],M=await La(e,C),V=[];let H=((s=a.flip)==null?void 0:s.overflows)||[];if(m&&V.push(M[j]),g){const he=SD(i,l,N);V.push(M[he[0]],M[he[1]])}if(H=[...H,{placement:i,overflows:V}],!V.every(he=>he<=0)){var Q,Z;const he=(((Q=a.flip)==null?void 0:Q.index)||0)+1,be=$[he];if(be&&(!(g==="alignment"?T!==mr(be):!1)||H.every(R=>mr(R.placement)===T?R.overflows[0]>0:!0)))return{data:{index:he,overflows:H},reset:{placement:be}};let z=(Z=H.filter(J=>J.overflows[0]<=0).sort((J,R)=>J.overflows[1]-R.overflows[1])[0])==null?void 0:Z.placement;if(!z)switch(b){case"bestFit":{var ie;const J=(ie=H.filter(R=>{if(I){const W=mr(R.placement);return W===T||W==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(W=>W>0).reduce((W,X)=>W+X,0)]).sort((R,W)=>R[1]-W[1])[0])==null?void 0:ie[0];J&&(z=J);break}case"initialPlacement":z=d;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function Yx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Jx(t){return yD.some(e=>t[e]>=0)}const RD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...i}=Fr(t,e);switch(s){case"referenceHidden":{const a=await La(e,{...i,elementContext:"reference"}),l=Yx(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Jx(l)}}}case"escaped":{const a=await La(e,{...i,altBoundary:!0}),l=Yx(a,n.floating);return{data:{escapedOffsets:l,escaped:Jx(l)}}}default:return{}}}}},f_=new Set(["left","top"]);async function OD(t,e){const{placement:n,platform:s,elements:i}=t,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),l=Vr(n),d=_i(n),p=mr(n)==="y",h=f_.has(l)?-1:1,m=a&&p?-1:1,g=Fr(e,t);let{mainAxis:y,crossAxis:b,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof S=="number"&&(b=d==="end"?S*-1:S),p?{x:b*m,y:y*h}:{x:y*h,y:b*m}}const ID=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:i,y:a,placement:l,middlewareData:d}=e,p=await OD(e,t);return l===((n=d.offset)==null?void 0:n.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:i+p.x,y:a+p.y,data:{...p,placement:l}}}}},MD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:d={fn:C=>{let{x:j,y:T}=C;return{x:j,y:T}}},...p}=Fr(t,e),h={x:n,y:s},m=await La(e,p),g=mr(Vr(i)),y=mm(g);let b=h[y],S=h[g];if(a){const C=y==="y"?"top":"left",j=y==="y"?"bottom":"right",T=b+m[C],E=b-m[j];b=np(T,b,E)}if(l){const C=g==="y"?"top":"left",j=g==="y"?"bottom":"right",T=S+m[C],E=S-m[j];S=np(T,S,E)}const _=d.fn({...e,[y]:b,[g]:S});return{..._,data:{x:_.x-n,y:_.y-s,enabled:{[y]:a,[g]:l}}}}}},DD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:i,rects:a,middlewareData:l}=e,{offset:d=0,mainAxis:p=!0,crossAxis:h=!0}=Fr(t,e),m={x:n,y:s},g=mr(i),y=mm(g);let b=m[y],S=m[g];const _=Fr(d,e),C=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(p){const E=y==="y"?"height":"width",N=a.reference[y]-a.floating[E]+C.mainAxis,P=a.reference[y]+a.reference[E]-C.mainAxis;b<N?b=N:b>P&&(b=P)}if(h){var j,T;const E=y==="y"?"width":"height",N=f_.has(Vr(i)),P=a.reference[g]-a.floating[E]+(N&&((j=l.offset)==null?void 0:j[g])||0)+(N?0:C.crossAxis),I=a.reference[g]+a.reference[E]+(N?0:((T=l.offset)==null?void 0:T[g])||0)-(N?C.crossAxis:0);S<P?S=P:S>I&&(S=I)}return{[y]:b,[g]:S}}}},LD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:i,rects:a,platform:l,elements:d}=e,{apply:p=()=>{},...h}=Fr(t,e),m=await La(e,h),g=Vr(i),y=_i(i),b=mr(i)==="y",{width:S,height:_}=a.floating;let C,j;g==="top"||g==="bottom"?(C=g,j=y===(await(l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(j=g,C=y==="end"?"top":"bottom");const T=_-m.top-m.bottom,E=S-m.left-m.right,N=xs(_-m[C],T),P=xs(S-m[j],E),I=!e.middlewareData.shift;let $=N,M=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(M=E),(s=e.middlewareData.shift)!=null&&s.enabled.y&&($=T),I&&!y){const H=Cn(m.left,0),Q=Cn(m.right,0),Z=Cn(m.top,0),ie=Cn(m.bottom,0);b?M=S-2*(H!==0||Q!==0?H+Q:Cn(m.left,m.right)):$=_-2*(Z!==0||ie!==0?Z+ie:Cn(m.top,m.bottom))}await p({...e,availableWidth:M,availableHeight:$});const V=await l.getDimensions(d.floating);return S!==V.width||_!==V.height?{reset:{rects:!0}}:{}}}};function bu(){return typeof window<"u"}function ki(t){return h_(t)?(t.nodeName||"").toLowerCase():"#document"}function Tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function kr(t){var e;return(e=(h_(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function h_(t){return bu()?t instanceof Node||t instanceof Tn(t).Node:!1}function sr(t){return bu()?t instanceof Element||t instanceof Tn(t).Element:!1}function Sr(t){return bu()?t instanceof HTMLElement||t instanceof Tn(t).HTMLElement:!1}function Xx(t){return!bu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tn(t).ShadowRoot}const $D=new Set(["inline","contents"]);function Ya(t){const{overflow:e,overflowX:n,overflowY:s,display:i}=or(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!$D.has(i)}const FD=new Set(["table","td","th"]);function VD(t){return FD.has(ki(t))}const BD=[":popover-open",":modal"];function Su(t){return BD.some(e=>{try{return t.matches(e)}catch{return!1}})}const UD=["transform","translate","scale","rotate","perspective"],zD=["transform","translate","scale","rotate","perspective","filter"],WD=["paint","layout","strict","content"];function ym(t){const e=xm(),n=sr(t)?or(t):t;return UD.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||zD.some(s=>(n.willChange||"").includes(s))||WD.some(s=>(n.contain||"").includes(s))}function HD(t){let e=ws(t);for(;Sr(e)&&!fi(e);){if(ym(e))return e;if(Su(e))return null;e=ws(e)}return null}function xm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const KD=new Set(["html","body","#document"]);function fi(t){return KD.has(ki(t))}function or(t){return Tn(t).getComputedStyle(t)}function _u(t){return sr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ws(t){if(ki(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Xx(t)&&t.host||kr(t);return Xx(e)?e.host:e}function p_(t){const e=ws(t);return fi(e)?t.ownerDocument?t.ownerDocument.body:t.body:Sr(e)&&Ya(e)?e:p_(e)}function $a(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=p_(t),a=i===((s=t.ownerDocument)==null?void 0:s.body),l=Tn(i);if(a){const d=sp(l);return e.concat(l,l.visualViewport||[],Ya(i)?i:[],d&&n?$a(d):[])}return e.concat(i,$a(i,[],n))}function sp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function m_(t){const e=or(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=Sr(t),a=i?t.offsetWidth:n,l=i?t.offsetHeight:s,d=Jc(n)!==a||Jc(s)!==l;return d&&(n=a,s=l),{width:n,height:s,$:d}}function wm(t){return sr(t)?t:t.contextElement}function ri(t){const e=wm(t);if(!Sr(e))return wr(1);const n=e.getBoundingClientRect(),{width:s,height:i,$:a}=m_(e);let l=(a?Jc(n.width):n.width)/s,d=(a?Jc(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const GD=wr(0);function g_(t){const e=Tn(t);return!xm()||!e.visualViewport?GD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tn(t)?!1:e}function io(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=wm(t);let l=wr(1);e&&(s?sr(s)&&(l=ri(s)):l=ri(t));const d=qD(a,n,s)?g_(a):wr(0);let p=(i.left+d.x)/l.x,h=(i.top+d.y)/l.y,m=i.width/l.x,g=i.height/l.y;if(a){const y=Tn(a),b=s&&sr(s)?Tn(s):s;let S=y,_=sp(S);for(;_&&s&&b!==S;){const C=ri(_),j=_.getBoundingClientRect(),T=or(_),E=j.left+(_.clientLeft+parseFloat(T.paddingLeft))*C.x,N=j.top+(_.clientTop+parseFloat(T.paddingTop))*C.y;p*=C.x,h*=C.y,m*=C.x,g*=C.y,p+=E,h+=N,S=Tn(_),_=sp(S)}}return Qc({width:m,height:g,x:p,y:h})}function ku(t,e){const n=_u(t).scrollLeft;return e?e.left+n:io(kr(t)).left+n}function v_(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-ku(t,n),i=n.top+e.scrollTop;return{x:s,y:i}}function YD(t){let{elements:e,rect:n,offsetParent:s,strategy:i}=t;const a=i==="fixed",l=kr(s),d=e?Su(e.floating):!1;if(s===l||d&&a)return n;let p={scrollLeft:0,scrollTop:0},h=wr(1);const m=wr(0),g=Sr(s);if((g||!g&&!a)&&((ki(s)!=="body"||Ya(l))&&(p=_u(s)),Sr(s))){const b=io(s);h=ri(s),m.x=b.x+s.clientLeft,m.y=b.y+s.clientTop}const y=l&&!g&&!a?v_(l,p):wr(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-p.scrollLeft*h.x+m.x+y.x,y:n.y*h.y-p.scrollTop*h.y+m.y+y.y}}function JD(t){return Array.from(t.getClientRects())}function XD(t){const e=kr(t),n=_u(t),s=t.ownerDocument.body,i=Cn(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),a=Cn(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let l=-n.scrollLeft+ku(t);const d=-n.scrollTop;return or(s).direction==="rtl"&&(l+=Cn(e.clientWidth,s.clientWidth)-i),{width:i,height:a,x:l,y:d}}const Qx=25;function QD(t,e){const n=Tn(t),s=kr(t),i=n.visualViewport;let a=s.clientWidth,l=s.clientHeight,d=0,p=0;if(i){a=i.width,l=i.height;const m=xm();(!m||m&&e==="fixed")&&(d=i.offsetLeft,p=i.offsetTop)}const h=ku(s);if(h<=0){const m=s.ownerDocument,g=m.body,y=getComputedStyle(g),b=m.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,S=Math.abs(s.clientWidth-g.clientWidth-b);S<=Qx&&(a-=S)}else h<=Qx&&(a+=h);return{width:a,height:l,x:d,y:p}}const ZD=new Set(["absolute","fixed"]);function e4(t,e){const n=io(t,!0,e==="fixed"),s=n.top+t.clientTop,i=n.left+t.clientLeft,a=Sr(t)?ri(t):wr(1),l=t.clientWidth*a.x,d=t.clientHeight*a.y,p=i*a.x,h=s*a.y;return{width:l,height:d,x:p,y:h}}function Zx(t,e,n){let s;if(e==="viewport")s=QD(t,n);else if(e==="document")s=XD(kr(t));else if(sr(e))s=e4(e,n);else{const i=g_(t);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Qc(s)}function y_(t,e){const n=ws(t);return n===e||!sr(n)||fi(n)?!1:or(n).position==="fixed"||y_(n,e)}function t4(t,e){const n=e.get(t);if(n)return n;let s=$a(t,[],!1).filter(d=>sr(d)&&ki(d)!=="body"),i=null;const a=or(t).position==="fixed";let l=a?ws(t):t;for(;sr(l)&&!fi(l);){const d=or(l),p=ym(l);!p&&d.position==="fixed"&&(i=null),(a?!p&&!i:!p&&d.position==="static"&&!!i&&ZD.has(i.position)||Ya(l)&&!p&&y_(t,l))?s=s.filter(m=>m!==l):i=d,l=ws(l)}return e.set(t,s),s}function n4(t){let{element:e,boundary:n,rootBoundary:s,strategy:i}=t;const l=[...n==="clippingAncestors"?Su(e)?[]:t4(e,this._c):[].concat(n),s],d=l[0],p=l.reduce((h,m)=>{const g=Zx(e,m,i);return h.top=Cn(g.top,h.top),h.right=xs(g.right,h.right),h.bottom=xs(g.bottom,h.bottom),h.left=Cn(g.left,h.left),h},Zx(e,d,i));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function r4(t){const{width:e,height:n}=m_(t);return{width:e,height:n}}function s4(t,e,n){const s=Sr(e),i=kr(e),a=n==="fixed",l=io(t,!0,a,e);let d={scrollLeft:0,scrollTop:0};const p=wr(0);function h(){p.x=ku(i)}if(s||!s&&!a)if((ki(e)!=="body"||Ya(i))&&(d=_u(e)),s){const b=io(e,!0,a,e);p.x=b.x+e.clientLeft,p.y=b.y+e.clientTop}else i&&h();a&&!s&&i&&h();const m=i&&!s&&!a?v_(i,d):wr(0),g=l.left+d.scrollLeft-p.x-m.x,y=l.top+d.scrollTop-p.y-m.y;return{x:g,y,width:l.width,height:l.height}}function sh(t){return or(t).position==="static"}function ew(t,e){if(!Sr(t)||or(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return kr(t)===n&&(n=n.ownerDocument.body),n}function x_(t,e){const n=Tn(t);if(Su(t))return n;if(!Sr(t)){let i=ws(t);for(;i&&!fi(i);){if(sr(i)&&!sh(i))return i;i=ws(i)}return n}let s=ew(t,e);for(;s&&VD(s)&&sh(s);)s=ew(s,e);return s&&fi(s)&&sh(s)&&!ym(s)?n:s||HD(t)||n}const o4=async function(t){const e=this.getOffsetParent||x_,n=this.getDimensions,s=await n(t.floating);return{reference:s4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function i4(t){return or(t).direction==="rtl"}const a4={convertOffsetParentRelativeRectToViewportRelativeRect:YD,getDocumentElement:kr,getClippingRect:n4,getOffsetParent:x_,getElementRects:o4,getClientRects:JD,getDimensions:r4,getScale:ri,isElement:sr,isRTL:i4};function w_(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function l4(t,e){let n=null,s;const i=kr(t);function a(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function l(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),a();const h=t.getBoundingClientRect(),{left:m,top:g,width:y,height:b}=h;if(d||e(),!y||!b)return;const S=Tc(g),_=Tc(i.clientWidth-(m+y)),C=Tc(i.clientHeight-(g+b)),j=Tc(m),E={rootMargin:-S+"px "+-_+"px "+-C+"px "+-j+"px",threshold:Cn(0,xs(1,p))||1};let N=!0;function P(I){const $=I[0].intersectionRatio;if($!==p){if(!N)return l();$?l(!1,$):s=setTimeout(()=>{l(!1,1e-7)},1e3)}$===1&&!w_(h,t.getBoundingClientRect())&&l(),N=!1}try{n=new IntersectionObserver(P,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,E)}n.observe(t)}return l(!0),a}function c4(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=s,h=wm(t),m=i||a?[...h?$a(h):[],...$a(e)]:[];m.forEach(j=>{i&&j.addEventListener("scroll",n,{passive:!0}),a&&j.addEventListener("resize",n)});const g=h&&d?l4(h,n):null;let y=-1,b=null;l&&(b=new ResizeObserver(j=>{let[T]=j;T&&T.target===h&&b&&(b.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var E;(E=b)==null||E.observe(e)})),n()}),h&&!p&&b.observe(h),b.observe(e));let S,_=p?io(t):null;p&&C();function C(){const j=io(t);_&&!w_(_,j)&&n(),_=j,S=requestAnimationFrame(C)}return n(),()=>{var j;m.forEach(T=>{i&&T.removeEventListener("scroll",n),a&&T.removeEventListener("resize",n)}),g?.(),(j=b)==null||j.disconnect(),b=null,p&&cancelAnimationFrame(S)}}const u4=ID,d4=MD,f4=AD,h4=LD,p4=RD,tw=PD,m4=DD,g4=(t,e,n)=>{const s=new Map,i={platform:a4,...n},a={...i.platform,_c:s};return TD(t,e,{...i,platform:a})};var v4=typeof document<"u",y4=function(){},Dc=v4?w.useLayoutEffect:y4;function Zc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Zc(t[s],e[s]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&t.$$typeof)&&!Zc(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function b_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function nw(t,e){const n=b_(t);return Math.round(e*n)/n}function oh(t){const e=w.useRef(t);return Dc(()=>{e.current=t}),e}function x4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:l}={},transform:d=!0,whileElementsMounted:p,open:h}=t,[m,g]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,b]=w.useState(s);Zc(y,s)||b(s);const[S,_]=w.useState(null),[C,j]=w.useState(null),T=w.useCallback(R=>{R!==I.current&&(I.current=R,_(R))},[]),E=w.useCallback(R=>{R!==$.current&&($.current=R,j(R))},[]),N=a||S,P=l||C,I=w.useRef(null),$=w.useRef(null),M=w.useRef(m),V=p!=null,H=oh(p),Q=oh(i),Z=oh(h),ie=w.useCallback(()=>{if(!I.current||!$.current)return;const R={placement:e,strategy:n,middleware:y};Q.current&&(R.platform=Q.current),g4(I.current,$.current,R).then(W=>{const X={...W,isPositioned:Z.current!==!1};he.current&&!Zc(M.current,X)&&(M.current=X,up.flushSync(()=>{g(X)}))})},[y,e,n,Q,Z]);Dc(()=>{h===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,g(R=>({...R,isPositioned:!1})))},[h]);const he=w.useRef(!1);Dc(()=>(he.current=!0,()=>{he.current=!1}),[]),Dc(()=>{if(N&&(I.current=N),P&&($.current=P),N&&P){if(H.current)return H.current(N,P,ie);ie()}},[N,P,ie,H,V]);const be=w.useMemo(()=>({reference:I,floating:$,setReference:T,setFloating:E}),[T,E]),z=w.useMemo(()=>({reference:N,floating:P}),[N,P]),J=w.useMemo(()=>{const R={position:n,left:0,top:0};if(!z.floating)return R;const W=nw(z.floating,m.x),X=nw(z.floating,m.y);return d?{...R,transform:"translate("+W+"px, "+X+"px)",...b_(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:X}},[n,d,z.floating,m.x,m.y]);return w.useMemo(()=>({...m,update:ie,refs:be,elements:z,floatingStyles:J}),[m,ie,be,z,J])}const w4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:i}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?tw({element:s.current,padding:i}).fn(n):{}:s?tw({element:s,padding:i}).fn(n):{}}}},b4=(t,e)=>({...u4(t),options:[t,e]}),S4=(t,e)=>({...d4(t),options:[t,e]}),_4=(t,e)=>({...m4(t),options:[t,e]}),k4=(t,e)=>({...f4(t),options:[t,e]}),C4=(t,e)=>({...h4(t),options:[t,e]}),j4=(t,e)=>({...p4(t),options:[t,e]}),E4=(t,e)=>({...w4(t),options:[t,e]});var N4="Arrow",S_=w.forwardRef((t,e)=>{const{children:n,width:s=10,height:i=5,...a}=t;return u.jsx(Qe.svg,{...a,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});S_.displayName=N4;var T4=S_;function __(t){const[e,n]=w.useState(void 0);return vs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,d;if("borderBoxSize"in a){const p=a.borderBoxSize,h=Array.isArray(p)?p[0]:p;l=h.inlineSize,d=h.blockSize}else l=t.offsetWidth,d=t.offsetHeight;n({width:l,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var bm="Popper",[k_,Cu]=Br(bm),[P4,C_]=k_(bm),j_=t=>{const{__scopePopper:e,children:n}=t,[s,i]=w.useState(null);return u.jsx(P4,{scope:e,anchor:s,onAnchorChange:i,children:n})};j_.displayName=bm;var E_="PopperAnchor",N_=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...i}=t,a=C_(E_,n),l=w.useRef(null),d=bt(e,l),p=w.useRef(null);return w.useEffect(()=>{const h=p.current;p.current=s?.current||l.current,h!==p.current&&a.onAnchorChange(p.current)}),s?null:u.jsx(Qe.div,{...i,ref:d})});N_.displayName=E_;var Sm="PopperContent",[A4,R4]=k_(Sm),T_=w.forwardRef((t,e)=>{const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:p=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:S,..._}=t,C=C_(Sm,n),[j,T]=w.useState(null),E=bt(e,te=>T(te)),[N,P]=w.useState(null),I=__(N),$=I?.width??0,M=I?.height??0,V=s+(a!=="center"?"-"+a:""),H=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Q=Array.isArray(h)?h:[h],Z=Q.length>0,ie={padding:H,boundary:Q.filter(I4),altBoundary:Z},{refs:he,floatingStyles:be,placement:z,isPositioned:J,middlewareData:R}=x4({strategy:"fixed",placement:V,whileElementsMounted:(...te)=>c4(...te,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[b4({mainAxis:i+M,alignmentAxis:l}),p&&S4({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?_4():void 0,...ie}),p&&k4({...ie}),C4({...ie,apply:({elements:te,rects:ue,availableWidth:_e,availableHeight:Ke})=>{const{width:ft,height:ge}=ue.reference,ze=te.floating.style;ze.setProperty("--radix-popper-available-width",`${_e}px`),ze.setProperty("--radix-popper-available-height",`${Ke}px`),ze.setProperty("--radix-popper-anchor-width",`${ft}px`),ze.setProperty("--radix-popper-anchor-height",`${ge}px`)}}),N&&E4({element:N,padding:d}),M4({arrowWidth:$,arrowHeight:M}),y&&j4({strategy:"referenceHidden",...ie})]}),[W,X]=R_(z),L=$r(S);vs(()=>{J&&L?.()},[J,L]);const O=R.arrow?.x,G=R.arrow?.y,q=R.arrow?.centerOffset!==0,[Y,ae]=w.useState();return vs(()=>{j&&ae(window.getComputedStyle(j).zIndex)},[j]),u.jsx("div",{ref:he.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:J?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(A4,{scope:n,placedSide:W,onArrowChange:P,arrowX:O,arrowY:G,shouldHideArrow:q,children:u.jsx(Qe.div,{"data-side":W,"data-align":X,..._,ref:E,style:{..._.style,animation:J?void 0:"none"}})})})});T_.displayName=Sm;var P_="PopperArrow",O4={top:"bottom",right:"left",bottom:"top",left:"right"},A_=w.forwardRef(function(e,n){const{__scopePopper:s,...i}=e,a=R4(P_,s),l=O4[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(T4,{...i,ref:n,style:{...i.style,display:"block"}})})});A_.displayName=P_;function I4(t){return t!==null}var M4=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:s,middlewareData:i}=e,l=i.arrow?.centerOffset!==0,d=l?0:t.arrowWidth,p=l?0:t.arrowHeight,[h,m]=R_(n),g={start:"0%",center:"50%",end:"100%"}[m],y=(i.arrow?.x??0)+d/2,b=(i.arrow?.y??0)+p/2;let S="",_="";return h==="bottom"?(S=l?g:`${y}px`,_=`${-p}px`):h==="top"?(S=l?g:`${y}px`,_=`${s.floating.height+p}px`):h==="right"?(S=`${-p}px`,_=l?g:`${b}px`):h==="left"&&(S=`${s.floating.width+p}px`,_=l?g:`${b}px`),{data:{x:S,y:_}}}});function R_(t){const[e,n="center"]=t.split("-");return[e,n]}var O_=j_,_m=N_,I_=T_,M_=A_,ju="Popover",[D_]=Br(ju,[Cu]),Ja=Cu(),[D4,ks]=D_(ju),L_=t=>{const{__scopePopover:e,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:l=!1}=t,d=Ja(e),p=w.useRef(null),[h,m]=w.useState(!1),[g,y]=Ga({prop:s,defaultProp:i??!1,onChange:a,caller:ju});return u.jsx(O_,{...d,children:u.jsx(D4,{scope:e,contentId:Nn(),triggerRef:p,open:g,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(b=>!b),[y]),hasCustomAnchor:h,onCustomAnchorAdd:w.useCallback(()=>m(!0),[]),onCustomAnchorRemove:w.useCallback(()=>m(!1),[]),modal:l,children:n})})};L_.displayName=ju;var $_="PopoverAnchor",L4=w.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=ks($_,n),a=Ja(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:d}=i;return w.useEffect(()=>(l(),()=>d()),[l,d]),u.jsx(_m,{...a,...s,ref:e})});L4.displayName=$_;var F_="PopoverTrigger",V_=w.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=ks(F_,n),a=Ja(n),l=bt(e,i.triggerRef),d=u.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":H_(i.open),...s,ref:l,onClick:De(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?d:u.jsx(_m,{asChild:!0,...a,children:d})});V_.displayName=F_;var km="PopoverPortal",[$4,F4]=D_(km,{forceMount:void 0}),B_=t=>{const{__scopePopover:e,forceMount:n,children:s,container:i}=t,a=ks(km,e);return u.jsx($4,{scope:e,forceMount:n,children:u.jsx(_r,{present:n||a.open,children:u.jsx(pu,{asChild:!0,container:i,children:s})})})};B_.displayName=km;var hi="PopoverContent",U_=w.forwardRef((t,e)=>{const n=F4(hi,t.__scopePopover),{forceMount:s=n.forceMount,...i}=t,a=ks(hi,t.__scopePopover);return u.jsx(_r,{present:s||a.open,children:a.modal?u.jsx(B4,{...i,ref:e}):u.jsx(U4,{...i,ref:e})})});U_.displayName=hi;var V4=ro("PopoverContent.RemoveScroll"),B4=w.forwardRef((t,e)=>{const n=ks(hi,t.__scopePopover),s=w.useRef(null),i=bt(e,s),a=w.useRef(!1);return w.useEffect(()=>{const l=s.current;if(l)return am(l)},[]),u.jsx(gu,{as:V4,allowPinchZoom:!0,children:u.jsx(z_,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(t.onCloseAutoFocus,l=>{l.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:De(t.onPointerDownOutside,l=>{const d=l.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0,h=d.button===2||p;a.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:De(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),U4=w.forwardRef((t,e)=>{const n=ks(hi,t.__scopePopover),s=w.useRef(!1),i=w.useRef(!1);return u.jsx(z_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||n.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;n.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),z_=w.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:m,...g}=t,y=ks(hi,n),b=Ja(n);return im(),u.jsx(hu,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(fu,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:h,onDismiss:()=>y.onOpenChange(!1),children:u.jsx(I_,{"data-state":H_(y.open),role:"dialog",id:y.contentId,...b,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),W_="PopoverClose",z4=w.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=ks(W_,n);return u.jsx(Qe.button,{type:"button",...s,ref:e,onClick:De(t.onClick,()=>i.onOpenChange(!1))})});z4.displayName=W_;var W4="PopoverArrow",H4=w.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=Ja(n);return u.jsx(M_,{...i,...s,ref:e})});H4.displayName=W4;function H_(t){return t?"open":"closed"}var K4=L_,G4=V_,q4=B_,Y4=U_;function K_({...t}){return u.jsx(K4,{"data-slot":"popover",...t})}function G_({...t}){return u.jsx(G4,{"data-slot":"popover-trigger",...t})}function q_({className:t,align:e="center",sideOffset:n=4,...s}){return u.jsx(q4,{children:u.jsx(Y4,{"data-slot":"popover-content",align:e,sideOffset:n,className:rt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...s})})}const Xs=[{code:"US",name:"United States",dialCode:"+1",flag:"",placeholder:"(555) 123-4567"},{code:"GB",name:"United Kingdom",dialCode:"+44",flag:"",placeholder:"7400 123456"},{code:"AF",name:"Afghanistan",dialCode:"+93",flag:"",placeholder:"70 123 4567"},{code:"AL",name:"Albania",dialCode:"+355",flag:"",placeholder:"66 123 4567"},{code:"DZ",name:"Algeria",dialCode:"+213",flag:"",placeholder:"551 23 45 67"},{code:"AS",name:"American Samoa",dialCode:"+1684",flag:"",placeholder:"733 1234"},{code:"AD",name:"Andorra",dialCode:"+376",flag:"",placeholder:"312 345"},{code:"AO",name:"Angola",dialCode:"+244",flag:"",placeholder:"923 123 456"},{code:"AR",name:"Argentina",dialCode:"+54",flag:"",placeholder:"11 2345-6789"},{code:"AM",name:"Armenia",dialCode:"+374",flag:"",placeholder:"77 123456"},{code:"AU",name:"Australia",dialCode:"+61",flag:"",placeholder:"412 345 678"},{code:"AT",name:"Austria",dialCode:"+43",flag:"",placeholder:"664 1234567"},{code:"AZ",name:"Azerbaijan",dialCode:"+994",flag:"",placeholder:"40 123 45 67"},{code:"BH",name:"Bahrain",dialCode:"+973",flag:"",placeholder:"3600 1234"},{code:"BD",name:"Bangladesh",dialCode:"+880",flag:"",placeholder:"1812 345678"},{code:"BY",name:"Belarus",dialCode:"+375",flag:"",placeholder:"29 123 45 67"},{code:"BE",name:"Belgium",dialCode:"+32",flag:"",placeholder:"470 12 34 56"},{code:"BZ",name:"Belize",dialCode:"+501",flag:"",placeholder:"622 1234"},{code:"BJ",name:"Benin",dialCode:"+229",flag:"",placeholder:"90 01 12 34"},{code:"BT",name:"Bhutan",dialCode:"+975",flag:"",placeholder:"17 12 34 56"},{code:"BO",name:"Bolivia",dialCode:"+591",flag:"",placeholder:"71234567"},{code:"BA",name:"Bosnia and Herzegovina",dialCode:"+387",flag:"",placeholder:"61 123 456"},{code:"BW",name:"Botswana",dialCode:"+267",flag:"",placeholder:"71 123 456"},{code:"BR",name:"Brazil",dialCode:"+55",flag:"",placeholder:"11 91234-5678"},{code:"BN",name:"Brunei",dialCode:"+673",flag:"",placeholder:"712 3456"},{code:"BG",name:"Bulgaria",dialCode:"+359",flag:"",placeholder:"48 123 456"},{code:"BF",name:"Burkina Faso",dialCode:"+226",flag:"",placeholder:"70 12 34 56"},{code:"BI",name:"Burundi",dialCode:"+257",flag:"",placeholder:"79 56 12 34"},{code:"KH",name:"Cambodia",dialCode:"+855",flag:"",placeholder:"91 234 567"},{code:"CM",name:"Cameroon",dialCode:"+237",flag:"",placeholder:"6 71 23 45 67"},{code:"CA",name:"Canada",dialCode:"+1",flag:"",placeholder:"(555) 123-4567"},{code:"CV",name:"Cape Verde",dialCode:"+238",flag:"",placeholder:"991 12 34"},{code:"CF",name:"Central African Republic",dialCode:"+236",flag:"",placeholder:"70 01 23 45"},{code:"TD",name:"Chad",dialCode:"+235",flag:"",placeholder:"63 01 23 45"},{code:"CL",name:"Chile",dialCode:"+56",flag:"",placeholder:"9 1234 5678"},{code:"CN",name:"China",dialCode:"+86",flag:"",placeholder:"138 0013 8000"},{code:"CO",name:"Colombia",dialCode:"+57",flag:"",placeholder:"321 1234567"},{code:"KM",name:"Comoros",dialCode:"+269",flag:"",placeholder:"321 23 45"},{code:"CG",name:"Congo",dialCode:"+242",flag:"",placeholder:"06 123 4567"},{code:"CD",name:"Congo (DRC)",dialCode:"+243",flag:"",placeholder:"991 234 567"},{code:"CR",name:"Costa Rica",dialCode:"+506",flag:"",placeholder:"8312 3456"},{code:"HR",name:"Croatia",dialCode:"+385",flag:"",placeholder:"92 123 4567"},{code:"CU",name:"Cuba",dialCode:"+53",flag:"",placeholder:"5 1234567"},{code:"CY",name:"Cyprus",dialCode:"+357",flag:"",placeholder:"96 123456"},{code:"CZ",name:"Czech Republic",dialCode:"+420",flag:"",placeholder:"601 123 456"},{code:"DK",name:"Denmark",dialCode:"+45",flag:"",placeholder:"32 12 34 56"},{code:"DJ",name:"Djibouti",dialCode:"+253",flag:"",placeholder:"77 83 10 01"},{code:"DO",name:"Dominican Republic",dialCode:"+1809",flag:"",placeholder:"809 234 5678"},{code:"EC",name:"Ecuador",dialCode:"+593",flag:"",placeholder:"99 123 4567"},{code:"EG",name:"Egypt",dialCode:"+20",flag:"",placeholder:"100 123 4567"},{code:"SV",name:"El Salvador",dialCode:"+503",flag:"",placeholder:"7012 3456"},{code:"GQ",name:"Equatorial Guinea",dialCode:"+240",flag:"",placeholder:"222 123 456"},{code:"ER",name:"Eritrea",dialCode:"+291",flag:"",placeholder:"7 123 456"},{code:"EE",name:"Estonia",dialCode:"+372",flag:"",placeholder:"5123 4567"},{code:"ET",name:"Ethiopia",dialCode:"+251",flag:"",placeholder:"91 123 4567"},{code:"FJ",name:"Fiji",dialCode:"+679",flag:"",placeholder:"701 2345"},{code:"FI",name:"Finland",dialCode:"+358",flag:"",placeholder:"41 2345678"},{code:"FR",name:"France",dialCode:"+33",flag:"",placeholder:"6 12 34 56 78"},{code:"GA",name:"Gabon",dialCode:"+241",flag:"",placeholder:"06 03 12 34"},{code:"GM",name:"Gambia",dialCode:"+220",flag:"",placeholder:"301 2345"},{code:"GE",name:"Georgia",dialCode:"+995",flag:"",placeholder:"555 12 34 56"},{code:"DE",name:"Germany",dialCode:"+49",flag:"",placeholder:"1512 3456789"},{code:"GH",name:"Ghana",dialCode:"+233",flag:"",placeholder:"23 123 4567"},{code:"GR",name:"Greece",dialCode:"+30",flag:"",placeholder:"691 234 5678"},{code:"GT",name:"Guatemala",dialCode:"+502",flag:"",placeholder:"5123 4567"},{code:"GN",name:"Guinea",dialCode:"+224",flag:"",placeholder:"601 12 34 56"},{code:"GW",name:"Guinea-Bissau",dialCode:"+245",flag:"",placeholder:"955 012 345"},{code:"GY",name:"Guyana",dialCode:"+592",flag:"",placeholder:"609 1234"},{code:"HT",name:"Haiti",dialCode:"+509",flag:"",placeholder:"34 10 1234"},{code:"HN",name:"Honduras",dialCode:"+504",flag:"",placeholder:"9123 4567"},{code:"HK",name:"Hong Kong",dialCode:"+852",flag:"",placeholder:"5123 4567"},{code:"HU",name:"Hungary",dialCode:"+36",flag:"",placeholder:"20 123 4567"},{code:"IS",name:"Iceland",dialCode:"+354",flag:"",placeholder:"611 1234"},{code:"IN",name:"India",dialCode:"+91",flag:"",placeholder:"98765 43210"},{code:"ID",name:"Indonesia",dialCode:"+62",flag:"",placeholder:"812 3456 7890"},{code:"IR",name:"Iran",dialCode:"+98",flag:"",placeholder:"912 345 6789"},{code:"IQ",name:"Iraq",dialCode:"+964",flag:"",placeholder:"791 234 5678"},{code:"IE",name:"Ireland",dialCode:"+353",flag:"",placeholder:"85 012 3456"},{code:"IL",name:"Israel",dialCode:"+972",flag:"",placeholder:"50 123 4567"},{code:"IT",name:"Italy",dialCode:"+39",flag:"",placeholder:"312 345 6789"},{code:"CI",name:"Ivory Coast",dialCode:"+225",flag:"",placeholder:"01 23 45 67"},{code:"JM",name:"Jamaica",dialCode:"+1876",flag:"",placeholder:"876 210 1234"},{code:"JP",name:"Japan",dialCode:"+81",flag:"",placeholder:"90 1234 5678"},{code:"JO",name:"Jordan",dialCode:"+962",flag:"",placeholder:"7 9012 3456"},{code:"KZ",name:"Kazakhstan",dialCode:"+7",flag:"",placeholder:"771 000 9998"},{code:"KE",name:"Kenya",dialCode:"+254",flag:"",placeholder:"712 345678"},{code:"KW",name:"Kuwait",dialCode:"+965",flag:"",placeholder:"500 12345"},{code:"KG",name:"Kyrgyzstan",dialCode:"+996",flag:"",placeholder:"700 123 456"},{code:"LA",name:"Laos",dialCode:"+856",flag:"",placeholder:"20 23 123 456"},{code:"LV",name:"Latvia",dialCode:"+371",flag:"",placeholder:"21 234 567"},{code:"LB",name:"Lebanon",dialCode:"+961",flag:"",placeholder:"71 123 456"},{code:"LS",name:"Lesotho",dialCode:"+266",flag:"",placeholder:"5012 3456"},{code:"LR",name:"Liberia",dialCode:"+231",flag:"",placeholder:"77 012 3456"},{code:"LY",name:"Libya",dialCode:"+218",flag:"",placeholder:"91 2345678"},{code:"LI",name:"Liechtenstein",dialCode:"+423",flag:"",placeholder:"660 234 567"},{code:"LT",name:"Lithuania",dialCode:"+370",flag:"",placeholder:"612 34567"},{code:"LU",name:"Luxembourg",dialCode:"+352",flag:"",placeholder:"628 123 456"},{code:"MO",name:"Macau",dialCode:"+853",flag:"",placeholder:"6612 3456"},{code:"MK",name:"Macedonia",dialCode:"+389",flag:"",placeholder:"72 345 678"},{code:"MG",name:"Madagascar",dialCode:"+261",flag:"",placeholder:"32 12 345 67"},{code:"MW",name:"Malawi",dialCode:"+265",flag:"",placeholder:"991 23 45 67"},{code:"MY",name:"Malaysia",dialCode:"+60",flag:"",placeholder:"12 345 6789"},{code:"MV",name:"Maldives",dialCode:"+960",flag:"",placeholder:"771 2345"},{code:"ML",name:"Mali",dialCode:"+223",flag:"",placeholder:"65 01 23 45"},{code:"MT",name:"Malta",dialCode:"+356",flag:"",placeholder:"9696 1234"},{code:"MR",name:"Mauritania",dialCode:"+222",flag:"",placeholder:"22 12 34 56"},{code:"MU",name:"Mauritius",dialCode:"+230",flag:"",placeholder:"5251 2345"},{code:"MX",name:"Mexico",dialCode:"+52",flag:"",placeholder:"55 1234 5678"},{code:"MD",name:"Moldova",dialCode:"+373",flag:"",placeholder:"621 12 345"},{code:"MC",name:"Monaco",dialCode:"+377",flag:"",placeholder:"6 12 34 56 78"},{code:"MN",name:"Mongolia",dialCode:"+976",flag:"",placeholder:"8812 3456"},{code:"ME",name:"Montenegro",dialCode:"+382",flag:"",placeholder:"67 622 901"},{code:"MA",name:"Morocco",dialCode:"+212",flag:"",placeholder:"650 123456"},{code:"MZ",name:"Mozambique",dialCode:"+258",flag:"",placeholder:"82 123 4567"},{code:"MM",name:"Myanmar",dialCode:"+95",flag:"",placeholder:"9 212 3456"},{code:"NA",name:"Namibia",dialCode:"+264",flag:"",placeholder:"81 123 4567"},{code:"NP",name:"Nepal",dialCode:"+977",flag:"",placeholder:"984 1234567"},{code:"NL",name:"Netherlands",dialCode:"+31",flag:"",placeholder:"6 12345678"},{code:"NZ",name:"New Zealand",dialCode:"+64",flag:"",placeholder:"21 123 4567"},{code:"NI",name:"Nicaragua",dialCode:"+505",flag:"",placeholder:"8123 4567"},{code:"NE",name:"Niger",dialCode:"+227",flag:"",placeholder:"93 12 34 56"},{code:"NG",name:"Nigeria",dialCode:"+234",flag:"",placeholder:"802 123 4567"},{code:"NO",name:"Norway",dialCode:"+47",flag:"",placeholder:"412 34 567"},{code:"OM",name:"Oman",dialCode:"+968",flag:"",placeholder:"9212 3456"},{code:"PK",name:"Pakistan",dialCode:"+92",flag:"",placeholder:"301 2345678"},{code:"PS",name:"Palestine",dialCode:"+970",flag:"",placeholder:"599 123 456"},{code:"PA",name:"Panama",dialCode:"+507",flag:"",placeholder:"6123 4567"},{code:"PG",name:"Papua New Guinea",dialCode:"+675",flag:"",placeholder:"7012 3456"},{code:"PY",name:"Paraguay",dialCode:"+595",flag:"",placeholder:"961 456789"},{code:"PE",name:"Peru",dialCode:"+51",flag:"",placeholder:"912 345 678"},{code:"PH",name:"Philippines",dialCode:"+63",flag:"",placeholder:"917 123 4567"},{code:"PL",name:"Poland",dialCode:"+48",flag:"",placeholder:"512 345 678"},{code:"PT",name:"Portugal",dialCode:"+351",flag:"",placeholder:"912 345 678"},{code:"PR",name:"Puerto Rico",dialCode:"+1787",flag:"",placeholder:"787 234 5678"},{code:"QA",name:"Qatar",dialCode:"+974",flag:"",placeholder:"3312 3456"},{code:"RO",name:"Romania",dialCode:"+40",flag:"",placeholder:"712 034 567"},{code:"RU",name:"Russia",dialCode:"+7",flag:"",placeholder:"912 345-67-89"},{code:"RW",name:"Rwanda",dialCode:"+250",flag:"",placeholder:"720 123 456"},{code:"SA",name:"Saudi Arabia",dialCode:"+966",flag:"",placeholder:"50 123 4567"},{code:"SN",name:"Senegal",dialCode:"+221",flag:"",placeholder:"70 123 45 67"},{code:"RS",name:"Serbia",dialCode:"+381",flag:"",placeholder:"60 1234567"},{code:"SC",name:"Seychelles",dialCode:"+248",flag:"",placeholder:"2 510 123"},{code:"SL",name:"Sierra Leone",dialCode:"+232",flag:"",placeholder:"25 123456"},{code:"SG",name:"Singapore",dialCode:"+65",flag:"",placeholder:"8123 4567"},{code:"SK",name:"Slovakia",dialCode:"+421",flag:"",placeholder:"912 123 456"},{code:"SI",name:"Slovenia",dialCode:"+386",flag:"",placeholder:"31 234 567"},{code:"SO",name:"Somalia",dialCode:"+252",flag:"",placeholder:"7 1123456"},{code:"ZA",name:"South Africa",dialCode:"+27",flag:"",placeholder:"71 123 4567"},{code:"KR",name:"South Korea",dialCode:"+82",flag:"",placeholder:"10-1234-5678"},{code:"SS",name:"South Sudan",dialCode:"+211",flag:"",placeholder:"977 123 456"},{code:"ES",name:"Spain",dialCode:"+34",flag:"",placeholder:"612 34 56 78"},{code:"LK",name:"Sri Lanka",dialCode:"+94",flag:"",placeholder:"71 234 5678"},{code:"SD",name:"Sudan",dialCode:"+249",flag:"",placeholder:"91 123 1234"},{code:"SR",name:"Suriname",dialCode:"+597",flag:"",placeholder:"741 2345"},{code:"SZ",name:"Swaziland",dialCode:"+268",flag:"",placeholder:"7612 3456"},{code:"SE",name:"Sweden",dialCode:"+46",flag:"",placeholder:"70 123 45 67"},{code:"CH",name:"Switzerland",dialCode:"+41",flag:"",placeholder:"78 123 45 67"},{code:"SY",name:"Syria",dialCode:"+963",flag:"",placeholder:"944 567 890"},{code:"TW",name:"Taiwan",dialCode:"+886",flag:"",placeholder:"912 345 678"},{code:"TJ",name:"Tajikistan",dialCode:"+992",flag:"",placeholder:"917 12 3456"},{code:"TZ",name:"Tanzania",dialCode:"+255",flag:"",placeholder:"621 234 567"},{code:"TH",name:"Thailand",dialCode:"+66",flag:"",placeholder:"81 234 5678"},{code:"TG",name:"Togo",dialCode:"+228",flag:"",placeholder:"90 11 23 45"},{code:"TO",name:"Tonga",dialCode:"+676",flag:"",placeholder:"771 5123"},{code:"TT",name:"Trinidad and Tobago",dialCode:"+1868",flag:"",placeholder:"868 291 1234"},{code:"TN",name:"Tunisia",dialCode:"+216",flag:"",placeholder:"20 123 456"},{code:"TR",name:"Turkey",dialCode:"+90",flag:"",placeholder:"532 123 4567"},{code:"TM",name:"Turkmenistan",dialCode:"+993",flag:"",placeholder:"66 123456"},{code:"UG",name:"Uganda",dialCode:"+256",flag:"",placeholder:"712 345678"},{code:"UA",name:"Ukraine",dialCode:"+380",flag:"",placeholder:"50 123 4567"},{code:"AE",name:"UAE",dialCode:"+971",flag:"",placeholder:"50 123 4567"},{code:"UY",name:"Uruguay",dialCode:"+598",flag:"",placeholder:"94 231 234"},{code:"UZ",name:"Uzbekistan",dialCode:"+998",flag:"",placeholder:"91 234 56 78"},{code:"VU",name:"Vanuatu",dialCode:"+678",flag:"",placeholder:"591 2345"},{code:"VE",name:"Venezuela",dialCode:"+58",flag:"",placeholder:"412 1234567"},{code:"VN",name:"Vietnam",dialCode:"+84",flag:"",placeholder:"91 234 5678"},{code:"YE",name:"Yemen",dialCode:"+967",flag:"",placeholder:"712 345 678"},{code:"ZM",name:"Zambia",dialCode:"+260",flag:"",placeholder:"95 5123456"},{code:"ZW",name:"Zimbabwe",dialCode:"+263",flag:"",placeholder:"71 234 5678"}];function rw(t){const e=t.replace(/\D/g,"");return e.length>=7&&e.length<=15}function J4(t,e){const n=e.replace(/\D/g,"");return`${t.startsWith("+")?t:`+${t}`}${n}`}function X4(t){if(!t.startsWith("+"))return null;for(const e of Xs)if(t.startsWith(e.dialCode))return{dialCode:e.dialCode,phone:t.slice(e.dialCode.length)};return null}function Y_(t,e){Xs.find(s=>s.dialCode===t);const n=e.replace(/\D/g,"");return(t==="+1"||t==="+7")&&n.length===10?`(${n.slice(0,3)}) ${n.slice(3,6)}-${n.slice(6)}`:n.replace(/(\d{3,4})(?=\d)/g,"$1 ").trim()}function sw(t){if(!t)return"";const e=X4(t);if(e){const n=Y_(e.dialCode,e.phone);return`${e.dialCode} ${n}`}return t.replace(/(\d{1,4})(?=\d)/g,"$1 ").trim()}function J_({value:t,dialCode:e,onChange:n,onValidationChange:s,error:i,disabled:a,autoFocus:l}){const[d,p]=w.useState(!1),[h,m]=w.useState(Xs.find(_=>_.dialCode===e)||Xs[0]),g=w.useRef(null);w.useEffect(()=>{const _=Xs.find(C=>C.dialCode===e);_&&m(_)},[e]),w.useEffect(()=>{t&&s&&s(rw(t))},[t,s]);const y=_=>{m(_),n(t,_.dialCode),p(!1),setTimeout(()=>{g.current?.focus()},100)},b=_=>{const C=_.target.value.replace(/[^\d\s\-()]/g,"");n(C,h.dialCode)},S=t?rw(t):null;return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex gap-1.5 sm:gap-2",children:[u.jsxs(K_,{open:d,onOpenChange:p,children:[u.jsx(G_,{asChild:!0,children:u.jsxs(He,{variant:"outline",role:"combobox","aria-expanded":d,"aria-label":"Select country code",disabled:a,className:"w-[100px] xs:w-[110px] sm:w-[130px] justify-between bg-input-background border-border hover:bg-[var(--hover-surface)] transition-colors h-11 sm:h-10 touch-manipulation px-2 sm:px-3",children:[u.jsxs("span",{className:"flex items-center gap-1 sm:gap-1.5 truncate min-w-0",children:[u.jsx("span",{className:"text-base sm:text-lg flex-shrink-0",children:h.flag}),u.jsx("span",{className:"text-xs sm:text-sm truncate",children:h.dialCode})]}),u.jsx(IA,{className:"ml-1 h-3.5 w-3.5 sm:h-4 sm:w-4 shrink-0 opacity-50"})]})}),u.jsx(q_,{className:"w-[min(320px,calc(100vw-2rem))] p-0",align:"start",sideOffset:5,collisionPadding:8,children:u.jsxs(fD,{children:[u.jsx(hD,{placeholder:"Search country...",className:"h-9 text-sm"}),u.jsxs(pD,{className:"max-h-[min(300px,50vh)]",children:[u.jsx(mD,{className:"text-sm py-6",children:"No country found."}),u.jsx(gD,{children:Xs.map(_=>u.jsxs(vD,{value:`${_.name} ${_.dialCode} ${_.code}`,onSelect:()=>y(_),className:"cursor-pointer py-2.5 touch-manipulation",children:[u.jsx("span",{className:"mr-2 text-base sm:text-lg flex-shrink-0",children:_.flag}),u.jsx("span",{className:"flex-1 truncate text-sm",children:_.name}),u.jsx("span",{className:"text-muted-foreground ml-2 text-xs sm:text-sm flex-shrink-0",children:_.dialCode}),h.code===_.code&&u.jsx(eo,{className:"ml-2 h-4 w-4 text-primary flex-shrink-0"})]},_.code))})]})]})})]}),u.jsxs("div",{className:"relative flex-1 min-w-0",children:[u.jsx(xr,{ref:g,type:"tel",value:t,onChange:b,placeholder:h.placeholder,disabled:a,autoFocus:l,"aria-invalid":i?"true":"false","aria-describedby":i?"phone-error":void 0,className:`
              bg-input-background border-border transition-all h-11 sm:h-10 touch-manipulation text-sm sm:text-base
              ${i?"border-error focus-visible:ring-error":""}
              ${S===!0?"border-success pr-10":"pr-3"}
            `}),S===!0&&u.jsx("div",{className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2",children:u.jsx(eo,{className:"h-4 w-4 text-success flex-shrink-0"})})]})]}),i&&u.jsx("p",{id:"phone-error",className:"text-xs sm:text-sm text-error px-1",role:"alert",children:i}),!i&&t&&u.jsxs("p",{className:"text-[11px] sm:text-xs text-muted-foreground px-1 truncate",children:["Format: ",h.dialCode," ",Y_(h.dialCode,t)]})]})}function Q4({onAuthSuccess:t}){const[e,n]=w.useState("login"),[s,i]=w.useState(""),[a,l]=w.useState(""),[d,p]=w.useState(""),[h,m]=w.useState(""),[g,y]=w.useState("+1"),[b,S]=w.useState(!1),[_,C]=w.useState(""),j=async T=>{T.preventDefault(),C(""),S(!0);try{const E=Yt();if(e==="signup"){if(!h){C("Phone number is required"),S(!1);return}const N=`${g}${h}`,P=await pM.signup(s,a,d,N);if(!P.success){let H=P.error||"Signup failed";try{H=JSON.parse(H).error||H}catch{}H.includes("Phone number is already registered")&&(H="This phone number is already registered. Please use a different phone number or sign in."),C(H),S(!1);return}console.log("[Auth] Signing in after signup...");const{data:I,error:$}=await E.auth.signInWithPassword({email:s,password:a});if($){console.error("[Auth] Sign in error after signup:",$),C($.message),S(!1);return}if(!I.session){console.error("[Auth] No session returned after sign in"),C("Failed to establish session. Please try logging in."),S(!1);return}console.log("[Auth] Sign in successful, session established"),console.log("[Auth] Session user:",I.session.user.id),console.log("[Auth] Access token available:",!!I.session.access_token),console.log("[Auth] Explicitly setting session...");const{error:M}=await E.auth.setSession({access_token:I.session.access_token,refresh_token:I.session.refresh_token});if(M){console.error("[Auth] Failed to set session:",M),C("Failed to save session. Please try again."),S(!1);return}console.log("[Auth] Waiting for session persistence..."),await new Promise(H=>setTimeout(H,1500)),console.log("[Auth] Verifying session in storage...");const{data:{session:V}}=await E.auth.getSession();if(!V){console.error("[Auth] CRITICAL: Session not persisted to storage!");const H=Object.keys(localStorage);console.error("[Auth] Available localStorage keys:",H),C("Session failed to save. Please ensure cookies/storage is enabled."),S(!1);return}console.log("[Auth]  Session verified in storage"),t()}else{console.log("[Auth] Attempting login...");const{data:N,error:P}=await E.auth.signInWithPassword({email:s,password:a});if(P){P.message.toLowerCase().includes("invalid login credentials")||console.error("[Auth] Login error:",P.message),C(P.message),S(!1);return}if(!N.session){console.error("[Auth] No session returned after login"),C("Failed to establish session. Please try again."),S(!1);return}console.log("[Auth] Login successful, session established"),console.log("[Auth] Session user:",N.session.user.id),console.log("[Auth] Access token available:",!!N.session.access_token),console.log("[Auth] Access token preview:",N.session.access_token?.substring(0,30)+"..."),console.log("[Auth] Explicitly setting session...");const{error:I}=await E.auth.setSession({access_token:N.session.access_token,refresh_token:N.session.refresh_token});if(I){console.error("[Auth] Failed to set session:",I),C("Failed to save session. Please try again."),S(!1);return}console.log("[Auth] Waiting for session persistence..."),await new Promise(V=>setTimeout(V,1500)),console.log("[Auth] Verifying session in storage...");const{data:{session:$},error:M}=await E.auth.getSession();if(M&&console.error("[Auth] Error verifying session:",M),!$){console.error("[Auth] CRITICAL: Session not persisted to storage!"),console.error("[Auth] This means localStorage may be disabled or cleared");const V=Object.keys(localStorage);console.error("[Auth] Available localStorage keys:",V),console.error("[Auth] Total localStorage keys:",V.length),C("Session failed to save. Please ensure cookies/storage is enabled."),S(!1);return}console.log("[Auth]  Session verified in storage"),console.log("[Auth] Stored session user:",$.user.id),console.log("[Auth] Stored access token preview:",$.access_token?.substring(0,30)+"..."),t()}}catch(E){C(E instanceof Error?E.message:"An error occurred"),S(!1)}};return u.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center p-4 sm:p-6 md:p-8 pt-safe pb-safe pl-safe pr-safe relative overflow-hidden bg-gradient-to-br from-background via-surface to-background",children:[u.jsx(ee.div,{className:"absolute inset-0 opacity-40",animate:{background:["radial-gradient(circle at 20% 30%, var(--primary) 0%, transparent 60%)","radial-gradient(circle at 80% 70%, var(--accent) 0%, transparent 60%)","radial-gradient(circle at 50% 50%, var(--primary) 0%, transparent 60%)","radial-gradient(circle at 20% 30%, var(--primary) 0%, transparent 60%)"]},transition:{duration:20,repeat:1/0,ease:"linear"}}),u.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(4)].map((T,E)=>u.jsx(ee.div,{className:"absolute rounded-full bg-gradient-to-br from-primary/15 to-accent/15 backdrop-blur-2xl",style:{width:Math.random()*250+150,height:Math.random()*250+150,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{x:[0,Math.random()*60-30],y:[0,Math.random()*60-30],scale:[1,1.15,1],opacity:[.2,.4,.2]},transition:{duration:Math.random()*8+12,repeat:1/0,ease:"easeInOut"}},E))}),u.jsxs(ee.div,{initial:{opacity:0,scale:.96,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative w-full max-w-sm xs:max-w-md",children:[u.jsxs("div",{className:"bg-card/90 dark:bg-card/50 backdrop-blur-3xl rounded-2xl sm:rounded-3xl shadow-2xl border border-border/50 p-6 xs:p-8 sm:p-10 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-accent/5 opacity-50 pointer-events-none"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs(ee.div,{className:"text-center mb-8 sm:mb-10",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:[u.jsx(ee.div,{className:"inline-flex items-center justify-center gap-2.5 sm:gap-3 mb-5 sm:mb-6",whileHover:{scale:1.03},transition:{type:"spring",stiffness:400,damping:20},children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-12 h-12 xs:w-14 xs:h-14 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl bg-gradient-to-br from-primary to-accent shadow-xl shadow-primary/30 flex items-center justify-center",children:u.jsx(Ha,{className:"w-7 h-7 xs:w-8 xs:h-8 sm:w-9 sm:h-9 text-white",strokeWidth:2.5})}),u.jsx(ee.div,{className:"absolute inset-0 rounded-xl sm:rounded-2xl bg-gradient-to-br from-primary to-accent opacity-30 blur-xl",animate:{opacity:[.2,.4,.2],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}})]})}),u.jsx("h1",{className:"mb-2.5 sm:mb-3 text-2xl xs:text-3xl sm:text-4xl font-bold bg-gradient-to-r from-primary via-primary to-accent bg-clip-text text-transparent",children:"AuroraLink"}),u.jsx(ee.p,{className:"text-muted-foreground text-base",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:e==="login"?"Welcome back! Sign in to continue.":"Create your account to get started"},e)]}),_&&u.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:u.jsxs(b1,{variant:"destructive",className:"mb-6",children:[u.jsx(Ra,{className:"h-4 w-4"}),u.jsx(S1,{children:_})]})}),u.jsxs(ee.form,{onSubmit:j,className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[e==="signup"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(fa,{htmlFor:"fullName",className:"text-sm font-semibold",children:"Full Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(s1,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),u.jsx(xr,{id:"fullName",type:"text",value:d,onChange:T=>p(T.target.value),placeholder:"John Doe",className:"pl-11 h-12 text-base",required:!0,disabled:b})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(fa,{htmlFor:"phoneNumber",className:"text-sm font-semibold",children:"Phone Number"}),u.jsxs("div",{children:[u.jsx(J_,{value:h,dialCode:g,onChange:(T,E)=>{m(T),y(E)},disabled:b}),u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Used to find and connect with others on AuroraLink"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(fa,{htmlFor:"email",className:"text-sm font-semibold",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(Qb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),u.jsx(xr,{id:"email",type:"email",value:s,onChange:T=>i(T.target.value),placeholder:"you@example.com",className:"pl-11 h-12 text-base",required:!0,disabled:b})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(fa,{htmlFor:"password",className:"text-sm font-semibold",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(XA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),u.jsx(xr,{id:"password",type:"password",value:a,onChange:T=>l(T.target.value),placeholder:"",className:"pl-11 h-12 text-base",required:!0,disabled:b,minLength:6})]}),e==="signup"&&u.jsx("p",{className:"text-xs text-muted-foreground",children:"At least 6 characters"})]}),u.jsx(ee.div,{whileHover:{scale:b?1:1.01},whileTap:{scale:b?1:.99},className:"mt-2",children:u.jsx(He,{type:"submit",className:"w-full h-14 text-base font-semibold bg-gradient-to-r from-primary to-accent hover:opacity-90 shadow-xl shadow-primary/30 transition-all duration-300",disabled:b,children:b?u.jsxs(u.Fragment,{children:[u.jsx(Xb,{className:"mr-2 h-5 w-5 animate-spin"}),e==="login"?"Signing in...":"Creating account..."]}):u.jsxs(u.Fragment,{children:[e==="login"?"Sign In":"Create Account",u.jsx(Uc,{className:"ml-2 h-5 w-5"})]})})})]}),u.jsx(ee.div,{className:"mt-8 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:u.jsxs("button",{onClick:()=>{n(e==="login"?"signup":"login"),C("")},className:"text-sm text-primary hover:text-primary/80 transition-colors font-medium inline-flex items-center gap-1",disabled:b,children:[e==="login"?"Don't have an account? Sign up":"Already have an account? Sign in",u.jsx(Uc,{className:"w-4 h-4"})]})}),u.jsx(ee.div,{className:"mt-10 pt-6 border-t border-border/30 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:u.jsxs("p",{className:"text-xs text-muted-foreground leading-relaxed",children:["By continuing, you agree to our"," ",u.jsx("span",{className:"text-primary hover:underline cursor-pointer font-medium",children:"Terms of Service"})," ","and"," ",u.jsx("span",{className:"text-primary hover:underline cursor-pointer font-medium",children:"Privacy Policy"})]})})]})]}),u.jsx("div",{className:"absolute -z-10 top-0 left-0 w-40 h-40 bg-gradient-to-br from-primary/15 to-transparent rounded-full blur-3xl"}),u.jsx("div",{className:"absolute -z-10 bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-accent/15 to-transparent rounded-full blur-3xl"})]})]})}const Z4="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function pi(t){const[e,n]=w.useState(!1),[s,i]=w.useState(!0),a=()=>{n(!0),i(!1)},l=()=>{i(!1)},{src:d,alt:p,className:h,style:m,fallback:g,...y}=t;return e?g?u.jsx(u.Fragment,{children:g}):u.jsx("div",{className:h,style:{...m,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--muted)"},children:u.jsx("div",{className:"flex items-center justify-center w-full h-full",children:u.jsx("img",{src:Z4,alt:"Error loading image",...y,"data-original-url":d,style:{maxWidth:"60%",maxHeight:"60%",opacity:.5}})})}):u.jsxs("div",{className:"relative w-full h-full",style:m,children:[s&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted animate-pulse",style:{borderRadius:"inherit"},children:u.jsx("div",{className:"w-8 h-8 border-3 border-primary/30 border-t-primary rounded-full animate-spin"})}),u.jsx("img",{src:d,alt:p,className:h,style:{...m,opacity:s?0:1,transition:"opacity 0.2s ease-in-out"},...y,onError:a,onLoad:l})]})}const eL={xs:"w-6 h-6",sm:"w-10 h-10",md:"w-12 h-12",lg:"w-14 h-14",xl:"w-20 h-20","2xl":"w-24 h-24"},ow={xs:"text-[8px]",sm:"text-xs",md:"text-sm",lg:"text-base",xl:"text-xl","2xl":"text-2xl"},tL={xs:"w-1.5 h-1.5",sm:"w-2 h-2",md:"w-2.5 h-2.5",lg:"w-3 h-3",xl:"w-4 h-4","2xl":"w-5 h-5"},ih=["from-blue-500 to-cyan-500","from-purple-500 to-pink-500","from-green-500 to-teal-500","from-orange-500 to-red-500","from-indigo-500 to-blue-500","from-pink-500 to-rose-500","from-teal-500 to-green-500","from-amber-500 to-orange-500","from-violet-500 to-purple-500","from-cyan-500 to-blue-500"];function nL(t){if(!t)return ih[0];const e=t.split("").reduce((n,s)=>n+s.charCodeAt(0),0)%ih.length;return ih[e]}function rL(t){if(!t)return"";const e=t.trim().split(/\s+/);return e.length===1?e[0].substring(0,2).toUpperCase():(e[0][0]+e[e.length-1][0]).toUpperCase()}function cn({user:t,src:e,alt:n="Avatar",fallbackText:s,size:i="md",status:a,className:l="",showBorder:d=!0,onClick:p}){const h={online:"bg-success",offline:"bg-muted-foreground",away:"bg-warning"},m=t?.avatar_url||e,g=t?.full_name||n,y=t?.full_name||s||n,b=t?t.is_online?"online":"offline":a,S=rL(y),_=nL(y);return u.jsxs("div",{className:`relative inline-block ${l}`,onClick:p,role:p?"button":void 0,tabIndex:p?0:void 0,children:[u.jsx("div",{className:`${eL[i]} rounded-full flex items-center justify-center overflow-hidden ${d?"ring-2 ring-border/20 shadow-md hover:shadow-lg":"shadow-sm"} transition-all duration-300 hover:ring-primary/40`,children:m?u.jsx("div",{className:"w-full h-full avatar-image-container",children:u.jsx(pi,{src:m,alt:g,className:"w-full h-full object-cover object-center",style:{display:"block",width:"100%",height:"100%",objectFit:"cover",objectPosition:"center center"},fallback:u.jsx("div",{className:`w-full h-full bg-gradient-to-br ${_} flex items-center justify-center`,children:u.jsx("span",{className:`${ow[i]} font-semibold text-white select-none`,children:S})})})}):u.jsx("div",{className:`w-full h-full bg-gradient-to-br ${_} flex items-center justify-center`,children:u.jsx("span",{className:`${ow[i]} font-semibold text-white select-none`,children:S})})}),b&&u.jsx("span",{className:`absolute bottom-0 right-0 ${tL[i]} ${h[b]} rounded-full border-3 border-background shadow-lg ${b==="online"?"animate-pulse":""}`,"aria-label":`Status: ${b}`,style:{borderWidth:"3px"}})]})}const sL=Kp("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function oL({className:t,variant:e,asChild:n=!1,...s}){const i=n?o1:"span";return u.jsx(i,{"data-slot":"badge",className:rt(sL({variant:e}),t),...s})}function iL({conversation:t,isActive:e=!1,onClick:n,currentUserId:s}){const i=g=>{if(!g)return"";const y=new Date(g),S=new Date().getTime()-y.getTime();return S<864e5?y.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):S<6048e5?y.toLocaleDateString("en-US",{weekday:"short"}):y.toLocaleDateString("en-US",{month:"short",day:"numeric"})},a=()=>t.type==="group"?t.title||"Group Chat":t.members?.find(y=>y.user_id!==s)?.user?.full_name||"Unknown",l=()=>t.type==="group"?t.avatar_url:t.members?.find(y=>y.user_id!==s)?.user?.avatar_url,d=()=>t.type==="group"?void 0:t.members?.find(y=>y.user_id!==s)?.user?.is_online?"online":"offline",p=()=>{if(!t.last_message||!(t.last_message.sender_id===s))return null;const y=t.last_message.statuses?.some(S=>S.status==="read"),b=t.last_message.statuses?.some(S=>S.status==="delivered");return y?"read":b?"delivered":"sent"},h=()=>{if(!t.last_message)return"Tap to start chatting";const g=t.last_message,y=g.sender_id===s,b="";if(g.type==="story_reply"){const S=g.story_reply?.story_type,_=S==="text"?"":S==="image"?"":"";return y?g.body||`${_} Replied to your status`:`${_} Replied to their status: ${g.body||""}`}return g.type==="voice"?`${b} Voice message`:g.type==="image"?`${b} Photo`:g.type==="file"?`${b} File`:`${b}${g.body||""}`},m=t.unread_count&&t.unread_count>0;return u.jsxs("button",{onClick:n,className:`w-full max-w-full flex items-center gap-3 px-3 py-3 transition-all duration-150 text-left border-b border-border/50 hover:bg-[var(--hover-surface)] overflow-hidden active:bg-[var(--hover-muted)] touch-manipulation ${e?"bg-muted":""}`,"aria-label":`Conversation with ${a()}`,children:[u.jsx(cn,{src:l(),alt:a(),fallbackText:a(),size:"md",status:d(),className:"shrink-0 w-[52px] h-[52px]",showBorder:!0}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-baseline justify-between mb-0.5 gap-2",children:[u.jsx("h3",{className:`truncate text-[15px] leading-tight ${m?"font-semibold":""}`,children:a()}),u.jsx("span",{className:`text-xs flex-shrink-0 leading-tight ${m?"text-primary":"text-muted-foreground"}`,children:i(t.last_message?.created_at||t.updated_at)})]}),u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1 min-w-0 flex-1",children:[t.last_message?.sender_id===s&&u.jsx("span",{className:"flex-shrink-0 flex items-center",children:p()==="read"?u.jsx(Ys,{className:"w-[15px] h-[15px] text-[#53bdeb]"}):p()==="delivered"?u.jsx(Ys,{className:"w-[15px] h-[15px] text-muted-foreground"}):u.jsx(eo,{className:"w-[15px] h-[15px] text-muted-foreground"})}),u.jsx("p",{className:`text-[13.5px] truncate leading-tight ${m?"text-foreground font-medium":"text-muted-foreground"}`,children:h()})]}),m&&u.jsx(oL,{className:"bg-primary text-primary-foreground rounded-full h-5 min-w-[20px] px-1.5 flex items-center justify-center flex-shrink-0 text-[11px] shadow-sm",children:t.unread_count>99?"99+":t.unread_count})]})]})]})}function op({icon:t,title:e,description:n,actionLabel:s,onAction:i}){return u.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[u.jsxs(ee.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:20},className:"relative mb-6",children:[u.jsx(ee.div,{className:"absolute inset-0 rounded-full bg-gradient-to-br from-primary/20 to-accent/20",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},style:{width:80,height:80,marginLeft:-8,marginTop:-8}}),u.jsx("div",{className:"relative w-16 h-16 rounded-full bg-gradient-to-br from-primary/10 to-accent/10 flex items-center justify-center shadow-soft",children:u.jsx(t,{className:"w-8 h-8 text-primary"})})]}),u.jsxs(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[u.jsx("h3",{className:"mb-2 text-xl",children:e}),n&&u.jsx("p",{className:"text-muted-foreground mb-6 max-w-sm leading-relaxed",children:n}),s&&i&&u.jsx(ee.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(He,{onClick:i,className:"bg-gradient-to-r from-primary to-accent hover:opacity-90 shadow-lg shadow-primary/20",children:s})})]})]})}function aL(){return u.jsxs("div",{className:"flex items-center gap-3 p-3 animate-pulse",children:[u.jsx("div",{className:"w-12 h-12 bg-muted rounded-full"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),u.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})}function iw({userStories:t,isMyStory:e,currentUser:n,onClick:s,onAddStory:i}){const a=t?.has_unviewed??!1,l=t?.user||n,d=t?.stories.length||0,p=t?.stories&&t.stories.length>0?t.stories[t.stories.length-1]:null;if(!l)return null;const h=()=>{e&&d>0,s()},m=g=>{g.stopPropagation(),i?i():s()};return u.jsxs("div",{className:"flex flex-col items-center gap-1 min-w-[68px] group",children:[u.jsxs(ee.div,{className:"relative cursor-pointer",whileTap:{scale:.95},transition:{duration:.1},children:[a&&!e&&u.jsx("div",{className:"absolute inset-0 rounded-full p-[2px] pointer-events-none",children:u.jsx("div",{className:"w-full h-full rounded-full story-ring-gradient",style:{background:"linear-gradient(135deg, var(--story-ring-unviewed-start), var(--story-ring-unviewed-mid), var(--story-ring-unviewed-end))",backgroundSize:"200% 200%"},children:u.jsx("div",{className:"w-full h-full rounded-full bg-background scale-[0.93]"})})}),!a&&!e&&d>0&&u.jsx("div",{className:"absolute inset-0 rounded-full border-[2px] pointer-events-none",style:{borderColor:"var(--story-ring-viewed)"}}),e&&d>0&&u.jsx("div",{className:"absolute inset-0 rounded-full border-[2px] pointer-events-none",style:{borderColor:"var(--story-ring-my-story)"}}),u.jsx("button",{onClick:h,className:"absolute inset-0 rounded-full w-full h-full z-0 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2","aria-label":e?"View my status":`View ${l.full_name}'s status`}),u.jsxs("div",{className:`relative rounded-full ${a&&!e||e&&d>0||!a&&!e&&d>0?"p-[3px]":"p-0"} bg-background pointer-events-none`,children:[u.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden bg-muted flex items-center justify-center",children:p&&d>0?u.jsxs(u.Fragment,{children:[p.type==="image"&&p.media_url&&u.jsx(pi,{src:p.media_url,alt:"Story",className:"w-full h-full object-cover object-center"}),p.type==="video"&&p.media_url&&u.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[u.jsx(pi,{src:p.media_url,alt:"Story",className:"w-full h-full object-cover object-center"}),u.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:u.jsx("div",{className:"w-5 h-5 rounded-full bg-white/90 flex items-center justify-center",children:u.jsx("svg",{className:"w-2.5 h-2.5 text-black ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M8 5v14l11-7z"})})})})]}),p.type==="text"&&u.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",style:{background:p.background_color||"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:u.jsx("p",{className:"text-white text-[8px] font-medium text-center leading-tight line-clamp-4",children:p.text_content})})]}):u.jsx(cn,{user:l,size:"md",className:"w-full h-full",showBorder:!1})}),e&&u.jsx(ee.button,{onClick:m,className:"absolute bottom-0 right-0 w-5 h-5 bg-primary rounded-full flex items-center justify-center border-[2.5px] border-background shadow-sm hover:bg-primary/90 transition-colors z-10 pointer-events-auto focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-1",whileTap:{scale:.9},transition:{duration:.1},"aria-label":"Add status",children:u.jsx(ba,{className:"w-[14px] h-[14px] text-white",strokeWidth:3})})]})]}),u.jsx("div",{className:"flex flex-col items-center gap-0 max-w-[68px]",children:u.jsx("span",{className:"text-[11px] text-center truncate transition-colors w-full leading-tight",style:{color:"var(--text-secondary)"},children:e?"My status":l.full_name})})]})}async function lL(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission!=="denied"?await Notification.requestPermission()==="granted":!1:(console.warn("Browser does not support notifications"),!1)}function cL(t,e,n,s){if(!(!("Notification"in window)||Notification.permission!=="granted"))try{const i=new Notification(`${t}`,{body:e,icon:n||"/favicon.ico",badge:"/favicon.ico",tag:"auroralink-message",renotify:!0,requireInteraction:!1,silent:!1});i.onclick=()=>{window.focus(),i.close(),s?.()},setTimeout(()=>{i.close()},5e3)}catch(i){console.error("Failed to show notification:",i)}}function uL(){try{const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.frequency.value=800,e.type="sine",n.gain.setValueAtTime(0,t.currentTime),n.gain.linearRampToValueAtTime(.3,t.currentTime+.01),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.15),e.start(t.currentTime),e.stop(t.currentTime+.15)}catch(t){console.error("Failed to play notification sound:",t)}}function dL(t,e,n,s=!0,i){s&&!document.hidden&&uL(),document.hidden&&cL(t,e,n,i)}function aw(){return"Notification"in window?Notification.permission:"unsupported"}function fL({currentUser:t,onSelectConversation:e,onNewChat:n,onSettings:s,onLogout:i,onViewStory:a,onCreateStory:l}){const[d,p]=w.useState([]),[h,m]=w.useState(!0),[g,y]=w.useState(""),[b,S]=w.useState("chats"),[_,C]=w.useState([]),[j,T]=w.useState(null),[E,N]=w.useState(!0);w.useEffect(()=>{P(!0),I();const M=setInterval(()=>{P(!1)},5e3),V=setInterval(()=>{I()},3e4),H=setInterval(async()=>{console.log("[HomeScreen] Running periodic story cleanup..."),await rr.cleanup(),await I()},300*1e3);return()=>{clearInterval(M),clearInterval(V),clearInterval(H)}},[]);const P=async(M=!1)=>{if(M&&m(!0),M){const H=Yt(),{data:{session:Q}}=await H.auth.getSession();if(!Q?.access_token){console.error("[HomeScreen] No valid session, cannot load conversations"),m(!1);return}}let V;try{V=await di.list()}catch(H){console.error("[HomeScreen] Network error loading conversations:",H),M&&m(!1);return}if(V.success&&V.data?.conversations){const H=V.data.conversations;if(!M&&d.length>0)for(const Q of H){const Z=d.find(ie=>ie.id===Q.id);if(Z&&Q.last_message){const ie=!Z.last_message||Z.last_message.id!==Q.last_message.id,he=Q.last_message.sender_id!==t.id;if(ie&&he){const be=Q.members?.find(R=>R.user_id===Q.last_message?.sender_id)?.user,z=be?.full_name||"Someone",J=Q.last_message.body||" Photo";dL(z,J,be?.avatar_url,!0,()=>e(Q.id))}}}p(H)}else M&&console.error("[HomeScreen] Failed to load conversations:",V.error);M&&m(!1)},I=async()=>{try{const M=await rr.getAllStories();M.success&&M.data?.stories&&(console.log("[HomeScreen]  Loaded stories:",M.data.stories.map(H=>({user:H.user.full_name,count:H.stories.length,has_unviewed:H.has_unviewed}))),C(M.data.stories));const V=await rr.getMyStories();V.success&&V.data?.stories&&(V.data.stories.length>0?T({user:t,stories:V.data.stories,has_unviewed:!1}):T(null))}catch(M){console.error("[Stories] Error loading stories:",M)}finally{N(!1)}},$=d.filter(M=>{if(!g)return!0;const V=g.toLowerCase();return M.type==="group"?M.title?.toLowerCase().includes(V):M.members?.find(Q=>Q.user_id!==t.id)?.user?.full_name?.toLowerCase().includes(V)});return u.jsxs("div",{className:"h-screen-safe flex flex-col bg-background overflow-hidden w-full max-w-full no-overscroll",children:[u.jsx("div",{className:"bg-gradient-to-r from-primary to-accent px-3 py-2.5 shadow-lg shrink-0 pt-safe",children:u.jsxs("div",{className:"flex items-center justify-between w-full",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("div",{className:"w-8 h-8 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center shrink-0",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),u.jsx("h1",{className:"text-white text-lg font-semibold tracking-wide truncate",children:"AuroraLink"})]}),u.jsxs("div",{className:"flex items-center gap-0.5 shrink-0",children:[u.jsx(He,{variant:"ghost",size:"icon",onClick:s,className:"h-9 w-9 rounded-full hover:bg-white/20 text-white touch-target","aria-label":"Settings",children:u.jsx(t1,{className:"w-[18px] h-[18px]"})}),u.jsx(He,{variant:"ghost",size:"icon",onClick:i,className:"h-9 w-9 rounded-full hover:bg-white/20 text-white touch-target","aria-label":"Logout",children:u.jsx(ZA,{className:"w-[18px] h-[18px]"})})]})]})}),u.jsxs("div",{className:"flex border-b border-border bg-surface shrink-0 w-full",children:[u.jsxs("button",{onClick:()=>S("chats"),className:`flex-1 py-3 flex items-center justify-center gap-1.5 relative font-medium touch-target transition-all ${b==="chats"?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:[u.jsx(z0,{className:"w-[18px] h-[18px]"}),u.jsx("span",{className:"text-sm",children:"Chats"}),b==="chats"&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-to-r from-primary to-accent rounded-t-full"})]}),u.jsxs("button",{onClick:()=>S("calls"),className:`flex-1 py-3 flex items-center justify-center gap-1.5 relative font-medium touch-target transition-all ${b==="calls"?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:[u.jsx(br,{className:"w-[18px] h-[18px]"}),u.jsx("span",{className:"text-sm",children:"Calls"}),b==="calls"&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-to-r from-primary to-accent rounded-t-full"})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden w-full smooth-scroll",children:b==="chats"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-white px-4 py-3 sticky top-0 z-10 shadow-sm",children:u.jsxs("div",{className:"relative w-full",children:[u.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none z-10 search-icon-modern",children:u.jsx(au,{className:"w-[18px] h-[18px] text-[#54656F]",strokeWidth:2.5})}),u.jsx(xr,{type:"search",placeholder:"Search or start new chat",value:g,onChange:M=>y(M.target.value),className:"w-full h-[42px] pl-[44px] pr-4 bg-[#F0F2F5] hover:bg-[#E8EAED] focus:bg-white border-0 rounded-[10px] transition-all duration-200 text-[15px] text-[#111B21] placeholder:text-[#667781] focus:ring-2 focus:ring-[#00A884]/20 focus:shadow-md search-input-modern"})]})}),u.jsxs("div",{className:"bg-background",children:[u.jsx("div",{className:"overflow-x-auto scrollbar-hide smooth-scroll",children:u.jsxs("div",{className:"flex gap-2.5 px-2.5 py-2.5",children:[u.jsx(iw,{userStories:j||void 0,isMyStory:!0,currentUser:t,onClick:()=>{if(j&&j.stories.length>0){const M=[j,..._];a(M,0)}else l()},onAddStory:()=>{l()}}),E?u.jsx(u.Fragment,{children:[1,2,3].map(M=>u.jsxs("div",{className:"flex flex-col items-center gap-1 min-w-[62px]",children:[u.jsx("div",{className:"w-[56px] h-[56px] rounded-full bg-muted animate-pulse"}),u.jsx("div",{className:"w-10 h-2 bg-muted rounded animate-pulse"})]},M))}):u.jsx(u.Fragment,{children:_.map((M,V)=>u.jsx(iw,{userStories:M,onClick:()=>{const H=j?[j,..._]:_,Q=j?V+1:V;a(H,Q)}},M.user.id))}),!E&&_.length===0&&!j&&u.jsx("div",{className:"flex-1 flex items-center justify-center py-2",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:"No status updates"})})]})}),u.jsx("div",{className:"h-[6px] bg-muted/30"})]}),h?u.jsx("div",{className:"w-full",children:[1,2,3,4,5,6].map(M=>u.jsx(aL,{},M))}):$.length>0?u.jsx("div",{className:"w-full",children:$.map(M=>u.jsx(iL,{conversation:M,onClick:()=>e(M.id),currentUserId:t.id},M.id))}):u.jsx(op,{icon:z0,title:g?"No conversations found":"No conversations yet",description:g?"Try a different search term":"Start a new chat to begin messaging",actionLabel:g?void 0:"New Chat",onAction:g?void 0:n})]}):u.jsx(op,{icon:br,title:"Calls Coming Soon! ",description:"Voice and video calling feature will be available soon. Stay tuned!"})}),u.jsx(He,{onClick:n,size:"lg",className:"fixed bottom-5 right-5 rounded-full shadow-2xl shadow-primary/30 hover:shadow-primary/40 h-14 w-14 bg-gradient-to-r from-primary to-accent hover:opacity-90 transition-all hover:scale-105 active:scale-95 touch-target z-20",style:{bottom:"max(env(safe-area-inset-bottom, 0px) + 1.25rem, 1.25rem)"},"aria-label":"New conversation",children:u.jsx(ba,{className:"w-6 h-6"})})]})}function hL({audioUrl:t,duration:e,isSent:n=!1}){const[s,i]=w.useState(!1),[a,l]=w.useState(0),[d,p]=w.useState(e||0),h=w.useRef(null),m=w.useRef(null);w.useEffect(()=>{const S=new Audio(t);return h.current=S,S.addEventListener("loadedmetadata",()=>{p(Math.floor(S.duration))}),S.addEventListener("ended",()=>{i(!1),l(0),m.current&&clearInterval(m.current)}),()=>{S.pause(),S.src="",m.current&&clearInterval(m.current)}},[t]);const g=()=>{h.current&&(s?(h.current.pause(),m.current&&clearInterval(m.current)):(h.current.play(),m.current=setInterval(()=>{h.current&&l(Math.floor(h.current.currentTime))},100)),i(!s))},y=S=>{const _=Math.floor(S/60),C=S%60;return`${_}:${C.toString().padStart(2,"0")}`},b=d>0?a/d*100:0;return u.jsxs("div",{className:"flex items-center gap-2 min-w-[220px] py-1",children:[u.jsx(He,{variant:"ghost",size:"icon",onClick:g,className:`h-9 w-9 rounded-full shrink-0 ${n?"hover:bg-primary-foreground/20 text-primary-foreground":"hover:bg-[var(--hover-muted)] text-foreground"}`,"aria-label":s?"Pause":"Play",children:s?u.jsx(Zb,{className:"w-5 h-5",fill:"currentColor"}):u.jsx(e1,{className:"w-5 h-5 ml-0.5",fill:"currentColor"})}),u.jsxs("div",{className:"flex-1 flex flex-col gap-1.5",children:[u.jsx("div",{className:"relative h-1 bg-black/10 dark:bg-white/10 rounded-full overflow-hidden",children:u.jsx("div",{className:`absolute top-0 left-0 h-full rounded-full transition-all ${n?"bg-primary-foreground/80":"bg-primary"}`,style:{width:`${b}%`}})}),u.jsxs("div",{className:`flex justify-between items-center text-[11px] ${n?"text-primary-foreground/70":"text-muted-foreground"}`,children:[u.jsx("span",{children:y(s?a:d)}),u.jsx("svg",{className:`w-12 h-4 ${n?"opacity-50":"opacity-40"}`,viewBox:"0 0 48 16",fill:"none",children:u.jsx("path",{d:"M1 8 L1 8 M5 6 L5 10 M9 4 L9 12 M13 7 L13 9 M17 5 L17 11 M21 3 L21 13 M25 6 L25 10 M29 4 L29 12 M33 8 L33 8 M37 5 L37 11 M41 7 L41 9 M45 6 L45 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})]})]})]})}function X_(t){const e=t+"CollectionProvider",[n,s]=Br(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=_=>{const{scope:C,children:j}=_,T=ce.useRef(null),E=ce.useRef(new Map).current;return u.jsx(i,{scope:C,itemMap:E,collectionRef:T,children:j})};l.displayName=e;const d=t+"CollectionSlot",p=ro(d),h=ce.forwardRef((_,C)=>{const{scope:j,children:T}=_,E=a(d,j),N=bt(C,E.collectionRef);return u.jsx(p,{ref:N,children:T})});h.displayName=d;const m=t+"CollectionItemSlot",g="data-radix-collection-item",y=ro(m),b=ce.forwardRef((_,C)=>{const{scope:j,children:T,...E}=_,N=ce.useRef(null),P=bt(C,N),I=a(m,j);return ce.useEffect(()=>(I.itemMap.set(N,{ref:N,...E}),()=>void I.itemMap.delete(N))),u.jsx(y,{[g]:"",ref:P,children:T})});b.displayName=m;function S(_){const C=a(t+"CollectionConsumer",_);return ce.useCallback(()=>{const T=C.collectionRef.current;if(!T)return[];const E=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(C.itemMap.values()).sort((I,$)=>E.indexOf(I.ref.current)-E.indexOf($.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:l,Slot:h,ItemSlot:b},S,s]}var pL=w.createContext(void 0);function Q_(t){const e=w.useContext(pL);return t||e||"ltr"}var ah="rovingFocusGroup.onEntryFocus",mL={bubbles:!1,cancelable:!0},Xa="RovingFocusGroup",[ip,Z_,gL]=X_(Xa),[vL,ek]=Br(Xa,[gL]),[yL,xL]=vL(Xa),tk=w.forwardRef((t,e)=>u.jsx(ip.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(ip.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(wL,{...t,ref:e})})}));tk.displayName=Xa;var wL=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:p,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...g}=t,y=w.useRef(null),b=bt(e,y),S=Q_(a),[_,C]=Ga({prop:l,defaultProp:d??null,onChange:p,caller:Xa}),[j,T]=w.useState(!1),E=$r(h),N=Z_(n),P=w.useRef(!1),[I,$]=w.useState(0);return w.useEffect(()=>{const M=y.current;if(M)return M.addEventListener(ah,E),()=>M.removeEventListener(ah,E)},[E]),u.jsx(yL,{scope:n,orientation:s,dir:S,loop:i,currentTabStopId:_,onItemFocus:w.useCallback(M=>C(M),[C]),onItemShiftTab:w.useCallback(()=>T(!0),[]),onFocusableItemAdd:w.useCallback(()=>$(M=>M+1),[]),onFocusableItemRemove:w.useCallback(()=>$(M=>M-1),[]),children:u.jsx(Qe.div,{tabIndex:j||I===0?-1:0,"data-orientation":s,...g,ref:b,style:{outline:"none",...t.style},onMouseDown:De(t.onMouseDown,()=>{P.current=!0}),onFocus:De(t.onFocus,M=>{const V=!P.current;if(M.target===M.currentTarget&&V&&!j){const H=new CustomEvent(ah,mL);if(M.currentTarget.dispatchEvent(H),!H.defaultPrevented){const Q=N().filter(z=>z.focusable),Z=Q.find(z=>z.active),ie=Q.find(z=>z.id===_),be=[Z,ie,...Q].filter(Boolean).map(z=>z.ref.current);sk(be,m)}}P.current=!1}),onBlur:De(t.onBlur,()=>T(!1))})})}),nk="RovingFocusGroupItem",rk=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:a,children:l,...d}=t,p=Nn(),h=a||p,m=xL(nk,n),g=m.currentTabStopId===h,y=Z_(n),{onFocusableItemAdd:b,onFocusableItemRemove:S,currentTabStopId:_}=m;return w.useEffect(()=>{if(s)return b(),()=>S()},[s,b,S]),u.jsx(ip.ItemSlot,{scope:n,id:h,focusable:s,active:i,children:u.jsx(Qe.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...d,ref:e,onMouseDown:De(t.onMouseDown,C=>{s?m.onItemFocus(h):C.preventDefault()}),onFocus:De(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:De(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){m.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const j=_L(C,m.orientation,m.dir);if(j!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let E=y().filter(N=>N.focusable).map(N=>N.ref.current);if(j==="last")E.reverse();else if(j==="prev"||j==="next"){j==="prev"&&E.reverse();const N=E.indexOf(C.currentTarget);E=m.loop?kL(E,N+1):E.slice(N+1)}setTimeout(()=>sk(E))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:_!=null}):l})})});rk.displayName=nk;var bL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function SL(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function _L(t,e,n){const s=SL(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return bL[s]}function sk(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function kL(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var CL=tk,jL=rk,ap=["Enter"," "],EL=["ArrowDown","PageUp","Home"],ok=["ArrowUp","PageDown","End"],NL=[...EL,...ok],TL={ltr:[...ap,"ArrowRight"],rtl:[...ap,"ArrowLeft"]},PL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qa="Menu",[Fa,AL,RL]=X_(Qa),[lo,ik]=Br(Qa,[RL,Cu,ek]),Eu=Cu(),ak=ek(),[OL,co]=lo(Qa),[IL,Za]=lo(Qa),lk=t=>{const{__scopeMenu:e,open:n=!1,children:s,dir:i,onOpenChange:a,modal:l=!0}=t,d=Eu(e),[p,h]=w.useState(null),m=w.useRef(!1),g=$r(a),y=Q_(i);return w.useEffect(()=>{const b=()=>{m.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>m.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),u.jsx(O_,{...d,children:u.jsx(OL,{scope:e,open:n,onOpenChange:g,content:p,onContentChange:h,children:u.jsx(IL,{scope:e,onClose:w.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:y,modal:l,children:s})})})};lk.displayName=Qa;var ML="MenuAnchor",Cm=w.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,i=Eu(n);return u.jsx(_m,{...i,...s,ref:e})});Cm.displayName=ML;var jm="MenuPortal",[DL,ck]=lo(jm,{forceMount:void 0}),uk=t=>{const{__scopeMenu:e,forceMount:n,children:s,container:i}=t,a=co(jm,e);return u.jsx(DL,{scope:e,forceMount:n,children:u.jsx(_r,{present:n||a.open,children:u.jsx(pu,{asChild:!0,container:i,children:s})})})};uk.displayName=jm;var zn="MenuContent",[LL,Em]=lo(zn),dk=w.forwardRef((t,e)=>{const n=ck(zn,t.__scopeMenu),{forceMount:s=n.forceMount,...i}=t,a=co(zn,t.__scopeMenu),l=Za(zn,t.__scopeMenu);return u.jsx(Fa.Provider,{scope:t.__scopeMenu,children:u.jsx(_r,{present:s||a.open,children:u.jsx(Fa.Slot,{scope:t.__scopeMenu,children:l.modal?u.jsx($L,{...i,ref:e}):u.jsx(FL,{...i,ref:e})})})})}),$L=w.forwardRef((t,e)=>{const n=co(zn,t.__scopeMenu),s=w.useRef(null),i=bt(e,s);return w.useEffect(()=>{const a=s.current;if(a)return am(a)},[]),u.jsx(Nm,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:De(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),FL=w.forwardRef((t,e)=>{const n=co(zn,t.__scopeMenu);return u.jsx(Nm,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),VL=ro("MenuContent.ScrollLock"),Nm=w.forwardRef((t,e)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEntryFocus:p,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:y,onDismiss:b,disableOutsideScroll:S,..._}=t,C=co(zn,n),j=Za(zn,n),T=Eu(n),E=ak(n),N=AL(n),[P,I]=w.useState(null),$=w.useRef(null),M=bt(e,$,C.onContentChange),V=w.useRef(0),H=w.useRef(""),Q=w.useRef(0),Z=w.useRef(null),ie=w.useRef("right"),he=w.useRef(0),be=S?gu:w.Fragment,z=S?{as:VL,allowPinchZoom:!0}:void 0,J=W=>{const X=H.current+W,L=N().filter(te=>!te.disabled),O=document.activeElement,G=L.find(te=>te.ref.current===O)?.textValue,q=L.map(te=>te.textValue),Y=QL(q,X,G),ae=L.find(te=>te.textValue===Y)?.ref.current;(function te(ue){H.current=ue,window.clearTimeout(V.current),ue!==""&&(V.current=window.setTimeout(()=>te(""),1e3))})(X),ae&&setTimeout(()=>ae.focus())};w.useEffect(()=>()=>window.clearTimeout(V.current),[]),im();const R=w.useCallback(W=>ie.current===Z.current?.side&&e6(W,Z.current?.area),[]);return u.jsx(LL,{scope:n,searchRef:H,onItemEnter:w.useCallback(W=>{R(W)&&W.preventDefault()},[R]),onItemLeave:w.useCallback(W=>{R(W)||($.current?.focus(),I(null))},[R]),onTriggerLeave:w.useCallback(W=>{R(W)&&W.preventDefault()},[R]),pointerGraceTimerRef:Q,onPointerGraceIntentChange:w.useCallback(W=>{Z.current=W},[]),children:u.jsx(be,{...z,children:u.jsx(hu,{asChild:!0,trapped:i,onMountAutoFocus:De(a,W=>{W.preventDefault(),$.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:u.jsx(fu,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:y,onDismiss:b,children:u.jsx(CL,{asChild:!0,...E,dir:j.dir,orientation:"vertical",loop:s,currentTabStopId:P,onCurrentTabStopIdChange:I,onEntryFocus:De(p,W=>{j.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(I_,{role:"menu","aria-orientation":"vertical","data-state":Ek(C.open),"data-radix-menu-content":"",dir:j.dir,...T,..._,ref:M,style:{outline:"none",..._.style},onKeyDown:De(_.onKeyDown,W=>{const L=W.target.closest("[data-radix-menu-content]")===W.currentTarget,O=W.ctrlKey||W.altKey||W.metaKey,G=W.key.length===1;L&&(W.key==="Tab"&&W.preventDefault(),!O&&G&&J(W.key));const q=$.current;if(W.target!==q||!NL.includes(W.key))return;W.preventDefault();const ae=N().filter(te=>!te.disabled).map(te=>te.ref.current);ok.includes(W.key)&&ae.reverse(),JL(ae)}),onBlur:De(t.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(V.current),H.current="")}),onPointerMove:De(t.onPointerMove,Va(W=>{const X=W.target,L=he.current!==W.clientX;if(W.currentTarget.contains(X)&&L){const O=W.clientX>he.current?"right":"left";ie.current=O,he.current=W.clientX}}))})})})})})})});dk.displayName=zn;var BL="MenuGroup",Tm=w.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return u.jsx(Qe.div,{role:"group",...s,ref:e})});Tm.displayName=BL;var UL="MenuLabel",fk=w.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return u.jsx(Qe.div,{...s,ref:e})});fk.displayName=UL;var eu="MenuItem",lw="menu.itemSelect",Nu=w.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:s,...i}=t,a=w.useRef(null),l=Za(eu,t.__scopeMenu),d=Em(eu,t.__scopeMenu),p=bt(e,a),h=w.useRef(!1),m=()=>{const g=a.current;if(!n&&g){const y=new CustomEvent(lw,{bubbles:!0,cancelable:!0});g.addEventListener(lw,b=>s?.(b),{once:!0}),x1(g,y),y.defaultPrevented?h.current=!1:l.onClose()}};return u.jsx(hk,{...i,ref:p,disabled:n,onClick:De(t.onClick,m),onPointerDown:g=>{t.onPointerDown?.(g),h.current=!0},onPointerUp:De(t.onPointerUp,g=>{h.current||g.currentTarget?.click()}),onKeyDown:De(t.onKeyDown,g=>{const y=d.searchRef.current!=="";n||y&&g.key===" "||ap.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Nu.displayName=eu;var hk=w.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...a}=t,l=Em(eu,n),d=ak(n),p=w.useRef(null),h=bt(e,p),[m,g]=w.useState(!1),[y,b]=w.useState("");return w.useEffect(()=>{const S=p.current;S&&b((S.textContent??"").trim())},[a.children]),u.jsx(Fa.ItemSlot,{scope:n,disabled:s,textValue:i??y,children:u.jsx(jL,{asChild:!0,...d,focusable:!s,children:u.jsx(Qe.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:h,onPointerMove:De(t.onPointerMove,Va(S=>{s?l.onItemLeave(S):(l.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:De(t.onPointerLeave,Va(S=>l.onItemLeave(S))),onFocus:De(t.onFocus,()=>g(!0)),onBlur:De(t.onBlur,()=>g(!1))})})})}),zL="MenuCheckboxItem",pk=w.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:s,...i}=t;return u.jsx(xk,{scope:t.__scopeMenu,checked:n,children:u.jsx(Nu,{role:"menuitemcheckbox","aria-checked":tu(n)?"mixed":n,...i,ref:e,"data-state":Am(n),onSelect:De(i.onSelect,()=>s?.(tu(n)?!0:!n),{checkForDefaultPrevented:!1})})})});pk.displayName=zL;var mk="MenuRadioGroup",[WL,HL]=lo(mk,{value:void 0,onValueChange:()=>{}}),gk=w.forwardRef((t,e)=>{const{value:n,onValueChange:s,...i}=t,a=$r(s);return u.jsx(WL,{scope:t.__scopeMenu,value:n,onValueChange:a,children:u.jsx(Tm,{...i,ref:e})})});gk.displayName=mk;var vk="MenuRadioItem",yk=w.forwardRef((t,e)=>{const{value:n,...s}=t,i=HL(vk,t.__scopeMenu),a=n===i.value;return u.jsx(xk,{scope:t.__scopeMenu,checked:a,children:u.jsx(Nu,{role:"menuitemradio","aria-checked":a,...s,ref:e,"data-state":Am(a),onSelect:De(s.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});yk.displayName=vk;var Pm="MenuItemIndicator",[xk,KL]=lo(Pm,{checked:!1}),wk=w.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:s,...i}=t,a=KL(Pm,n);return u.jsx(_r,{present:s||tu(a.checked)||a.checked===!0,children:u.jsx(Qe.span,{...i,ref:e,"data-state":Am(a.checked)})})});wk.displayName=Pm;var GL="MenuSeparator",bk=w.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return u.jsx(Qe.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});bk.displayName=GL;var qL="MenuArrow",Sk=w.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,i=Eu(n);return u.jsx(M_,{...i,...s,ref:e})});Sk.displayName=qL;var YL="MenuSub",[cF,_k]=lo(YL),pa="MenuSubTrigger",kk=w.forwardRef((t,e)=>{const n=co(pa,t.__scopeMenu),s=Za(pa,t.__scopeMenu),i=_k(pa,t.__scopeMenu),a=Em(pa,t.__scopeMenu),l=w.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:p}=a,h={__scopeMenu:t.__scopeMenu},m=w.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return w.useEffect(()=>m,[m]),w.useEffect(()=>{const g=d.current;return()=>{window.clearTimeout(g),p(null)}},[d,p]),u.jsx(Cm,{asChild:!0,...h,children:u.jsx(hk,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Ek(n.open),...t,ref:Lr(e,i.onTriggerChange),onClick:g=>{t.onClick?.(g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:De(t.onPointerMove,Va(g=>{a.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:De(t.onPointerLeave,Va(g=>{m();const y=n.content?.getBoundingClientRect();if(y){const b=n.content?.dataset.side,S=b==="right",_=S?-5:5,C=y[S?"left":"right"],j=y[S?"right":"left"];a.onPointerGraceIntentChange({area:[{x:g.clientX+_,y:g.clientY},{x:C,y:y.top},{x:j,y:y.top},{x:j,y:y.bottom},{x:C,y:y.bottom}],side:b}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(g),g.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:De(t.onKeyDown,g=>{const y=a.searchRef.current!=="";t.disabled||y&&g.key===" "||TL[s.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});kk.displayName=pa;var Ck="MenuSubContent",jk=w.forwardRef((t,e)=>{const n=ck(zn,t.__scopeMenu),{forceMount:s=n.forceMount,...i}=t,a=co(zn,t.__scopeMenu),l=Za(zn,t.__scopeMenu),d=_k(Ck,t.__scopeMenu),p=w.useRef(null),h=bt(e,p);return u.jsx(Fa.Provider,{scope:t.__scopeMenu,children:u.jsx(_r,{present:s||a.open,children:u.jsx(Fa.Slot,{scope:t.__scopeMenu,children:u.jsx(Nm,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{l.isUsingKeyboardRef.current&&p.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:De(t.onFocusOutside,m=>{m.target!==d.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:De(t.onEscapeKeyDown,m=>{l.onClose(),m.preventDefault()}),onKeyDown:De(t.onKeyDown,m=>{const g=m.currentTarget.contains(m.target),y=PL[l.dir].includes(m.key);g&&y&&(a.onOpenChange(!1),d.trigger?.focus(),m.preventDefault())})})})})})});jk.displayName=Ck;function Ek(t){return t?"open":"closed"}function tu(t){return t==="indeterminate"}function Am(t){return tu(t)?"indeterminate":t?"checked":"unchecked"}function JL(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function XL(t,e){return t.map((n,s)=>t[(e+s)%t.length])}function QL(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=XL(t,Math.max(a,0));i.length===1&&(l=l.filter(h=>h!==n));const p=l.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return p!==n?p:void 0}function ZL(t,e){const{x:n,y:s}=t;let i=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const d=e[a],p=e[l],h=d.x,m=d.y,g=p.x,y=p.y;m>s!=y>s&&n<(g-h)*(s-m)/(y-m)+h&&(i=!i)}return i}function e6(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return ZL(n,e)}function Va(t){return e=>e.pointerType==="mouse"?t(e):void 0}var t6=lk,n6=Cm,r6=uk,s6=dk,o6=Tm,i6=fk,a6=Nu,l6=pk,c6=gk,u6=yk,d6=wk,f6=bk,h6=Sk,p6=kk,m6=jk,Tu="DropdownMenu",[g6]=Br(Tu,[ik]),un=ik(),[v6,Nk]=g6(Tu),Tk=t=>{const{__scopeDropdownMenu:e,children:n,dir:s,open:i,defaultOpen:a,onOpenChange:l,modal:d=!0}=t,p=un(e),h=w.useRef(null),[m,g]=Ga({prop:i,defaultProp:a??!1,onChange:l,caller:Tu});return u.jsx(v6,{scope:e,triggerId:Nn(),triggerRef:h,contentId:Nn(),open:m,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(y=>!y),[g]),modal:d,children:u.jsx(t6,{...p,open:m,onOpenChange:g,dir:s,modal:d,children:n})})};Tk.displayName=Tu;var Pk="DropdownMenuTrigger",Ak=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=t,a=Nk(Pk,n),l=un(n);return u.jsx(n6,{asChild:!0,...l,children:u.jsx(Qe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:Lr(e,a.triggerRef),onPointerDown:De(t.onPointerDown,d=>{!s&&d.button===0&&d.ctrlKey===!1&&(a.onOpenToggle(),a.open||d.preventDefault())}),onKeyDown:De(t.onKeyDown,d=>{s||(["Enter"," "].includes(d.key)&&a.onOpenToggle(),d.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});Ak.displayName=Pk;var y6="DropdownMenuPortal",Rk=t=>{const{__scopeDropdownMenu:e,...n}=t,s=un(e);return u.jsx(r6,{...s,...n})};Rk.displayName=y6;var Ok="DropdownMenuContent",Ik=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=Nk(Ok,n),a=un(n),l=w.useRef(!1);return u.jsx(s6,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...s,ref:e,onCloseAutoFocus:De(t.onCloseAutoFocus,d=>{l.current||i.triggerRef.current?.focus(),l.current=!1,d.preventDefault()}),onInteractOutside:De(t.onInteractOutside,d=>{const p=d.detail.originalEvent,h=p.button===0&&p.ctrlKey===!0,m=p.button===2||h;(!i.modal||m)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ik.displayName=Ok;var x6="DropdownMenuGroup",w6=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=un(n);return u.jsx(o6,{...i,...s,ref:e})});w6.displayName=x6;var b6="DropdownMenuLabel",S6=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=un(n);return u.jsx(i6,{...i,...s,ref:e})});S6.displayName=b6;var _6="DropdownMenuItem",Mk=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=un(n);return u.jsx(a6,{...i,...s,ref:e})});Mk.displayName=_6;var k6="DropdownMenuCheckboxItem",C6=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=un(n);return u.jsx(l6,{...i,...s,ref:e})});C6.displayName=k6;var j6="DropdownMenuRadioGroup",E6=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=un(n);return u.jsx(c6,{...i,...s,ref:e})});E6.displayName=j6;var N6="DropdownMenuRadioItem",T6=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=un(n);return u.jsx(u6,{...i,...s,ref:e})});T6.displayName=N6;var P6="DropdownMenuItemIndicator",A6=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=un(n);return u.jsx(d6,{...i,...s,ref:e})});A6.displayName=P6;var R6="DropdownMenuSeparator",O6=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=un(n);return u.jsx(f6,{...i,...s,ref:e})});O6.displayName=R6;var I6="DropdownMenuArrow",M6=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=un(n);return u.jsx(h6,{...i,...s,ref:e})});M6.displayName=I6;var D6="DropdownMenuSubTrigger",L6=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=un(n);return u.jsx(p6,{...i,...s,ref:e})});L6.displayName=D6;var $6="DropdownMenuSubContent",F6=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=un(n);return u.jsx(m6,{...i,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});F6.displayName=$6;var V6=Tk,B6=Ak,U6=Rk,z6=Ik,W6=Mk;function Dk({...t}){return u.jsx(V6,{"data-slot":"dropdown-menu",...t})}function Lk({...t}){return u.jsx(B6,{"data-slot":"dropdown-menu-trigger",...t})}function $k({className:t,sideOffset:e=4,...n}){return u.jsx(U6,{children:u.jsx(z6,{"data-slot":"dropdown-menu-content",sideOffset:e,className:rt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function Zo({className:t,inset:e,variant:n="default",...s}){return u.jsx(W6,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:rt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function H6({message:t,isSent:e,showAvatar:n=!0,showTimestamp:s=!0,currentUserId:i,isFirstInGroup:a=!0,isLastInGroup:l=!0,onReply:d,onDeleteForMe:p,onDeleteForEveryone:h,onCopy:m}){const[g,y]=w.useState(0),[b,S]=w.useState(0),[_,C]=w.useState(!1),j=w.useRef(null),T=V=>{y(V.touches[0].clientX)},E=V=>{const H=V.touches[0].clientX-g;e?H<0&&H>-80&&S(H):H>0&&H<80&&S(H)},N=()=>{(e&&b<-60||!e&&b>60)&&d?.(t),S(0)},P=async()=>{if(t.body)try{await navigator.clipboard.writeText(t.body),m?.(t.body)}catch(V){console.warn("Clipboard API blocked, using fallback method:",V);const H=document.createElement("textarea");H.value=t.body,H.style.position="fixed",H.style.left="-999999px",H.style.top="-999999px",document.body.appendChild(H),H.focus(),H.select();try{document.execCommand("copy")?m?.(t.body):console.error("Fallback copy failed")}catch(Q){console.error("Could not copy text:",Q)}document.body.removeChild(H)}},I=V=>new Date(V).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),$=t.statuses?.some(V=>V.user_id!==t.sender_id&&V.status==="read"),M=t.statuses?.some(V=>V.user_id!==t.sender_id&&V.status==="delivered");return t.deleted_for_everyone?u.jsxs("div",{className:`flex ${e?"justify-end":"justify-start"} px-2`,children:[!e&&n&&u.jsx(cn,{src:t.sender?.avatar_url,alt:t.sender?.full_name,size:"sm",className:"w-8 h-8 mr-2 self-end"}),!e&&!n&&u.jsx("div",{className:"w-8 mr-2"}),u.jsx("div",{className:`max-w-[65%] px-3 py-2 rounded-lg ${e?"bg-[#d9fdd3]":"bg-white"}`,style:{borderRadius:e?l?"7.5px 7.5px 0px 7.5px":"7.5px":l?"7.5px 7.5px 7.5px 0px":"7.5px"},children:u.jsx("p",{className:"text-[13px] italic text-[#667781]",children:"This message was deleted"})})]}):t.deleted_for_users?.includes(i)?null:u.jsxs("div",{ref:j,className:`flex ${e?"justify-end":"justify-start"} px-2 group relative`,onTouchStart:T,onTouchMove:E,onTouchEnd:N,style:{transform:`translateX(${b}px)`,transition:b===0?"transform 0.2s ease-out":"none"},children:[b!==0&&u.jsx("div",{className:`absolute top-1/2 -translate-y-1/2 ${e?"right-full mr-2":"left-full ml-2"}`,children:u.jsx(U0,{className:"w-6 h-6 text-[#00a884]",style:{opacity:Math.abs(b)/60}})}),!e&&n&&u.jsx(cn,{src:t.sender?.avatar_url,alt:t.sender?.full_name,size:"sm",className:"w-8 h-8 mr-2 self-end"}),!e&&!n&&u.jsx("div",{className:"w-8 mr-2"}),u.jsx("div",{className:`absolute top-1 opacity-0 group-hover:opacity-100 transition-opacity ${e?"left-2":"right-2"} z-10`,children:u.jsxs(Dk,{children:[u.jsx(Lk,{asChild:!0,children:u.jsx("button",{className:"w-7 h-7 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-gray-100 transition-colors",children:u.jsx(Hp,{className:"w-4 h-4 text-[#54656f]"})})}),u.jsxs($k,{align:e?"start":"end",className:"w-48",children:[d&&u.jsxs(Zo,{onClick:()=>d(t),children:[u.jsx(U0,{className:"w-4 h-4 mr-2"}),"Reply"]}),t.body&&u.jsxs(Zo,{onClick:P,children:[u.jsx(BA,{className:"w-4 h-4 mr-2"}),"Copy"]}),p&&u.jsxs(Zo,{onClick:()=>p(t.id),children:[u.jsx(ai,{className:"w-4 h-4 mr-2"}),"Delete for me"]}),h&&e&&u.jsxs(Zo,{onClick:()=>h(t.id),className:"text-destructive",children:[u.jsx(ai,{className:"w-4 h-4 mr-2"}),"Delete for everyone"]})]})]})}),u.jsxs("div",{className:`max-w-[65%] shadow-[0_1px_0.5px_rgba(11,20,26,0.13)] ${e?"bg-[#d9fdd3]":"bg-white"}`,style:{borderRadius:e?l?"7.5px 7.5px 0px 7.5px":"7.5px":l?"7.5px 7.5px 7.5px 0px":"7.5px"},children:[t.type==="voice"&&t.attachments?.[0]&&u.jsx("div",{className:"px-2 py-1.5",children:u.jsx(hL,{audioUrl:t.attachments[0].url})}),t.type==="image"&&t.attachments?.[0]&&u.jsxs("div",{className:"relative",children:[u.jsx(pi,{src:t.attachments[0].url,alt:"Image",className:"rounded-lg max-w-full h-auto",style:{maxHeight:"400px",minWidth:"200px"}}),t.body&&u.jsx("div",{className:"px-2 py-1.5",children:u.jsx("p",{className:"text-[14.2px] text-[#111b21] break-words whitespace-pre-wrap",children:t.body})})]}),t.type==="video"&&t.attachments?.[0]&&u.jsxs("div",{children:[u.jsx("video",{src:t.attachments[0].url,controls:!0,className:"rounded-lg max-w-full",style:{maxHeight:"400px",minWidth:"200px"}}),t.body&&u.jsx("div",{className:"px-2 py-1.5",children:u.jsx("p",{className:"text-[14.2px] text-[#111b21] break-words whitespace-pre-wrap",children:t.body})})]}),t.type==="file"&&t.attachments?.[0]&&u.jsx("a",{href:t.attachments[0].url,download:!0,className:"block px-3 py-2 hover:opacity-80",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-[#00a884] flex items-center justify-center",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M8 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0017.414 6L14 2.586A2 2 0 0012.586 2H8z"})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-[14.2px] text-[#111b21] truncate",children:t.attachments[0].filename}),u.jsxs("p",{className:"text-[12px] text-[#667781]",children:[(t.attachments[0].size/1024).toFixed(1)," KB"]})]})]})}),t.reply_to_message&&u.jsxs("div",{className:"mx-[9px] mt-[6px] mb-1 pl-2 pr-1 py-1 border-l-4 border-[#00a884] bg-black/5 rounded",children:[u.jsx("p",{className:"text-[12.5px] text-[#00a884] font-medium mb-0.5",children:t.reply_to_message.sender?.full_name||"Unknown"}),u.jsx("p",{className:"text-[13px] text-[#667781] truncate",children:t.reply_to_message.type==="image"?" Photo":t.reply_to_message.type==="video"?" Video":t.reply_to_message.type==="voice"?" Voice message":t.reply_to_message.type==="file"?" File":t.reply_to_message.body||"Message"})]}),(t.type==="text"||!t.type)&&t.body&&u.jsxs("div",{className:"px-[9px] pt-[6px] pb-[8px]",children:[u.jsx("p",{className:"text-[14.2px] text-[#111b21] break-words whitespace-pre-wrap",style:{lineHeight:"19px"},children:t.body}),u.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1",children:[u.jsx("span",{className:"text-[11px] text-[#667781]",children:I(t.created_at)}),e&&u.jsx(u.Fragment,{children:t.pending?u.jsx(Rh,{className:"w-4 h-4 text-[#667781] animate-pulse"}):t.failed?u.jsx(Ra,{className:"w-4 h-4 text-red-500"}):$?u.jsx(Ys,{className:"w-4 h-4 text-[#53bdeb]"}):M?u.jsx(Ys,{className:"w-4 h-4 text-[#667781]"}):u.jsx(eo,{className:"w-4 h-4 text-[#667781]"})})]})]}),t.reactions&&t.reactions.length>0&&u.jsx("div",{className:"flex gap-1 px-2 pb-1 flex-wrap",children:t.reactions.map((V,H)=>u.jsx("div",{className:"bg-white rounded-full px-2 py-0.5 text-xs shadow-sm border border-gray-200",children:u.jsx("span",{children:V.emoji})},H))})]}),s&&(t.type==="voice"||t.type==="file")&&u.jsxs("div",{className:`flex items-center gap-1 mt-1 ${e?"justify-end":""}`,children:[u.jsx("span",{className:"text-[11px] text-[#667781]",children:I(t.created_at)}),e&&u.jsx(u.Fragment,{children:t.pending?u.jsx(Rh,{className:"w-3.5 h-3.5 text-[#667781] animate-pulse"}):t.failed?u.jsx(Ra,{className:"w-3.5 h-3.5 text-red-500"}):$?u.jsx(Ys,{className:"w-3.5 h-3.5 text-[#53bdeb]"}):M?u.jsx(Ys,{className:"w-3.5 h-3.5 text-[#667781]"}):u.jsx(eo,{className:"w-3.5 h-3.5 text-[#667781]"})})]})]})}function K6({userName:t}){return u.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 text-sm text-muted-foreground",children:[u.jsxs("div",{className:"flex gap-1",children:[u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-pulse",style:{animationDelay:"0ms"}}),u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-pulse",style:{animationDelay:"150ms"}}),u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-pulse",style:{animationDelay:"300ms"}})]}),t&&u.jsxs("span",{children:[t," is typing..."]})]})}const pe=jE;function G6({onRecordingComplete:t,onCancel:e}){const[n,s]=w.useState(!1),[i,a]=w.useState(!1),[l,d]=w.useState(0),[p,h]=w.useState(null),m=w.useRef(null),g=w.useRef([]),y=w.useRef(null),b=w.useRef(null);w.useEffect(()=>(S(),()=>{_()}),[]);const S=async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){pe.error("Voice recording not supported",{description:"Your browser does not support voice recording"}),e();return}const P=await navigator.mediaDevices.getUserMedia({audio:!0});b.current=P;const I=new MediaRecorder(P);m.current=I,g.current=[],I.ondataavailable=$=>{$.data.size>0&&g.current.push($.data)},I.onstop=()=>{const $=new Blob(g.current,{type:"audio/webm"});h($),_()},I.start(),s(!0),y.current=setInterval(()=>{d($=>$+1)},1e3)}catch(P){console.error("Failed to start recording:",P),P instanceof Error?P.name==="NotAllowedError"?pe.error("Microphone access denied",{description:"Please allow microphone access in your browser settings to send voice messages",duration:5e3}):P.name==="NotFoundError"?pe.error("No microphone found",{description:"Please connect a microphone to record voice messages",duration:5e3}):P.name==="NotReadableError"?pe.error("Microphone is busy",{description:"Your microphone is already in use by another application",duration:5e3}):pe.error("Failed to access microphone",{description:P.message||"Please check your browser settings",duration:5e3}):pe.error("Failed to access microphone",{description:"Please allow microphone access to send voice messages",duration:5e3}),e()}},_=()=>{y.current&&clearInterval(y.current),b.current&&b.current.getTracks().forEach(P=>P.stop())},C=()=>{m.current&&(i?(m.current.resume(),y.current=setInterval(()=>{d(P=>P+1)},1e3),a(!1)):(m.current.pause(),y.current&&clearInterval(y.current),a(!0)))},j=()=>{m.current&&m.current.state!=="inactive"&&(m.current.stop(),s(!1))},T=()=>{p?t(p,l):(j(),setTimeout(()=>{if(g.current.length>0){const P=new Blob(g.current,{type:"audio/webm"});t(P,l)}},100))},E=()=>{m.current&&m.current.state!=="inactive"&&m.current.stop(),_(),e()},N=P=>{const I=Math.floor(P/60),$=P%60;return`${I}:${$.toString().padStart(2,"0")}`};return u.jsx("div",{className:"bg-surface border-t border-border p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(He,{variant:"ghost",size:"icon",onClick:E,className:"h-10 w-10","aria-label":"Cancel recording",children:u.jsx(no,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1 flex items-center gap-3 bg-destructive/10 rounded-full px-4 py-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[n&&!i&&u.jsx("div",{className:"w-3 h-3 bg-destructive rounded-full animate-pulse"}),u.jsx(to,{className:"w-5 h-5 text-destructive"})]}),u.jsx("div",{className:"flex-1",children:u.jsx("div",{className:"h-8 flex items-center gap-1",children:n&&!i&&u.jsx(u.Fragment,{children:[...Array(20)].map((P,I)=>u.jsx("div",{className:"w-1 bg-destructive rounded-full",style:{height:`${Math.random()*100}%`,animation:`pulse ${.5+Math.random()*.5}s infinite ease-in-out`,animationDelay:`${I*.05}s`}},I))})})}),u.jsx("span",{className:"text-sm font-mono",children:N(l)})]}),n&&u.jsx(He,{variant:"ghost",size:"icon",onClick:C,className:"h-10 w-10","aria-label":i?"Resume recording":"Pause recording",children:i?u.jsx(e1,{className:"w-5 h-5"}):u.jsx(Zb,{className:"w-5 h-5"})}),u.jsx(He,{size:"icon",onClick:T,disabled:l<1,className:"h-10 w-10 rounded-full","aria-label":"Send voice message",children:u.jsx(lu,{className:"w-5 h-5"})})]})})}const cw={Smileys:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Gestures:["","","","","","","","","","","","","","","","","","",""],Hearts:["","","","","","","","","","","","","","","","","","",""],Objects:["","","","","","","","","","","","","","","","","","","","","",""]};function q6({onEmojiSelect:t,trigger:e}){const[n,s]=w.useState(!1),[i,a]=w.useState("Smileys"),l=d=>{t(d),s(!1)};return u.jsxs(K_,{open:n,onOpenChange:s,children:[u.jsx(G_,{asChild:!0,children:e}),u.jsx(q_,{className:"w-80 p-0",align:"start",side:"top",children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("div",{className:"flex gap-1 p-2 border-b border-border overflow-x-auto",children:Object.keys(cw).map(d=>u.jsx(He,{variant:i===d?"secondary":"ghost",size:"sm",onClick:()=>a(d),className:"text-xs whitespace-nowrap",children:d},d))}),u.jsx("div",{className:"grid grid-cols-8 gap-1 p-2 max-h-64 overflow-y-auto",children:cw[i].map(d=>u.jsx("button",{onClick:()=>l(d),className:"text-2xl p-2 hover:bg-[var(--hover-surface)] rounded transition-colors","aria-label":`Select ${d}`,children:d},d))})]})})]})}function Y6({message:t,onCancel:e}){return u.jsxs("div",{className:"bg-white dark:bg-[#2a3942] border-l-4 border-[#00a884] px-4 py-2 flex items-center gap-3",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("div",{className:"w-1 h-full bg-[#00a884] rounded"}),u.jsx("p",{className:"text-[13px] text-[#00a884] font-medium",children:t.sender_id?t.sender?.full_name:"You"})]}),u.jsx("p",{className:"text-[13.5px] text-[#667781] dark:text-[#8696a0] truncate",children:t.type==="image"?" Photo":t.type==="video"?" Video":t.type==="voice"?" Voice message":t.type==="file"?" File":t.body||"Message"})]}),u.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:u.jsx(no,{className:"w-5 h-5 text-[#667781] dark:text-[#8696a0]"})})]})}var Fk="AlertDialog",[J6]=Br(Fk,[$S]),Ur=$S(),Vk=t=>{const{__scopeAlertDialog:e,...n}=t,s=Ur(e);return u.jsx(dm,{...s,...n,modal:!0})};Vk.displayName=Fk;var X6="AlertDialogTrigger",Q6=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,i=Ur(n);return u.jsx(H3,{...i,...s,ref:e})});Q6.displayName=X6;var Z6="AlertDialogPortal",Bk=t=>{const{__scopeAlertDialog:e,...n}=t,s=Ur(e);return u.jsx(fm,{...s,...n})};Bk.displayName=Z6;var e$="AlertDialogOverlay",Uk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,i=Ur(n);return u.jsx(yu,{...i,...s,ref:e})});Uk.displayName=e$;var si="AlertDialogContent",[t$,n$]=J6(si),r$=WR("AlertDialogContent"),zk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:s,...i}=t,a=Ur(n),l=w.useRef(null),d=bt(e,l),p=w.useRef(null);return u.jsx(B3,{contentName:si,titleName:Wk,docsSlug:"alert-dialog",children:u.jsx(t$,{scope:n,cancelRef:p,children:u.jsxs(xu,{role:"alertdialog",...a,...i,ref:d,onOpenAutoFocus:De(i.onOpenAutoFocus,h=>{h.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[u.jsx(r$,{children:s}),u.jsx(o$,{contentRef:l})]})})})});zk.displayName=si;var Wk="AlertDialogTitle",Hk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,i=Ur(n);return u.jsx(e_,{...i,...s,ref:e})});Hk.displayName=Wk;var Kk="AlertDialogDescription",Gk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,i=Ur(n);return u.jsx(t_,{...i,...s,ref:e})});Gk.displayName=Kk;var s$="AlertDialogAction",qk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,i=Ur(n);return u.jsx(hm,{...i,...s,ref:e})});qk.displayName=s$;var Yk="AlertDialogCancel",Jk=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,{cancelRef:i}=n$(Yk,n),a=Ur(n),l=bt(e,i);return u.jsx(hm,{...a,...s,ref:l})});Jk.displayName=Yk;var o$=({contentRef:t})=>{const e=`\`${si}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${si}\` by passing a \`${Kk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${si}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},i$=Vk,a$=Bk,l$=Uk,c$=zk,u$=qk,d$=Jk,f$=Hk,h$=Gk;function Rm({...t}){return u.jsx(i$,{"data-slot":"alert-dialog",...t})}function p$({...t}){return u.jsx(a$,{"data-slot":"alert-dialog-portal",...t})}function m$({className:t,...e}){return u.jsx(l$,{"data-slot":"alert-dialog-overlay",className:rt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Om({className:t,...e}){return u.jsxs(p$,{children:[u.jsx(m$,{}),u.jsx(c$,{"data-slot":"alert-dialog-content",className:rt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function Im({className:t,...e}){return u.jsx("div",{"data-slot":"alert-dialog-header",className:rt("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Mm({className:t,...e}){return u.jsx("div",{"data-slot":"alert-dialog-footer",className:rt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Dm({className:t,...e}){return u.jsx(f$,{"data-slot":"alert-dialog-title",className:rt("text-lg font-semibold",t),...e})}function Lm({className:t,...e}){return u.jsx(h$,{"data-slot":"alert-dialog-description",className:rt("text-muted-foreground text-sm",t),...e})}function $m({className:t,...e}){return u.jsx(u$,{className:rt(qp(),t),...e})}function Xk({className:t,...e}){return u.jsx(d$,{className:rt(qp({variant:"outline"}),t),...e})}function g$({open:t,onOpenChange:e,onAllow:n}){return u.jsx(Rm,{open:t,onOpenChange:e,children:u.jsxs(Om,{children:[u.jsxs(Im,{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:u.jsx(to,{className:"w-6 h-6 text-primary"})}),u.jsx(Dm,{children:"Microphone Access Required"})]}),u.jsx(Lm,{children:"AuroraLink needs access to your microphone to record voice messages."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(Jb,{className:"w-4 h-4 text-info mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"text-sm space-y-2",children:[u.jsx("div",{className:"font-medium",children:"What happens next:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-muted-foreground",children:[u.jsx("li",{children:"Your browser will ask for microphone permission"}),u.jsx("li",{children:'Click "Allow" to enable voice messages'}),u.jsx("li",{children:"You can revoke access anytime in browser settings"})]})]})]})}),u.jsx("div",{className:"bg-warning/10 border border-warning/20 rounded-lg p-3",children:u.jsxs("div",{className:"text-sm text-warning-foreground",children:[u.jsx("strong",{children:"Privacy Note:"})," Your voice is only recorded when you press the microphone button. Recordings are sent directly to the recipient and stored securely."]})})]}),u.jsxs(Mm,{children:[u.jsx(Xk,{children:"Cancel"}),u.jsx($m,{onClick:n,children:"Allow Microphone Access"})]})]})})}function v$({open:t,onOpenChange:e}){return u.jsx(Rm,{open:t,onOpenChange:e,children:u.jsxs(Om,{children:[u.jsxs(Im,{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-destructive/10 flex items-center justify-center",children:u.jsx(Ra,{className:"w-6 h-6 text-destructive"})}),u.jsx(Dm,{children:"Microphone Access Denied"})]}),u.jsx(Lm,{children:"You've denied microphone access. To send voice messages, you need to enable it in your browser settings."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"bg-muted/50 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(t1,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"text-sm space-y-3",children:[u.jsx("div",{className:"font-medium",children:"How to enable microphone access:"}),u.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-foreground mb-1",children:"Chrome / Edge:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[u.jsx("li",{children:"Click the lock icon  in the address bar"}),u.jsx("li",{children:'Find "Microphone" and select "Allow"'}),u.jsx("li",{children:"Refresh the page"})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-foreground mb-1",children:"Firefox:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[u.jsx("li",{children:"Click the permissions icon in the address bar"}),u.jsx("li",{children:"Remove the microphone block (X)"}),u.jsx("li",{children:"Click the mic button again to allow"})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-foreground mb-1",children:"Safari:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[u.jsx("li",{children:"Go to Safari  Settings for This Website"}),u.jsx("li",{children:'Set Microphone to "Allow"'}),u.jsx("li",{children:"Refresh the page"})]})]})]})]})]})}),u.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-3",children:u.jsxs("div",{className:"text-sm text-foreground",children:[u.jsx("strong",{children:"Tip:"})," After changing your browser settings, try clicking the microphone button again."]})})]}),u.jsx(Mm,{children:u.jsx($m,{onClick:()=>e(!1),children:"Got It"})})]})})}function y$(t,e){if(e)return"online";if(!t)return"offline";const n=new Date,s=new Date(t),i=n.getTime()-s.getTime(),a=Math.floor(i/(1e3*60)),l=Math.floor(i/(1e3*60*60*24)),d=h=>h.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return a<1?"last seen just now":a<60?`last seen ${a} ${a===1?"minute":"minutes"} ago`:l===0?`last seen today at ${d(s)}`:l===1?`last seen yesterday at ${d(s)}`:l<7?`last seen ${s.toLocaleDateString("en-US",{weekday:"long"})} at ${d(s)}`:`last seen ${s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:n.getFullYear()!==s.getFullYear()?"numeric":void 0})} at ${d(s)}`}function x$(t,e){if(e)return"online";if(!t)return"";const n=new Date,s=new Date(t),i=n.getTime()-s.getTime(),a=Math.floor(i/(1e3*60)),l=Math.floor(i/(1e3*60*60*24));return a<1?"just now":a<60?`${a}m ago`:l===0?"today":l===1?"yesterday":l<7?s.toLocaleDateString("en-US",{weekday:"short"}):s.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function Qk(t,e,n=!1){const[s,i]=w.useState("");return w.useEffect(()=>{const a=()=>{const d=n?x$(t,e):y$(t,e);i(d)};a();const l=setInterval(a,1e4);return()=>clearInterval(l)},[t,e,n]),s}function w$({date:t}){return u.jsx("div",{className:"flex justify-center my-3",children:u.jsx("div",{className:"bg-[#e1f4fb] px-3 py-1 rounded-lg shadow-sm",children:u.jsx("span",{className:"text-[12.5px] text-[#667781]",children:t})})})}function b$({conversationId:t,currentUser:e,onBack:n,onInitiateCall:s,onViewProfile:i,onDeleteChat:a}){const[l,d]=w.useState(null),[p,h]=w.useState([]),[m,g]=w.useState(!0),[y,b]=w.useState(""),[S,_]=w.useState([]),[C,j]=w.useState(!1),[T,E]=w.useState(!1),[N,P]=w.useState(!1),[I,$]=w.useState(!1),[M,V]=w.useState(!1),[H,Q]=w.useState(null),[Z,ie]=w.useState(null),he=w.useRef(null),be=w.useRef(null),z=w.useRef(null),J=w.useRef(null),R=w.useRef(),W=w.useRef(0),X=w.useRef(!1),L=w.useRef(!0),O=w.useMemo(()=>l?.type==="dm"?l.members?.find(oe=>oe.user_id!==e.id)?.user:null,[l,e.id]),G=Qk(O?.last_seen,O?.is_online||!1,!1),q=oe=>{const Se=new Date(oe);if(isNaN(Se.getTime()))return console.error("Invalid date string:",oe),"TODAY";const Le=new Date,Ye=new Date(Le);return Ye.setDate(Ye.getDate()-1),Se.toDateString()===Le.toDateString()?"TODAY":Se.toDateString()===Ye.toDateString()?"YESTERDAY":Se.toLocaleDateString("en-US",{month:"short",day:"numeric",year:Se.getFullYear()!==Le.getFullYear()?"numeric":void 0}).toUpperCase()},Y=w.useMemo(()=>{const oe=[];let Se="",Le=[];return p.forEach(Ye=>{if(!Ye.created_at){console.warn("Message missing created_at:",Ye);return}const Ct=new Date(Ye.created_at);if(isNaN(Ct.getTime())){console.warn("Message has invalid created_at:",Ye.created_at,Ye);return}const Xe=Ct.toDateString();Xe!==Se?(Le.length>0&&oe.push({date:q(Le[0].created_at),messages:Le}),Se=Xe,Le=[Ye]):Le.push(Ye)}),Le.length>0&&oe.push({date:q(Le[0].created_at),messages:Le}),oe},[p]);w.useEffect(()=>{L.current=!0,ue();const oe=setInterval(async()=>{try{const Se=await di.get(t);if(Se.success&&Se.data){if(Se.fromCache)return;const Le=Se.data.messages||[];h(Ye=>{const Ct=new Set(Ye.map(ot=>ot.id)),Xe=Le.filter(ot=>!Ct.has(ot.id));if(Xe.length>0){const ot=[...Ye,...Xe].sort((Ze,jt)=>new Date(Ze.created_at).getTime()-new Date(jt.created_at).getTime()),Ge=Xe.filter(Ze=>Ze.sender_id!==e.id).map(Ze=>Ze.id);return Ge.length>0&&Vo.markAsRead(Ge),ot}return Ye})}}catch(Se){console.error("Error polling messages:",Se)}},2e3);return()=>{clearInterval(oe)}},[t,e.id]),w.useEffect(()=>{if(L.current&&p.length>0){te(),L.current=!1,W.current=p.length;return}const oe=p.length>W.current,Se=ae();oe&&(Se||X.current)&&te(),W.current=p.length,X.current=!1},[p]);const ae=()=>{if(!be.current)return!0;const{scrollTop:oe,scrollHeight:Se,clientHeight:Le}=be.current;return Se-oe-Le<150},te=()=>{he.current?.scrollIntoView({behavior:"smooth"})},ue=async()=>{try{g(!0);const oe=await di.get(t);if(oe.success&&oe.data){if(d(oe.data.conversation),h(oe.data.messages||[]),oe.fromCache&&pe.info("Using offline data",{description:"Server is not accessible. Showing cached conversation.",duration:3e3}),!oe.fromCache){const Se=oe.data.messages?.filter(Le=>Le.sender_id!==e.id).map(Le=>Le.id)||[];Se.length>0&&Vo.markAsRead(Se)}}else console.error("Failed to load conversation:",oe.error),oe.error?.includes("Network error")||pe.error("Failed to load conversation")}catch(oe){console.error("Error loading conversation:",oe),pe.error("Error loading conversation")}finally{g(!1)}},_e=async()=>{try{if(!navigator.permissions||!navigator.mediaDevices)return!1;const oe=await navigator.permissions.query({name:"microphone"});return oe.state==="granted"?(Q(!0),!0):oe.state==="prompt"?null:(Q(!1),!1)}catch{return console.log("Permissions API not supported, will request on use"),null}},Ke=async()=>{try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(Se=>Se.stop()),Q(!0),$(!1),j(!0),!0}catch(oe){return console.error("Microphone permission denied:",oe),Q(!1),$(!1),oe instanceof Error&&oe.name==="NotAllowedError"?V(!0):oe instanceof Error&&oe.name==="NotFoundError"?pe.error("No microphone found",{description:"Please connect a microphone to record voice messages",duration:5e3}):oe instanceof Error&&oe.name==="NotReadableError"?pe.error("Microphone is busy",{description:"Your microphone is already in use by another application",duration:5e3}):pe.error("Failed to access microphone",{description:"Please check your browser settings and try again",duration:5e3}),!1}},ft=async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){pe.error("Voice recording not supported",{description:"Your browser does not support voice recording"});return}if(H===!0){j(!0);return}await _e()===!0?j(!0):$(!0)},ge=oe=>{b(oe),z.current&&(z.current.style.height="auto",z.current.style.height=Math.min(z.current.scrollHeight,100)+"px"),R.current&&clearTimeout(R.current),oe.trim()&&(Kf.start(t),R.current=setTimeout(()=>{Kf.stop(t)},2e3))},ze=async()=>{if(!y.trim()&&S.length===0||N)return;P(!0);const oe=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Se={id:oe,tempId:oe,conversation_id:t,sender_id:e.id,sender:e,body:y.trim(),type:S.length>0?S[0].type.startsWith("image/")?"image":S[0].type.startsWith("video/")?"video":"file":"text",created_at:new Date().toISOString(),pending:!0,reply_to:Z?.id,reply_to_message:Z||void 0,statuses:[]};h(Xe=>[...Xe,Se]);const Le=y.trim(),Ye=[...S],Ct=Z;b(""),_([]),ie(null),z.current&&(z.current.style.height="auto"),Kf.stop(t),X.current=!0;try{let Xe=[];if(Ye.length>0)for(const Ge of Ye){const Ze=await qc.uploadFile(Ge,"attachment");if(Ze.success&&Ze.data){let jt="file";Ge.type.startsWith("image/")?jt="image":Ge.type.startsWith("audio/")?jt="audio":Ge.type.startsWith("video/")&&(jt="video"),Xe.push({id:Math.random().toString(36).substr(2,9),url:Ze.data.url,type:jt,filename:Ge.name,size:Ge.size,mime_type:Ge.type})}}const ot=await Vo.send(t,Le||"",Xe.length>0?Xe[0].type:"text",Ct?.id,Xe.length>0?Xe:void 0);ot.success&&ot.data?.message?h(Ge=>Ge.map(Ze=>Ze.tempId===oe?{...ot.data.message,pending:!1}:Ze)):(h(Ge=>Ge.map(Ze=>Ze.tempId===oe?{...Ze,pending:!1,failed:!0}:Ze)),pe.error("Failed to send message"))}catch{h(ot=>ot.map(Ge=>Ge.tempId===oe?{...Ge,pending:!1,failed:!0}:Ge)),pe.error("Failed to send message")}finally{P(!1)}},kt=oe=>{oe.key==="Enter"&&!oe.shiftKey&&(oe.preventDefault(),ze())},Pn=oe=>{oe.target.files&&_(Array.from(oe.target.files))},Jt=async oe=>{P(!0);const Se=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Le={id:Se,tempId:Se,conversation_id:t,sender_id:e.id,sender:e,body:"",type:"voice",created_at:new Date().toISOString(),pending:!0,reply_to:Z?.id,reply_to_message:Z||void 0,statuses:[],attachments:[{id:Se,url:URL.createObjectURL(oe),type:"audio",filename:"voice-message.webm",size:oe.size,mime_type:"audio/webm"}]};h(Ct=>[...Ct,Le]);const Ye=Z;ie(null),X.current=!0;try{const Ct=new File([oe],"voice-message.webm",{type:"audio/webm"}),Xe=await qc.uploadFile(Ct,"voice");if(Xe.success&&Xe.data){const ot=await Vo.send(t,"","voice",Ye?.id,[{id:Math.random().toString(36).substr(2,9),url:Xe.data.url,type:"audio",filename:"voice-message.webm",size:oe.size,mime_type:"audio/webm"}]);ot.success&&ot.data?.message?h(Ge=>Ge.map(Ze=>Ze.tempId===Se?{...ot.data.message,pending:!1}:Ze)):(h(Ge=>Ge.map(Ze=>Ze.tempId===Se?{...Ze,pending:!1,failed:!0}:Ze)),pe.error("Failed to send voice message"))}}catch{h(Xe=>Xe.map(ot=>ot.tempId===Se?{...ot,pending:!1,failed:!0}:ot)),pe.error("Failed to send voice message")}finally{P(!1),j(!1)}},It=oe=>{ie(oe),z.current?.focus()},xn=async oe=>{(await Vo.deleteForMe(oe)).success?(pe.success("Message deleted"),h(Le=>Le.filter(Ye=>Ye.id!==oe))):pe.error("Failed to delete message")},zt=async oe=>{(await Vo.deleteForEveryone(oe)).success?(pe.success("Message deleted for everyone"),h(Le=>Le.filter(Ye=>Ye.id!==oe))):pe.error("Failed to delete message")},Wn=oe=>{pe.success("Copied to clipboard")};return m?u.jsx("div",{className:"flex items-center justify-center h-screen bg-[#efeae2]",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-[#00a884] border-t-transparent rounded-full animate-spin mx-auto mb-3"}),u.jsx("p",{className:"text-sm text-[#667781]",children:"Loading..."})]})}):u.jsxs("div",{className:"flex flex-col h-screen bg-[#efeae2]",children:[u.jsxs("header",{className:"flex items-center h-[60px] bg-[#f0f2f5] px-4 gap-3 shadow-sm",children:[u.jsx("button",{onClick:n,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-black/5 transition-colors",children:u.jsx(iu,{className:"w-6 h-6 text-[#54656f]"})}),O&&u.jsxs("button",{onClick:()=>i?.(O,G),className:"flex items-center gap-3 flex-1 min-w-0 hover:bg-black/5 rounded-lg px-2 py-1.5 -ml-2 transition-colors",children:[u.jsx(cn,{src:O.avatar_url,alt:O.full_name,fallbackText:O.full_name,size:"md",className:"w-10 h-10",showOnline:O.is_online}),u.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[u.jsx("div",{className:"font-medium text-[17px] text-[#111b21] truncate",children:O.full_name}),u.jsx("div",{className:"text-[13px] text-[#667781] truncate",children:T?u.jsx("span",{className:"text-[#00a884]",children:"typing..."}):G})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[O&&s&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>s(O,"video"),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-black/5 transition-colors",children:u.jsx(li,{className:"w-5 h-5 text-[#54656f]"})}),u.jsx("button",{onClick:()=>s(O,"voice"),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-black/5 transition-colors",children:u.jsx(br,{className:"w-5 h-5 text-[#54656f]"})})]}),u.jsxs(Dk,{children:[u.jsx(Lk,{asChild:!0,children:u.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-black/5 transition-colors",children:u.jsx(Hp,{className:"w-5 h-5 text-[#54656f]"})})}),u.jsxs($k,{align:"end",className:"w-48",children:[i&&O&&u.jsx(Zo,{onClick:()=>i(O,G),children:"View contact"}),a&&u.jsxs(Zo,{onClick:a,className:"text-destructive",children:[u.jsx(ai,{className:"w-4 h-4 mr-2"}),"Delete chat"]})]})]})]})]}),u.jsxs("div",{ref:be,className:"flex-1 overflow-y-auto px-4 md:px-[8%] py-3",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h100v100H0z' fill='%23efeae2' fill-opacity='.1'/%3E%3Cpath d='M50 0L0 50M100 50L50 100' stroke='%23d1d7db' stroke-width='.5' opacity='.05'/%3E%3C/svg%3E")`,backgroundSize:"412.5px 749.25px",WebkitOverflowScrolling:"touch"},children:[Y.map(oe=>u.jsxs("div",{children:[u.jsx(w$,{date:oe.date}),oe.messages.map((Se,Le)=>{const Ye=Se.sender_id===e.id,Ct=Le>0?oe.messages[Le-1]:null,Xe=Le<oe.messages.length-1?oe.messages[Le+1]:null,ot=!Ct||Ct.sender_id!==Se.sender_id,Ge=!Xe||Xe.sender_id!==Se.sender_id;return u.jsx("div",{className:Ge?"mb-2":"mb-[2px]",children:u.jsx(H6,{message:Se,isSent:Ye,showAvatar:!Ye&&ot,showTimestamp:Ge,currentUserId:e.id,isFirstInGroup:ot,isLastInGroup:Ge,onReply:It,onDeleteForMe:xn,onDeleteForEveryone:Ye?zt:void 0,onCopy:Wn})},Se.tempId||Se.id)})]},`${oe.date}-${oe.messages[0]?.id||oe.messages[0]?.tempId}`)),T&&O&&u.jsx("div",{className:"mb-2",children:u.jsx(K6,{userName:O.full_name})}),u.jsx("div",{ref:he})]}),u.jsxs("div",{className:"bg-[#f0f2f5] px-4 py-2",children:[Z&&u.jsx("div",{className:"mb-2",children:u.jsx(Y6,{message:Z,onCancel:()=>ie(null)})}),S.length>0&&u.jsx("div",{className:"mb-2 p-3 bg-white rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-sm text-[#667781]",children:[S.length," file(s) selected"]}),u.jsx("button",{onClick:()=>_([]),className:"text-[#667781] hover:text-[#111b21]",children:u.jsx(no,{className:"w-5 h-5"})})]})}),u.jsxs("div",{className:"flex items-end gap-2",children:[u.jsx(q6,{onEmojiSelect:oe=>{b(y+oe),z.current?.focus()},trigger:u.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-black/5 transition-colors",children:u.jsx(_R,{className:"w-6 h-6 text-[#54656f]"})})}),u.jsx("input",{ref:J,type:"file",multiple:!0,onChange:Pn,className:"hidden"}),u.jsx("button",{onClick:()=>J.current?.click(),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-black/5 transition-colors",children:u.jsx(cR,{className:"w-6 h-6 text-[#54656f]"})}),u.jsx("div",{className:"flex-1 bg-white rounded-[21px] px-4 py-2 shadow-sm",children:u.jsx("textarea",{ref:z,value:y,onChange:oe=>ge(oe.target.value),onKeyPress:kt,placeholder:"Type a message",className:"w-full resize-none outline-none bg-transparent text-[15px] text-[#111b21] placeholder:text-[#667781] max-h-[100px]",rows:1})}),y.trim()||S.length>0?u.jsx("button",{onClick:ze,disabled:N,className:"w-10 h-10 flex items-center justify-center rounded-full bg-[#00a884] hover:bg-[#00a884]/90 transition-colors disabled:opacity-50",children:u.jsx(lu,{className:"w-5 h-5 text-white"})}):u.jsx("button",{onClick:ft,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-black/5 transition-colors",children:u.jsx(to,{className:"w-6 h-6 text-[#54656f]"})})]})]}),C&&u.jsx(G6,{onRecorded:Jt,onCancel:()=>j(!1)}),u.jsx(g$,{open:I,onConfirm:Ke,onCancel:()=>$(!1)}),u.jsx(v$,{open:M,onClose:()=>V(!1)})]})}function S$({open:t,onOpenChange:e,onUserFound:n,currentUserId:s}){const[i,a]=w.useState(""),[l,d]=w.useState(Xs[0].dialCode),[p,h]=w.useState(""),[m,g]=w.useState(!1),[y,b]=w.useState(null),S=async()=>{if(h(""),b(null),!i||i.trim().length<7){h("Please enter a valid phone number");return}g(!0);try{const j=J4(l,i),T=await lM(),E=await fetch(`https://${nn}.supabase.co/functions/v1/make-server-29f6739b/users/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T||du}`},body:JSON.stringify({phone_number:j})});if(!E.ok){let P="Failed to search user";try{const I=await E.json();P=I.error||I.message||P}catch{P=E.statusText||P}if(E.status===404||P.includes("not found"))h("No user found with this phone number");else throw new Error(P);return}const N=await E.json();if(!N.found||!N.user){h("No user found with this phone number");return}if(N.user.id===s){h("You cannot add yourself");return}b(N.user),pe.success("User found!",{description:`Found ${N.user.full_name}`})}catch(j){console.error("Phone search error:",j),h(j instanceof Error?j.message:"Failed to search user"),pe.error("Search failed",{description:"Please check the phone number and try again"})}finally{g(!1)}},_=()=>{y&&(n(y),e(!1),a(""),b(null))},C=()=>{a(""),h(""),b(null)};return u.jsx(aD,{open:t,onOpenChange:e,children:u.jsxs(u_,{className:"w-[calc(100%-2rem)] max-w-[calc(100%-2rem)] xs:w-[calc(100%-3rem)] xs:max-w-[calc(100%-3rem)] sm:w-full sm:max-w-md p-3 xs:p-4 sm:p-6 gap-3 sm:gap-4 max-h-[90vh] overflow-y-auto",children:[u.jsxs(cD,{className:"space-y-1.5 sm:space-y-2 pr-6",children:[u.jsxs(uD,{className:"flex items-center gap-2 text-sm xs:text-base sm:text-lg",children:[u.jsx(br,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary flex-shrink-0"}),u.jsx("span",{className:"truncate",children:"Find User by Phone"})]}),u.jsx(dD,{className:"text-[11px] xs:text-xs sm:text-sm leading-relaxed",children:"Enter a phone number to find and connect with AuroraLink users"})]}),u.jsxs("div",{className:"space-y-3 xs:space-y-4 sm:space-y-5 py-1 xs:py-2 sm:py-3",children:[y?u.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[u.jsx("div",{className:"rounded-lg border border-success/50 bg-success/10 p-2.5 xs:p-3 sm:p-4 hover:bg-success/15 transition-colors touch-manipulation",children:u.jsxs("div",{className:"flex items-center gap-2.5 xs:gap-3 sm:gap-4",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(cn,{src:y.avatar_url,alt:y.full_name,size:"lg",status:y.is_online?"online":"offline",showBorder:!0})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-medium truncate text-sm sm:text-base",children:y.full_name}),u.jsxs("p",{className:"text-[11px] xs:text-xs sm:text-sm text-muted-foreground truncate",children:["@",y.username]}),y.status_message&&u.jsx("p",{className:"text-[10px] xs:text-[11px] sm:text-xs text-muted-foreground mt-0.5 sm:mt-1 line-clamp-1",children:y.status_message})]})]})}),u.jsxs("div",{className:"flex flex-col xs:flex-row gap-2",children:[u.jsxs(He,{onClick:_,className:"flex-1 h-11 sm:h-10 touch-manipulation order-1 text-sm sm:text-base",children:[u.jsx(r1,{className:"mr-1.5 sm:mr-2 h-4 w-4 flex-shrink-0"}),u.jsx("span",{className:"truncate",children:"Start Chat"})]}),u.jsx(He,{onClick:C,variant:"outline",className:"h-11 sm:h-10 touch-manipulation order-2 xs:w-auto text-sm sm:text-base",children:u.jsx("span",{className:"truncate",children:"Search Again"})})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block mb-2 sm:mb-3 text-xs sm:text-sm font-medium px-0.5",children:"Phone Number"}),u.jsx(J_,{value:i,dialCode:l,onChange:(j,T)=>{a(j),d(T),h("")},error:p,disabled:m,autoFocus:!0})]}),u.jsx("div",{className:"flex gap-2 pt-1",children:u.jsx(He,{onClick:S,disabled:m||!i,className:"flex-1 h-11 sm:h-10 touch-manipulation text-sm sm:text-base",children:m?u.jsxs(u.Fragment,{children:[u.jsx(Xb,{className:"mr-1.5 sm:mr-2 h-4 w-4 animate-spin flex-shrink-0"}),u.jsx("span",{className:"truncate",children:"Searching..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(au,{className:"mr-1.5 sm:mr-2 h-4 w-4 flex-shrink-0"}),u.jsx("span",{className:"truncate",children:"Search"})]})})})]}),u.jsx("div",{className:"rounded-lg border border-border bg-muted/30 p-2 xs:p-2.5 sm:p-3",children:u.jsx("p",{className:"text-[10px] xs:text-[11px] sm:text-xs text-muted-foreground leading-relaxed",children:" Search for users by their registered phone number"})})]})]})})}function _$({user:t}){const e=Qk(t.last_seen,t.is_online,!0);return e?u.jsx("span",{className:"text-xs text-muted-foreground",children:e}):null}function k$({currentUser:t,onBack:e,onConversationCreated:n}){const[s,i]=w.useState(""),[a,l]=w.useState([]),[d,p]=w.useState(""),[h,m]=w.useState(!1),[g,y]=w.useState(!1),[b,S]=w.useState([]),_=b.filter(N=>{if(!s)return!0;const P=s.toLowerCase();return N.full_name.toLowerCase().includes(P)||N.username.toLowerCase().includes(P)}),C=async N=>{b.some(P=>P.id===N.id)||S(P=>[N,...P]),m(!0);try{const P=await di.create("dm",[N.id]);P.success&&P.data?.conversation?(pe.success("Chat started!",{description:`You can now message ${N.full_name}`}),n(P.data.conversation.id)):pe.error("Failed to create chat",{description:P.error||"Please try again"})}catch(P){console.error("Failed to create conversation:",P),pe.error("Failed to create chat",{description:"Please try again"}),j(N.id)}finally{m(!1)}},j=N=>{l(P=>P.includes(N)?P.filter(I=>I!==N):[...P,N])},T=async()=>{if(!(a.length===0||h)){m(!0);try{const N=a.length>1,P=await di.create(N?"group":"dm",a,N?d||"New Group":void 0);P.success&&P.data?.conversation&&n(P.data.conversation.id)}catch(N){console.error("Failed to create conversation:",N)}finally{m(!1)}}},E=a.length>1;return u.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[u.jsxs("div",{className:"bg-surface border-b border-border px-4 py-3",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(He,{variant:"ghost",size:"icon",onClick:e,"aria-label":"Back",children:u.jsx(iu,{className:"w-5 h-5"})}),u.jsx("h2",{children:"New Chat"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx(au,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),u.jsx(xr,{type:"search",placeholder:"Search contacts...",value:s,onChange:N=>i(N.target.value),className:"pl-10"})]}),u.jsxs(He,{variant:"outline",onClick:()=>y(!0),className:"w-full",size:"sm",children:[u.jsx(br,{className:"w-4 h-4 mr-2"}),"Find by Phone Number"]})]}),E&&u.jsxs("div",{className:"mt-4",children:[u.jsx(fa,{htmlFor:"groupName",children:"Group Name"}),u.jsx(xr,{id:"groupName",type:"text",value:d,onChange:N=>p(N.target.value),placeholder:"Enter group name...",className:"mt-2"})]})]}),a.length>0&&u.jsxs("div",{className:"bg-muted px-4 py-3 border-b border-border",children:[u.jsxs("p",{className:"text-sm mb-2",children:["Selected: ",a.length," ",a.length===1?"person":"people"]}),u.jsx("div",{className:"flex gap-2 overflow-x-auto",children:a.map(N=>{const P=b.find(I=>I.id===N);return P?u.jsxs("button",{onClick:()=>j(N),className:"flex flex-col items-center gap-1.5 p-2 rounded-lg bg-background hover:bg-surface transition-colors",children:[u.jsx(cn,{src:P.avatar_url,alt:P.full_name,size:"md",showBorder:!0}),u.jsx("span",{className:"text-xs truncate max-w-[60px]",children:P.full_name.split(" ")[0]})]},N):null})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:_.length>0?u.jsx("div",{className:"p-2",children:_.map(N=>{const P=a.includes(N.id);return u.jsxs("button",{onClick:()=>j(N.id),className:`w-full flex items-center gap-4 p-3.5 rounded-lg transition-all duration-200 ${P?"bg-primary/10 ring-2 ring-primary/30":"hover:bg-[var(--hover-surface)]"}`,children:[u.jsx(cn,{src:N.avatar_url,alt:N.full_name,size:"lg",status:N.is_online?"online":"offline",showBorder:!0}),u.jsxs("div",{className:"flex-1 text-left min-w-0",children:[u.jsx("h4",{className:"truncate",children:N.full_name}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(_$,{user:N}),N.status_message&&!N.is_online&&u.jsxs("span",{className:"text-sm text-muted-foreground truncate",children:[" ",N.status_message]}),!N.status_message&&!N.is_online&&u.jsxs("span",{className:"text-sm text-muted-foreground truncate",children:["@",N.username]})]})]}),P&&u.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center",children:u.jsx(r1,{className:"w-4 h-4 text-primary-foreground"})})]},N.id)})}):u.jsx(op,{icon:br,title:s?"No contacts found":"No contacts yet",description:s?"Try a different search term":"Use 'Find by Phone Number' to add contacts and start chatting"})}),a.length>0&&u.jsx("div",{className:"p-4 border-t border-border bg-surface",children:u.jsx(He,{onClick:T,disabled:h,className:"w-full",size:"lg",children:h?"Creating...":E?"Create Group":"Start Chat"})}),u.jsx(S$,{open:g,onOpenChange:y,onUserFound:C,currentUserId:t.id})]})}function C$(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Pu="Switch",[j$]=Br(Pu),[E$,N$]=j$(Pu),Zk=w.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:a,required:l,disabled:d,value:p="on",onCheckedChange:h,form:m,...g}=t,[y,b]=w.useState(null),S=bt(e,E=>b(E)),_=w.useRef(!1),C=y?m||!!y.closest("form"):!0,[j,T]=Ga({prop:i,defaultProp:a??!1,onChange:h,caller:Pu});return u.jsxs(E$,{scope:n,checked:j,disabled:d,children:[u.jsx(Qe.button,{type:"button",role:"switch","aria-checked":j,"aria-required":l,"data-state":rC(j),"data-disabled":d?"":void 0,disabled:d,value:p,...g,ref:S,onClick:De(t.onClick,E=>{T(N=>!N),C&&(_.current=E.isPropagationStopped(),_.current||E.stopPropagation())})}),C&&u.jsx(nC,{control:y,bubbles:!_.current,name:s,value:p,checked:j,required:l,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});Zk.displayName=Pu;var eC="SwitchThumb",tC=w.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,i=N$(eC,n);return u.jsx(Qe.span,{"data-state":rC(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})});tC.displayName=eC;var T$="SwitchBubbleInput",nC=w.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:s=!0,...i},a)=>{const l=w.useRef(null),d=bt(l,a),p=C$(n),h=__(e);return w.useEffect(()=>{const m=l.current;if(!m)return;const g=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(g,"checked").set;if(p!==n&&b){const S=new Event("click",{bubbles:s});b.call(m,n),m.dispatchEvent(S)}},[p,n,s]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:d,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nC.displayName=T$;function rC(t){return t?"checked":"unchecked"}var P$=Zk,A$=tC;function lh({className:t,...e}){return u.jsx(P$,{"data-slot":"switch",className:rt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:u.jsx(A$,{"data-slot":"switch-thumb",className:rt("bg-card pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function R$({currentUser:t,onBack:e,onUserUpdate:n}){const[s,i]=w.useState(t.avatar_url),[a,l]=w.useState(aw()),[d,p]=w.useState(!1),[h,m]=w.useState(!1),[g,y]=w.useState(t.full_name),[b,S]=w.useState(t.status_message||t.status||"Hey there! I am using AuroraLink."),[_,C]=w.useState(!1),[j,T]=w.useState(()=>{const z=localStorage.getItem("soundEnabled");return z!==null?JSON.parse(z):!0}),[E,N]=w.useState(()=>{const z=localStorage.getItem("readReceipts");return z!==null?JSON.parse(z):!0}),[P,I]=w.useState(()=>{const z=localStorage.getItem("lastSeen");return z!==null?JSON.parse(z):!0}),[$,M]=w.useState(()=>localStorage.getItem("profilePhotoVisibility")||"Everyone");w.useEffect(()=>{const J=setInterval(()=>{l(aw())},1e3);return()=>clearInterval(J)},[]);const V=async z=>{const J=z.target.files?.[0];if(!J)return;C(!0);const R=await qc.uploadFile(J,"avatar");R.success&&R.data?.url&&(i(R.data.url),(await Gf.update({avatar_url:R.data.url})).success&&(n({...t,avatar_url:R.data.url}),pe.success("Profile photo updated"))),C(!1)},H=async()=>{g.trim()&&g!==t.full_name&&(await Gf.update({full_name:g})).success&&(n({...t,full_name:g}),pe.success("Name updated")),p(!1)},Q=async()=>{const z=t.status_message||t.status||"Hey there! I am using AuroraLink.";b!==z&&(await Gf.update({status_message:b})).success&&(n({...t,status:b,status_message:b,status_updated_at:new Date().toISOString()}),pe.success("About updated")),m(!1)},Z=z=>{T(z),localStorage.setItem("soundEnabled",JSON.stringify(z))},ie=z=>{N(z),localStorage.setItem("readReceipts",JSON.stringify(z))},he=z=>{I(z),localStorage.setItem("lastSeen",JSON.stringify(z))},be=z=>{M(z),localStorage.setItem("profilePhotoVisibility",z)};return u.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[u.jsxs("div",{className:"bg-primary px-4 py-4 flex items-center gap-4 shadow-sm",children:[u.jsx(He,{variant:"ghost",size:"icon",onClick:e,className:"text-primary-foreground hover:bg-primary-foreground/10","aria-label":"Back",children:u.jsx(iu,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-primary-foreground text-xl",children:"Settings"})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[u.jsx("div",{className:"bg-surface px-6 py-8",children:u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsxs("div",{className:"relative",children:[u.jsx(cn,{src:s,alt:t.full_name,size:"2xl",showBorder:!0}),u.jsxs("label",{className:"absolute bottom-0 right-0 p-3 bg-gradient-to-br from-accent to-primary text-white rounded-full cursor-pointer hover:shadow-xl transition-all shadow-lg hover:scale-110",children:[u.jsx(Yb,{className:"w-5 h-5"}),u.jsx("input",{type:"file",accept:"image/*",onChange:V,className:"hidden",disabled:_})]}),_&&u.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center",children:u.jsx("div",{className:"w-8 h-8 border-3 border-white/30 border-t-white rounded-full animate-spin"})})]}),u.jsxs("div",{className:"flex-1",children:[d?u.jsx("input",{type:"text",value:g,onChange:z=>y(z.target.value),onBlur:H,onKeyDown:z=>z.key==="Enter"&&H(),className:"w-full bg-transparent border-b-2 border-primary outline-none pb-1",autoFocus:!0}):u.jsx("h2",{className:"cursor-pointer hover:text-primary transition-colors",onClick:()=>p(!0),children:t.full_name}),h?u.jsx("input",{type:"text",value:b,onChange:z=>S(z.target.value),onBlur:Q,onKeyDown:z=>z.key==="Enter"&&Q(),placeholder:"Hey there! I am using AuroraLink.",className:"w-full bg-transparent border-b border-muted-foreground outline-none text-sm text-muted-foreground mt-1",autoFocus:!0}):u.jsx("p",{className:"text-sm text-muted-foreground cursor-pointer hover:text-primary transition-colors mt-1",onClick:()=>m(!0),children:t.status_message||t.status||"Hey there! I am using AuroraLink."})]})]})}),u.jsxs("div",{className:"mt-6",children:[u.jsx("div",{className:"px-6 py-2",children:u.jsx("p",{className:"text-sm text-primary",children:"Account"})}),u.jsxs("div",{className:"bg-surface",children:[u.jsxs("div",{className:"px-6 py-4 flex items-center gap-4 border-b border-border",children:[u.jsx(br,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),u.jsx("p",{className:"mt-0.5",children:t.phone_number||"Not set"})]})]}),u.jsxs("div",{className:"px-6 py-4 flex items-center gap-4 border-b border-border",children:[u.jsx(Qb,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),u.jsx("p",{className:"mt-0.5",children:t.email})]})]}),u.jsxs("div",{className:"px-6 py-4 flex items-center gap-4",children:[u.jsx(s1,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),u.jsxs("p",{className:"mt-0.5",children:["@",t.username]})]})]})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("div",{className:"px-6 py-2",children:u.jsx("p",{className:"text-sm text-primary",children:"Notifications"})}),u.jsxs("div",{className:"bg-surface",children:[u.jsxs("div",{className:"px-6 py-4 flex items-center gap-4 border-b border-border",children:[u.jsx(TA,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{children:"Browser Notifications"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:a==="granted"?"Enabled":a==="denied"?"Blocked in browser settings":"Not enabled"})]}),a!=="granted"&&a!=="denied"&&u.jsx(He,{size:"sm",onClick:async()=>{await lL()&&(pe.success("Notifications enabled"),l("granted"))},children:"Enable"})]}),u.jsxs("div",{className:"px-6 py-4 flex items-center gap-4",children:[u.jsx($R,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{children:"Sound"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:"Play sound for messages"})]}),u.jsx(lh,{checked:j,onCheckedChange:Z})]})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("div",{className:"px-6 py-2",children:u.jsx("p",{className:"text-sm text-primary",children:"Privacy"})}),u.jsxs("div",{className:"bg-surface",children:[u.jsxs("div",{className:"px-6 py-4 flex items-center gap-4 border-b border-border",children:[u.jsx(Ys,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{children:"Read Receipts"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:"Show when you've read messages"})]}),u.jsx(lh,{checked:E,onCheckedChange:ie})]}),u.jsxs("div",{className:"px-6 py-4 flex items-center gap-4 border-b border-border",children:[u.jsx(Rh,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{children:"Last Seen"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:"Show when you were last active"})]}),u.jsx(lh,{checked:P,onCheckedChange:he})]}),u.jsxs("button",{className:"w-full px-6 py-4 flex items-center gap-4 hover:bg-[var(--hover-surface)] transition-colors",onClick:()=>{const z=["Everyone","My Contacts","Nobody"],J=z.indexOf($),R=z[(J+1)%z.length];be(R)},children:[u.jsx(Oh,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("p",{children:"Profile Photo"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:$})]}),u.jsx(If,{className:"w-5 h-5 text-muted-foreground"})]})]})]}),u.jsxs("div",{className:"mt-6 mb-6",children:[u.jsx("div",{className:"px-6 py-2",children:u.jsx("p",{className:"text-sm text-primary",children:"About"})}),u.jsxs("div",{className:"bg-surface",children:[u.jsx("div",{className:"px-6 py-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Jb,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{children:"Version"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:"AuroraLink v1.0.0"})]})]})}),u.jsxs("button",{className:"w-full px-6 py-4 flex items-center gap-4 hover:bg-[var(--hover-surface)] transition-colors border-b border-border",children:[u.jsx("div",{className:"w-5"}),u.jsx("p",{className:"flex-1 text-left",children:"Terms of Service"}),u.jsx(If,{className:"w-5 h-5 text-muted-foreground"})]}),u.jsxs("button",{className:"w-full px-6 py-4 flex items-center gap-4 hover:bg-[var(--hover-surface)] transition-colors",children:[u.jsx("div",{className:"w-5"}),u.jsx("p",{className:"flex-1 text-left",children:"Privacy Policy"}),u.jsx(If,{className:"w-5 h-5 text-muted-foreground"})]})]})]}),u.jsx("div",{className:"px-6 py-4 text-center text-sm text-muted-foreground",children:" 2024 AuroraLink. All rights reserved."})]})]})}function O$({callType:t,recipientUser:e,currentUser:n,isInitiator:s,onEndCall:i,onCallConnected:a,onCallFailed:l,peerConnection:d,localStream:p,remoteStream:h}){const[m,g]=w.useState(!1),[y,b]=w.useState(!1),[S,_]=w.useState(!1),[C,j]=w.useState(0),[T,E]=w.useState("connecting"),N=w.useRef(null),P=w.useRef(null),I=w.useRef(null);w.useEffect(()=>{p&&N.current&&(N.current.srcObject=p)},[p]),w.useEffect(()=>(h&&P.current&&(P.current.srcObject=h,E("connected"),a?.(),I.current=setInterval(()=>{j(Z=>Z+1)},1e3)),()=>{I.current&&clearInterval(I.current)}),[h,a]),w.useEffect(()=>{s&&T==="connecting"&&E("ringing")},[s,T]);const $=()=>{p&&(p.getAudioTracks().forEach(Z=>{Z.enabled=!Z.enabled}),g(!m))},M=()=>{p&&t==="video"&&(p.getVideoTracks().forEach(Z=>{Z.enabled=!Z.enabled}),b(!y))},V=()=>{document.fullscreenElement?(document.exitFullscreen(),_(!1)):(document.documentElement.requestFullscreen(),_(!0))},H=Z=>{const ie=Math.floor(Z/60),he=Z%60;return`${ie.toString().padStart(2,"0")}:${he.toString().padStart(2,"0")}`},Q=()=>{switch(T){case"connecting":return"Connecting...";case"ringing":return"Ringing...";case"connected":return H(C);default:return""}};return u.jsxs("div",{className:"h-screen w-screen bg-gradient-to-br from-surface via-background to-muted flex flex-col items-center justify-center relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 opacity-30 pointer-events-none",children:[u.jsx(ee.div,{className:"absolute top-20 left-20 w-96 h-96 bg-primary/20 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),u.jsx(ee.div,{className:"absolute bottom-20 right-20 w-96 h-96 bg-accent/20 rounded-full blur-3xl",animate:{scale:[1.2,1,1.2],opacity:[.5,.3,.5]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]}),t==="video"?u.jsxs("div",{className:"w-full h-full relative",children:[u.jsx("div",{className:"w-full h-full bg-black relative",children:h?u.jsx("video",{ref:P,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}):u.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[u.jsx(cn,{src:e.avatar_url,alt:e.full_name,fallbackText:e.full_name,size:"2xl",className:"mb-6"}),u.jsx("h2",{className:"text-white text-2xl mb-2",children:e.full_name}),u.jsx("p",{className:"text-white/70",children:Q()}),T==="ringing"&&u.jsx(ee.div,{className:"mt-8 flex gap-2",initial:{opacity:0},animate:{opacity:1},children:[0,1,2].map(Z=>u.jsx(ee.div,{className:"w-3 h-3 rounded-full bg-white/50",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:Z*.2}},Z))})]})}),p&&!y&&u.jsx(ee.div,{className:"absolute top-4 right-4 w-40 h-52 rounded-2xl overflow-hidden shadow-2xl border-2 border-white/20 bg-black",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3},drag:!0,dragConstraints:{top:0,left:-200,right:0,bottom:400},children:u.jsx("video",{ref:N,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover scale-x-[-1]"})}),u.jsx("div",{className:"absolute top-0 left-0 right-0 p-6 bg-gradient-to-b from-black/60 to-transparent",children:u.jsxs("div",{className:"flex items-center justify-between text-white",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(cn,{src:e.avatar_url,alt:e.full_name,fallbackText:e.full_name,size:"sm"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium",children:e.full_name}),u.jsx("p",{className:"text-xs text-white/70",children:Q()})]})]}),u.jsx(He,{variant:"ghost",size:"icon",onClick:V,className:"text-white hover:bg-white/10",children:S?u.jsx(aR,{className:"w-5 h-5"}):u.jsx(nR,{className:"w-5 h-5"})})]})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 bg-gradient-to-t from-black/60 to-transparent",children:u.jsxs("div",{className:"flex items-center justify-center gap-4",children:[u.jsx(ee.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:u.jsx(He,{variant:m?"destructive":"secondary",size:"icon",onClick:$,className:"h-14 w-14 rounded-full shadow-lg","aria-label":m?"Unmute":"Mute",children:m?u.jsx(B0,{className:"w-6 h-6"}):u.jsx(to,{className:"w-6 h-6"})})}),u.jsx(ee.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:u.jsx(He,{variant:y?"destructive":"secondary",size:"icon",onClick:M,className:"h-14 w-14 rounded-full shadow-lg","aria-label":y?"Turn on camera":"Turn off camera",children:y?u.jsx(MR,{className:"w-6 h-6"}):u.jsx(li,{className:"w-6 h-6"})})}),u.jsx(ee.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:u.jsx(He,{variant:"destructive",size:"icon",onClick:i,className:"h-16 w-16 rounded-full shadow-lg bg-red-500 hover:bg-red-600","aria-label":"End call",children:u.jsx(Ih,{className:"w-7 h-7"})})})]})})]}):u.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center gap-8 p-8",children:[u.jsxs(ee.div,{animate:{scale:T==="ringing"?[1,1.05,1]:1},transition:{duration:2,repeat:T==="ringing"?1/0:0,ease:"easeInOut"},className:"relative",children:[u.jsx(cn,{src:e.avatar_url,alt:e.full_name,fallbackText:e.full_name,size:"2xl",className:"shadow-2xl"}),T==="ringing"&&u.jsx(ee.div,{className:"absolute inset-0 rounded-full border-4 border-primary",animate:{scale:[1,1.3,1],opacity:[.8,0,.8]},transition:{duration:2,repeat:1/0,ease:"easeOut"}})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-3xl mb-2",children:e.full_name}),u.jsx("p",{className:"text-muted-foreground text-lg",children:Q()})]}),T==="ringing"&&u.jsx(ee.div,{className:"flex gap-2",initial:{opacity:0},animate:{opacity:1},children:[0,1,2].map(Z=>u.jsx(ee.div,{className:"w-3 h-3 rounded-full bg-primary",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:Z*.2}},Z))}),u.jsxs("div",{className:"flex items-center gap-6 mt-8",children:[u.jsx(ee.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:u.jsx(He,{variant:m?"destructive":"secondary",size:"icon",onClick:$,className:"h-16 w-16 rounded-full shadow-lg","aria-label":m?"Unmute":"Mute",children:m?u.jsx(B0,{className:"w-7 h-7"}):u.jsx(to,{className:"w-7 h-7"})})}),u.jsx(ee.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:u.jsx(He,{variant:"destructive",size:"icon",onClick:i,className:"h-20 w-20 rounded-full shadow-2xl bg-red-500 hover:bg-red-600","aria-label":"End call",children:u.jsx(Ih,{className:"w-8 h-8"})})})]}),p&&u.jsx("video",{ref:N,autoPlay:!0,playsInline:!0,muted:!0,className:"hidden"})]})]})}function I$({userStoriesList:t,initialUserIndex:e,currentUser:n,onClose:s,onRefresh:i}){const[a,l]=w.useState(e),[d,p]=w.useState(0),[h,m]=w.useState(!1),[g,y]=w.useState(0),[b,S]=w.useState(""),[_,C]=w.useState(!1),[j,T]=w.useState(!1),[E,N]=w.useState([]),[P,I]=w.useState(0),[$,M]=w.useState(!1),[V,H]=w.useState(!1),[Q,Z]=w.useState(0),ie=w.useRef(null),he=w.useRef(Date.now()),be=w.useRef(null),z=w.useRef(null),J=t[a],R=J?.stories[d],W=J?.user.id===n.id,X=5e3,L=ge=>{const ze=new Date(ge).getTime(),kt=Date.now(),Jt=ze+1440*60*1e3-kt;if(Jt<=0)return"Expired";const It=Math.floor(Jt/(3600*1e3)),xn=Math.floor(Jt%(3600*1e3)/(60*1e3));return It>0?`${It}h ${xn}m left`:xn>0?`${xn}m left`:"Expiring soon"};w.useEffect(()=>{M(!1),H(!1),y(0)},[R?.id]),w.useEffect(()=>{(async()=>{if(R&&!W){const ze=await rr.view(R.id);ze.success?console.log(`[Story]  View recorded for story ${R.id}`):console.error("[Story]  Failed to record view:",ze.error)}R&&W&&ae()})()},[R?.id,W]),w.useEffect(()=>{if(h||!R||R.type==="image"&&!$||R.type==="video"&&!V)return;he.current=Date.now();const ge=()=>{const ze=Date.now()-he.current,kt=Math.min(ze/X*100,100);y(kt),kt>=100?O():ie.current=setTimeout(ge,16)};return ie.current=setTimeout(ge,16),()=>{ie.current&&clearTimeout(ie.current)}},[R?.id,h,$,V]);const O=()=>{d<J.stories.length-1?(p(d+1),y(0)):a<t.length-1?(l(a+1),p(0),y(0)):s()},G=()=>{if(d>0)p(d-1),y(0);else if(a>0){const ge=a-1;l(ge),p(t[ge].stories.length-1),y(0)}},q=async()=>{if(!b.trim()||!R)return;(await rr.reply(R.id,b.trim())).success?(pe.success("Reply sent",{description:`Your message was sent to ${J.user.full_name}`,duration:2e3}),S(""),z.current&&z.current.blur()):pe.error("Failed to send reply")},Y=async()=>{if(!R||!W)return;(await rr.delete(R.id)).success?(pe.success("Story deleted"),i(),s()):pe.error("Failed to delete story")},ae=async()=>{if(!R||!W)return;const ge=await rr.getViews(R.id);ge.success&&ge.data?.views&&I(ge.data.views.length)},te=async()=>{if(!R||!W)return;const ge=await rr.getViews(R.id);ge.success&&ge.data?.views&&(N(ge.data.views),I(ge.data.views.length),C(!0),m(!0))},ue=ge=>{const ze="touches"in ge?ge.touches[0].clientX:ge.clientX,kt=ge.currentTarget.getBoundingClientRect(),Pn=ze-kt.left,Jt=kt.width/3;Pn<Jt?G():Pn>kt.width-Jt&&O()},_e=ge=>{Z(ge.touches[0].clientY),m(!0)},Ke=ge=>{const ze=ge.changedTouches[0].clientY;Q-ze>50&&W?te():m(!1)},ft=async ge=>{if(!R)return;(await rr.reply(R.id,ge)).success&&pe.success("Reaction sent",{icon:ge,duration:1500})};return R?u.jsxs("div",{className:"fixed inset-0 z-50 bg-black overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 z-30 flex gap-1 p-2 pt-safe",children:J.stories.map((ge,ze)=>u.jsx("div",{className:"flex-1 h-[3px] bg-white/30 rounded-full overflow-hidden backdrop-blur-sm",children:u.jsx(ee.div,{className:"h-full bg-white shadow-sm",initial:{width:0},animate:{width:ze<d?"100%":ze===d?`${g}%`:"0%"},transition:{duration:.1,ease:"linear"}})},ze))}),u.jsxs("div",{className:"absolute top-0 left-0 right-0 z-30 pt-safe",children:[u.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gradient-to-b from-black/70 via-black/40 to-transparent backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[u.jsxs("div",{className:"relative",children:[u.jsx(cn,{user:J.user,size:"sm",showBorder:!1}),J.user.is_online&&!W&&u.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-success rounded-full border-2 border-black"})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-white font-semibold text-[15px] truncate leading-tight",children:W?"Your story":J.user.full_name}),u.jsxs("p",{className:"text-white/80 text-xs leading-tight",children:[new Date(R.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),"  ",L(R.created_at)]})]})]}),u.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[W&&u.jsx("button",{onClick:()=>T(!j),className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/10 active:bg-white/20 transition-colors",children:u.jsx(Hp,{className:"w-5 h-5 text-white"})}),u.jsx("button",{onClick:s,className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/10 active:bg-white/20 transition-colors",children:u.jsx(no,{className:"w-5 h-5 text-white"})})]})]}),u.jsx(va,{children:j&&W&&u.jsx(ee.div,{initial:{opacity:0,scale:.95,y:-5},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-5},transition:{duration:.15},className:"absolute top-full right-3 mt-1 bg-surface rounded-2xl shadow-2xl overflow-hidden min-w-[180px] border border-border/50",onClick:()=>T(!1),children:u.jsxs("button",{onClick:ge=>{ge.stopPropagation(),T(!1),Y()},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-hover-destructive transition-colors text-left text-destructive",children:[u.jsx(ai,{className:"w-[18px] h-[18px]"}),u.jsx("span",{className:"text-[15px] font-medium",children:"Delete"})]})})})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center select-none",onClick:ue,onTouchStart:_e,onTouchEnd:Ke,onMouseDown:()=>m(!0),onMouseUp:()=>m(!1),children:u.jsx(va,{mode:"wait",children:u.jsxs(ee.div,{initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.03},transition:{duration:.2,ease:[.4,0,.2,1]},className:"w-full h-full flex items-center justify-center",children:[R.type==="image"&&u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsx("img",{src:R.media_url,alt:"Story",className:"max-w-full max-h-full w-auto h-auto object-contain",onLoad:()=>M(!0),onError:()=>M(!0),style:{imageRendering:"high-quality",display:"block",margin:"0 auto"}})}),R.type==="video"&&u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsx("video",{ref:be,src:R.media_url,className:"max-w-full max-h-full w-auto h-auto object-contain",autoPlay:!0,muted:!0,playsInline:!0,onLoadedData:()=>H(!0),onError:()=>H(!0),style:{display:"block",margin:"0 auto"}})}),R.type==="text"&&u.jsx("div",{className:"w-full h-full flex items-center justify-center px-8 py-12",style:{background:R.background_color||"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:u.jsx("p",{className:"text-white text-[32px] leading-relaxed font-medium text-center max-w-lg px-4",children:R.text_content})}),R.caption&&u.jsx("div",{className:"absolute bottom-24 left-0 right-0 px-4",children:u.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-black/50 backdrop-blur-xl rounded-2xl px-4 py-3 max-w-md mx-auto border border-white/10",children:u.jsx("p",{className:"text-white text-center text-[15px] leading-relaxed",children:R.caption})})})]},R.id)})}),W&&P>0&&!_&&u.jsxs(ee.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:te,className:"absolute bottom-20 left-1/2 -translate-x-1/2 z-30 bg-black/60 backdrop-blur-xl rounded-full px-5 py-2.5 flex items-center gap-2 hover:bg-black/70 active:scale-95 transition-all border border-white/10 shadow-lg",children:[u.jsx(Oh,{className:"w-[18px] h-[18px] text-white"}),u.jsxs("span",{className:"text-white font-medium text-[15px]",children:[P," ",P===1?"view":"views"]}),u.jsx(LA,{className:"w-4 h-4 text-white/60"})]}),!W&&!_&&u.jsxs("div",{className:"absolute bottom-20 right-4 z-30 flex flex-col gap-2",children:[u.jsx(ee.button,{whileTap:{scale:.9},onClick:()=>ft(""),className:"w-12 h-12 rounded-full bg-black/60 backdrop-blur-xl flex items-center justify-center hover:bg-black/70 active:scale-95 transition-all border border-white/10 shadow-lg",children:u.jsx("span",{className:"text-2xl",children:""})}),u.jsx(ee.button,{whileTap:{scale:.9},onClick:()=>ft(""),className:"w-12 h-12 rounded-full bg-black/60 backdrop-blur-xl flex items-center justify-center hover:bg-black/70 active:scale-95 transition-all border border-white/10 shadow-lg",children:u.jsx("span",{className:"text-2xl",children:""})}),u.jsx(ee.button,{whileTap:{scale:.9},onClick:()=>ft(""),className:"w-12 h-12 rounded-full bg-black/60 backdrop-blur-xl flex items-center justify-center hover:bg-black/70 active:scale-95 transition-all border border-white/10 shadow-lg",children:u.jsx("span",{className:"text-2xl",children:""})})]}),!W&&!_&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-30 pb-safe",children:u.jsx("div",{className:"px-4 py-3 bg-gradient-to-t from-black/70 via-black/50 to-transparent backdrop-blur-sm",children:u.jsxs("div",{className:"flex items-center gap-2 max-w-2xl mx-auto",children:[u.jsx("div",{className:"flex-1 relative",children:u.jsx(xr,{ref:z,value:b,onChange:ge=>S(ge.target.value),placeholder:"Send message",className:"bg-white/15 backdrop-blur-xl border-white/20 text-white placeholder:text-white/60 rounded-full h-12 px-5 pr-12 focus:bg-white/20 focus:border-white/30 transition-all shadow-lg text-[15px]",onKeyDown:ge=>{ge.key==="Enter"&&!ge.shiftKey&&(ge.preventDefault(),q())},onFocus:()=>m(!0),onBlur:()=>m(!1)})}),b.trim()?u.jsx(ee.button,{initial:{scale:0},animate:{scale:1},exit:{scale:0},whileTap:{scale:.9},onClick:q,className:"w-12 h-12 rounded-full bg-primary hover:bg-primary/90 active:bg-primary/80 flex items-center justify-center transition-all shadow-lg flex-shrink-0",children:u.jsx(lu,{className:"w-5 h-5 text-white"})}):u.jsx(ee.button,{whileTap:{scale:.9},onClick:()=>ft(""),className:"w-12 h-12 rounded-full bg-white/15 backdrop-blur-xl hover:bg-white/20 active:bg-white/25 flex items-center justify-center transition-all shadow-lg flex-shrink-0 border border-white/20",children:u.jsx(HA,{className:"w-5 h-5 text-white"})})]})})}),u.jsx(va,{children:_&&W&&u.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 z-40 bg-black/95 backdrop-blur-md flex items-end",onClick:()=>{C(!1),m(!1)},children:u.jsxs(ee.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:35,stiffness:400,mass:.8},className:"bg-surface w-full rounded-t-[28px] overflow-hidden max-h-[75vh] pb-safe shadow-2xl",onClick:ge=>ge.stopPropagation(),children:[u.jsx("div",{className:"w-full flex justify-center py-2 bg-surface border-b border-border/50",children:u.jsx("div",{className:"w-10 h-1 bg-muted-foreground/30 rounded-full"})}),u.jsx("div",{className:"px-5 py-4 border-b border-border/50 bg-surface",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Viewers"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:P===0?"No views yet":`${P} ${P===1?"view":"views"}`})]}),u.jsx("button",{onClick:()=>{C(!1),m(!1)},className:"w-10 h-10 rounded-full hover:bg-hover-surface active:bg-hover-muted flex items-center justify-center transition-colors",children:u.jsx(no,{className:"w-5 h-5 text-foreground"})})]})}),u.jsx("div",{className:"overflow-y-auto max-h-[calc(75vh-120px)]",children:E.length>0?u.jsx("div",{className:"py-1",children:E.map((ge,ze)=>u.jsxs(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:ze*.05},className:"flex items-center gap-3 px-5 py-3 hover:bg-hover-surface active:bg-hover-muted transition-colors",children:[u.jsx(cn,{user:ge.user,size:"md"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium text-[15px] text-foreground truncate",children:ge.user?.full_name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(ge.viewed_at).toLocaleString([],{hour:"2-digit",minute:"2-digit",month:"short",day:"numeric"})})]})]},ge.id))}):u.jsxs("div",{className:"py-16 text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-muted/50 flex items-center justify-center mx-auto mb-4",children:u.jsx(Oh,{className:"w-8 h-8 text-muted-foreground/50"})}),u.jsx("p",{className:"text-muted-foreground text-[15px]",children:"No views yet"}),u.jsx("p",{className:"text-muted-foreground/60 text-sm mt-1",children:"Check back later to see who viewed your story"})]})})]})})}),R.type!=="text"&&!$&&!V&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black z-10",children:u.jsx("div",{className:"relative",children:u.jsx("div",{className:"w-12 h-12 border-4 border-white/10 border-t-white rounded-full animate-spin"})})})]}):null}function M$({className:t,...e}){return u.jsx("textarea",{"data-slot":"textarea",className:rt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 aria-invalid:border-destructive flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const ch=["#0057FF","#00D4A6","#FF4D4F","#FFB020","#9333EA","#EC4899","#10B981","#3B82F6","#000000","#FFFFFF"];function D$({currentUser:t,onClose:e,onSuccess:n}){const[s,i]=w.useState("select"),[a,l]=w.useState([]),[d,p]=w.useState(""),[h,m]=w.useState(ch[0]),[g,y]=w.useState(""),[b,S]=w.useState(null),[_,C]=w.useState(null),[j,T]=w.useState(!1),E=w.useRef(null),N=V=>{const H=V.target.files;if(!H||H.length===0)return;const Q=[];for(let Z=0;Z<H.length;Z++){const ie=H[Z];if(!ie.type.startsWith("image/")&&!ie.type.startsWith("video/")){pe.error(`${ie.name}: Invalid file type`);continue}if(ie.size>50*1024*1024){pe.error(`${ie.name}: File too large (max 50MB)`);continue}Q.push(ie)}if(Q.length!==0){if(Q.length===1)S(Q[0]),C(URL.createObjectURL(Q[0])),i("media");else{const Z=Q.map(ie=>({id:`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:ie.type.startsWith("image/")?"image":"video",file:ie,preview_url:URL.createObjectURL(ie)}));l(ie=>[...ie,...Z]),i("queue"),pe.success(`${Q.length} ${Q.length===1?"story":"stories"} added to queue`)}V.target.value=""}},P=()=>{if(!d.trim()){pe.error("Please enter some text");return}const V={id:`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:"text",text_content:d.trim(),background_color:h};l(H=>[...H,V]),p(""),m(ch[0]),i(a.length>0?"queue":"select"),pe.success("Text story added to queue")},I=()=>{if(!b)return;const V={id:`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:b.type.startsWith("image/")?"image":"video",file:b,preview_url:_||void 0,caption:g.trim()||void 0};l(H=>[...H,V]),S(null),C(null),y(""),i("queue"),pe.success("Story added to queue")},$=V=>{l(H=>H.filter(Q=>Q.id!==V)),a.length===1&&i("select")},M=async()=>{if(a.length===0){pe.error("No stories to publish");return}T(!0);let V=0,H=0;try{for(const Q of a)try{if(Q.type==="text")(await rr.create("text",{text_content:Q.text_content,background_color:Q.background_color})).success?V++:H++;else{const Z=await qc.uploadFile(Q.file,"attachment");if(!Z.success||!Z.data?.url){H++;continue}(await rr.create(Q.type,{media_url:Z.data.url,caption:Q.caption})).success?V++:H++}await new Promise(Z=>setTimeout(Z,300))}catch(Z){console.error("Error publishing story:",Z),H++}V>0&&H===0?(pe.success(`${V} ${V===1?"story":"stories"} published successfully! `),n(),e()):V>0&&H>0?(pe.warning(`${V} published, ${H} failed`),l(Q=>Q.slice(V))):pe.error("Failed to publish stories. Please try again.")}catch(Q){console.error("Publish error:",Q),pe.error("An error occurred while publishing")}finally{T(!1)}};return u.jsxs("div",{className:"fixed inset-0 z-50 bg-background",children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 bg-gradient-to-r from-primary to-accent shadow-lg",children:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[u.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full hover:bg-white/20 flex items-center justify-center transition-colors",disabled:j,children:u.jsx(no,{className:"w-5 h-5 text-white"})}),u.jsx("h2",{className:"text-lg font-semibold text-white",children:s==="queue"?`${a.length} ${a.length===1?"Story":"Stories"}`:"Create Story"}),s==="queue"&&a.length>0?u.jsx(He,{onClick:M,disabled:j,size:"sm",className:"bg-white text-primary hover:bg-white/90",children:j?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-primary/30 border-t-primary rounded-full animate-spin"}),u.jsx("span",{className:"hidden sm:inline",children:"Publishing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(lu,{className:"w-4 h-4 mr-1"}),u.jsx("span",{children:"Publish All"})]})}):u.jsx("div",{className:"w-10"})]})}),u.jsx("div",{className:"pt-16 h-full flex flex-col overflow-hidden",children:u.jsxs(va,{mode:"wait",children:[s==="select"&&u.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 flex items-center justify-center p-6",children:u.jsxs("div",{className:"w-full max-w-md space-y-4",children:[a.length>0&&u.jsxs(ee.button,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},onClick:()=>i("queue"),className:"w-full h-20 rounded-2xl bg-primary/10 border-2 border-primary flex items-center justify-between px-6 hover:bg-primary/20 transition-all group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-primary flex items-center justify-center",children:u.jsx("span",{className:"text-white font-bold text-lg",children:a.length})}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-medium text-foreground",children:"Story Queue"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.length," ",a.length===1?"story":"stories"," ready"]})]})]}),u.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),u.jsxs(ee.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},onClick:()=>i("text"),className:"w-full h-32 rounded-2xl bg-gradient-to-br from-primary to-accent flex flex-col items-center justify-center gap-3 hover:shadow-lg transition-all group",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center group-hover:scale-110 transition-transform",children:u.jsx(NR,{className:"w-8 h-8 text-white"})}),u.jsx("span",{className:"text-white font-medium",children:"Text Status"})]}),u.jsxs(ee.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onClick:()=>E.current?.click(),className:"w-full h-32 rounded-2xl bg-surface border-2 border-dashed border-border flex flex-col items-center justify-center gap-3 hover:border-primary hover:bg-hover-primary transition-all group",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center group-hover:scale-110 transition-transform",children:u.jsx(GA,{className:"w-8 h-8 text-muted-foreground group-hover:text-primary"})}),u.jsx("span",{className:"text-foreground font-medium",children:"Photo or Video"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Select multiple files"})]}),u.jsx("input",{ref:E,type:"file",accept:"image/*,video/*",onChange:N,className:"hidden",multiple:!0})]})},"select"),s==="text"&&u.jsxs(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex-1 flex flex-col",children:[u.jsx("div",{className:"flex-1 flex items-center justify-center p-8",style:{backgroundColor:h},children:u.jsx(M$,{value:d,onChange:V=>p(V.target.value),placeholder:"Type your status...",className:"max-w-lg bg-transparent border-none text-white text-2xl font-medium text-center placeholder:text-white/50 resize-none h-auto min-h-[200px] focus-visible:ring-0",autoFocus:!0,maxLength:250})}),u.jsxs("div",{className:"bg-surface border-t border-border p-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Background Color"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:ch.map(V=>u.jsx("button",{onClick:()=>m(V),className:"flex-shrink-0 w-10 h-10 rounded-full border-2 flex items-center justify-center transition-transform hover:scale-110",style:{backgroundColor:V,borderColor:h===V?"var(--primary)":"transparent"},children:h===V&&u.jsx(eo,{className:"w-5 h-5",style:{color:V==="#FFFFFF"?"#000000":"#FFFFFF"}})},V))})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(He,{onClick:()=>{i(a.length>0?"queue":"select"),p("")},variant:"outline",className:"flex-1",children:"Cancel"}),u.jsxs(He,{onClick:P,disabled:!d.trim(),className:"flex-1",size:"lg",children:[u.jsx(ba,{className:"w-4 h-4 mr-2"}),"Add to Queue"]})]})]})]},"text"),s==="media"&&_&&b&&u.jsxs(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex-1 flex flex-col",children:[u.jsx("div",{className:"flex-1 bg-black flex items-center justify-center p-4 overflow-hidden",children:b.type.startsWith("image/")?u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsx(pi,{src:_,alt:"Preview",className:"max-w-full max-h-full object-contain",style:{display:"block",margin:"0 auto"}})}):u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsx("video",{src:_,className:"max-w-full max-h-full object-contain",style:{display:"block",margin:"0 auto"},controls:!0,autoPlay:!0,muted:!0,loop:!0,playsInline:!0})})}),u.jsxs("div",{className:"bg-surface border-t border-border p-4 space-y-4",children:[u.jsx(xr,{value:g,onChange:V=>y(V.target.value),placeholder:"Add a caption (optional)...",maxLength:100}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(He,{onClick:()=>{i(a.length>0?"queue":"select"),S(null),C(null),y("")},variant:"outline",className:"flex-1",children:"Cancel"}),u.jsxs(He,{onClick:I,className:"flex-1",size:"lg",children:[u.jsx(ba,{className:"w-4 h-4 mr-2"}),"Add to Queue"]})]})]})]},"media"),s==="queue"&&u.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 flex flex-col",children:[u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:a.map((V,H)=>u.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{delay:H*.05},className:"bg-surface rounded-xl border border-border overflow-hidden group hover:border-primary/50 transition-colors",children:u.jsxs("div",{className:"flex items-center gap-3 p-3",children:[u.jsx("div",{className:"relative flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden bg-muted",children:V.type==="text"?u.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",style:{backgroundColor:V.background_color},children:u.jsx("p",{className:"text-white text-[8px] font-medium text-center leading-tight line-clamp-4",children:V.text_content})}):V.preview_url?u.jsxs(u.Fragment,{children:[u.jsx(pi,{src:V.preview_url,alt:"Preview",className:"w-full h-full object-cover"}),V.type==="video"&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:u.jsx("div",{className:"w-6 h-6 rounded-full bg-white/90 flex items-center justify-center",children:u.jsx("svg",{className:"w-3 h-3 text-black ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M8 5v14l11-7z"})})})})]}):null}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium text-sm truncate",children:V.type==="text"?"Text Status":V.type==="image"?"Photo":"Video"}),V.caption&&u.jsx("p",{className:"text-xs text-muted-foreground truncate",children:V.caption}),V.type==="text"&&V.text_content&&u.jsx("p",{className:"text-xs text-muted-foreground truncate",children:V.text_content})]}),u.jsx("button",{onClick:()=>$(V.id),disabled:j,className:"flex-shrink-0 w-9 h-9 rounded-full bg-destructive/10 hover:bg-destructive hover:text-white text-destructive flex items-center justify-center transition-all opacity-0 group-hover:opacity-100",children:u.jsx(ai,{className:"w-4 h-4"})})]})},V.id))}),u.jsx("div",{className:"border-t border-border p-4 bg-surface",children:u.jsxs(He,{onClick:()=>i("select"),variant:"outline",className:"w-full",disabled:j,children:[u.jsx(ba,{className:"w-4 h-4 mr-2"}),"Add More Stories"]})})]},"queue")]})})]})}var L$="Separator",uw="horizontal",$$=["horizontal","vertical"],sC=w.forwardRef((t,e)=>{const{decorative:n,orientation:s=uw,...i}=t,a=F$(s)?s:uw,d=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return u.jsx(Qe.div,{"data-orientation":a,...d,...i,ref:e})});sC.displayName=L$;function F$(t){return $$.includes(t)}var V$=sC;function B$({className:t,orientation:e="horizontal",decorative:n=!0,...s}){return u.jsx(V$,{"data-slot":"separator-root",decorative:n,orientation:e,className:rt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...s})}function U$({user:t,currentUser:e,onBack:n,onSendMessage:s,onInitiateCall:i,onBlock:a,onUnblock:l,onDelete:d,isBlocked:p=!1,lastSeen:h}){const m=t.is_online,g=m?"online":h||"offline";return u.jsxs("div",{className:"h-screen flex flex-col bg-background overflow-hidden",children:[u.jsxs(ee.div,{className:"bg-surface border-b border-border px-4 py-3 flex items-center gap-4 shadow-sm shrink-0",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:[u.jsx(He,{variant:"ghost",size:"icon",onClick:n,className:"h-10 w-10 rounded-full hover:bg-[var(--hover-surface)] shrink-0 transition-colors","aria-label":"Back",children:u.jsx(iu,{className:"w-5 h-5"})}),u.jsx("div",{className:"flex-1",children:u.jsx("h2",{className:"truncate",children:"Contact Info"})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:[u.jsxs(ee.div,{className:"bg-surface pb-6 flex flex-col items-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.1},children:[u.jsx("div",{className:"w-full bg-background/50 flex items-center justify-center py-12 mb-6",children:u.jsxs("div",{className:"relative group cursor-pointer",children:[u.jsxs("div",{className:"relative w-[280px] h-[280px] sm:w-[320px] sm:h-[320px] rounded-full overflow-hidden shadow-2xl ring-1 ring-border/20 transition-all duration-300 group-hover:shadow-3xl group-hover:scale-[1.02]",children:[t.avatar_url?u.jsx("img",{src:t.avatar_url,alt:t.full_name,className:"w-full h-full object-cover object-center",style:{imageRendering:"auto",WebkitFontSmoothing:"antialiased"}}):u.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary to-accent",children:u.jsx("span",{className:"text-8xl font-semibold text-white select-none",children:t.full_name.split(" ").map(y=>y[0]).join("").substring(0,2).toUpperCase()})}),m&&u.jsx("div",{className:"absolute bottom-6 right-6 w-12 h-12 bg-success rounded-full border-[5px] border-surface shadow-xl"})]}),u.jsx("div",{className:"absolute inset-0 rounded-full bg-black/0 group-hover:bg-black/5 transition-all duration-300 pointer-events-none"})]})}),u.jsx("h1",{className:"text-2xl font-medium mb-1 text-center px-4",children:t.full_name}),u.jsx("p",{className:"text-base text-muted-foreground mb-1",children:t.phone_number?sw(t.phone_number):"No phone number"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:g})]}),u.jsxs(ee.div,{className:"bg-background px-6 py-6 flex justify-center gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:[s&&u.jsxs(ee.button,{onClick:s,className:"flex flex-col items-center gap-2 group",whileTap:{scale:.95},children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-primary/10 flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:u.jsx(Ha,{className:"w-6 h-6 text-primary"})}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Message"})]}),i&&u.jsxs(u.Fragment,{children:[u.jsxs(ee.button,{onClick:()=>i("voice"),className:"flex flex-col items-center gap-2 group",whileTap:{scale:.95},children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-success/10 flex items-center justify-center group-hover:bg-success/20 transition-colors",children:u.jsx(br,{className:"w-6 h-6 text-success"})}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Audio"})]}),u.jsxs(ee.button,{onClick:()=>i("video"),className:"flex flex-col items-center gap-2 group",whileTap:{scale:.95},children:[u.jsx("div",{className:"w-14 h-14 rounded-full bg-info/10 flex items-center justify-center group-hover:bg-info/20 transition-colors",children:u.jsx(li,{className:"w-6 h-6 text-info"})}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Video"})]})]})]}),u.jsxs(ee.div,{className:"bg-surface mt-2 px-4 py-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.3},children:[u.jsx("h3",{className:"text-sm text-primary mb-2",children:"About"}),u.jsx("p",{className:"text-base text-foreground mb-1",children:t.status||t.status_message||t.bio||"Hey there! I am using AuroraLink."}),t.status_updated_at&&u.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(t.status_updated_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),t.phone_number&&u.jsxs(ee.div,{className:"bg-surface mt-2 px-4 py-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.35},children:[u.jsx("h3",{className:"text-sm text-primary mb-2",children:"Phone"}),u.jsx("p",{className:"text-base text-foreground mb-1",children:sw(t.phone_number)}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Mobile"})]}),t.email&&u.jsxs(ee.div,{className:"bg-surface mt-2 px-4 py-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.4},children:[u.jsx("h3",{className:"text-sm text-primary mb-2",children:"Email"}),u.jsx("p",{className:"text-base text-foreground",children:t.email})]}),t.username&&t.username!==t.email?.split("@")[0]&&u.jsxs(ee.div,{className:"bg-surface mt-2 px-4 py-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.45},children:[u.jsx("h3",{className:"text-sm text-primary mb-2",children:"Username"}),u.jsxs("p",{className:"text-base text-foreground",children:["@",t.username]})]}),u.jsx("div",{className:"h-4"}),u.jsxs(ee.div,{className:"bg-surface mt-2",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.5},children:[p?l&&u.jsxs("button",{onClick:l,className:"w-full px-4 py-3.5 flex items-center gap-3 hover:bg-[var(--hover-surface)] transition-colors text-left",children:[u.jsx(AR,{className:"w-5 h-5 text-warning"}),u.jsx("span",{className:"text-base text-warning",children:"Unblock Contact"})]}):a&&u.jsxs("button",{onClick:a,className:"w-full px-4 py-3.5 flex items-center gap-3 hover:bg-[var(--hover-surface)] transition-colors text-left",children:[u.jsx(EA,{className:"w-5 h-5 text-destructive"}),u.jsx("span",{className:"text-base text-destructive",children:"Block Contact"})]}),a&&d&&u.jsx(B$,{}),d&&u.jsxs("button",{onClick:d,className:"w-full px-4 py-3.5 flex items-center gap-3 hover:bg-[var(--hover-surface)] transition-colors text-left",children:[u.jsx(ai,{className:"w-5 h-5 text-destructive"}),u.jsx("span",{className:"text-base text-destructive",children:"Delete Chat"})]})]}),u.jsx("div",{className:"h-8"})]})]})}function z$({caller:t,callType:e,onAccept:n,onReject:s}){return u.jsx(ee.div,{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:u.jsxs(ee.div,{className:"bg-surface rounded-3xl p-8 max-w-md w-full shadow-2xl border border-border",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},children:[u.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[u.jsxs(ee.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"relative mb-6",children:[u.jsx(cn,{src:t.avatar_url,alt:t.full_name,fallbackText:t.full_name,size:"2xl",className:"shadow-xl"}),u.jsx(ee.div,{className:"absolute inset-0 rounded-full border-4 border-primary",animate:{scale:[1,1.3,1],opacity:[.8,0,.8]},transition:{duration:2,repeat:1/0,ease:"easeOut"}})]}),u.jsx("h2",{className:"text-2xl mb-2",children:t.full_name}),u.jsx("div",{className:"flex items-center gap-2 text-muted-foreground",children:e==="video"?u.jsxs(u.Fragment,{children:[u.jsx(li,{className:"w-4 h-4"}),u.jsx("span",{children:"Incoming video call..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(br,{className:"w-4 h-4"}),u.jsx("span",{children:"Incoming call..."})]})}),u.jsx(ee.div,{className:"flex gap-2 mt-6",initial:{opacity:0},animate:{opacity:1},children:[0,1,2].map(i=>u.jsx(ee.div,{className:"w-2 h-2 rounded-full bg-primary",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:i*.2}},i))})]}),u.jsxs("div",{className:"flex items-center justify-center gap-6",children:[u.jsx(ee.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:u.jsx(He,{variant:"destructive",size:"icon",onClick:s,className:"h-16 w-16 rounded-full shadow-lg bg-red-500 hover:bg-red-600","aria-label":"Reject call",children:u.jsx(Ih,{className:"w-7 h-7"})})}),u.jsx(ee.div,{whileHover:{scale:1.1},whileTap:{scale:.95},animate:{scale:[1,1.05,1]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},children:u.jsx(He,{size:"icon",onClick:n,className:"h-20 w-20 rounded-full shadow-xl bg-gradient-to-br from-success to-accent hover:from-success/90 hover:to-accent/90","aria-label":"Accept call",children:e==="video"?u.jsx(li,{className:"w-8 h-8"}):u.jsx(br,{className:"w-8 h-8"})})})]})]})})}function W$({open:t,callType:e,onGrantPermissions:n,onCancel:s}){return u.jsx(Rm,{open:t,children:u.jsxs(Om,{children:[u.jsxs(Im,{children:[u.jsxs(Dm,{className:"flex items-center gap-2",children:[e==="video"?u.jsx(li,{className:"w-5 h-5 text-primary"}):u.jsx(to,{className:"w-5 h-5 text-primary"}),"Permission Required"]}),u.jsxs(Lm,{className:"space-y-3",children:[u.jsxs("p",{children:["To make ",e==="video"?"video":"voice"," calls, AuroraLink needs access to your:"]}),u.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx(to,{className:"w-4 h-4"}),u.jsx("span",{children:"Microphone"})]}),e==="video"&&u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx(Yb,{className:"w-4 h-4"}),u.jsx("span",{children:"Camera"})]})]}),u.jsx("p",{className:"text-sm",children:'Your browser will ask you to grant these permissions. Please click "Allow" when prompted.'})]})]}),u.jsxs(Mm,{children:[u.jsx(Xk,{onClick:s,children:"Cancel"}),u.jsx($m,{onClick:n,children:"Grant Permissions"})]})]})})}function H$({show:t,onClearSession:e}){return t?u.jsxs("div",{className:"fixed inset-0 z-[9999] bg-background flex items-center justify-center p-4 md:p-6 animate-in fade-in duration-300",children:[u.jsx("div",{className:"absolute inset-0 bg-black/5 backdrop-blur-sm"}),u.jsxs("div",{className:"relative max-w-md w-full space-y-5 animate-in slide-in-from-bottom-4 zoom-in-95 duration-500",children:[u.jsx("div",{className:"flex justify-center animate-in zoom-in duration-700 delay-150",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-destructive/20 rounded-full blur-xl animate-pulse"}),u.jsx("div",{className:"relative bg-destructive/10 p-4 rounded-full",children:u.jsx(n1,{className:"h-12 w-12 text-destructive"})})]})}),u.jsxs(b1,{variant:"destructive",className:"border-2 shadow-lg animate-in fade-in duration-500 delay-300",children:[u.jsx(Ra,{className:"h-5 w-5"}),u.jsx(I5,{className:"text-base",children:"Authentication Error"}),u.jsxs(S1,{className:"mt-2 text-sm leading-relaxed",children:["Your session is invalid or from a different AuroraLink instance. This happens when:",u.jsxs("ul",{className:"mt-3 space-y-1.5 text-xs list-none pl-0",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-destructive mt-0.5",children:""}),u.jsx("span",{children:"You switched between different projects"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-destructive mt-0.5",children:""}),u.jsx("span",{children:"Your session expired or became corrupted"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-destructive mt-0.5",children:""}),u.jsx("span",{children:"Browser data conflicts detected"})]})]})]})]}),u.jsxs("div",{className:"space-y-3 animate-in fade-in duration-500 delay-500",children:[u.jsxs(He,{onClick:e,className:"w-full shadow-md hover:shadow-lg transition-all duration-200",size:"lg",variant:"default",children:[u.jsx(gR,{className:"mr-2 h-5 w-5"}),"Clear Session & Reload"]}),u.jsxs("p",{className:"text-xs text-muted-foreground text-center leading-relaxed px-2",children:["This will clear all local authentication data and reload the app.",u.jsx("br",{}),u.jsx("span",{className:"text-[11px]",children:"You'll need to log in again after this action."})]})]})]})]}):null}function oC(){console.log(" EMERGENCY SESSION CLEANER "),console.log("================================");try{console.log(`
 Current localStorage keys:`);for(let t=0;t<localStorage.length;t++){const e=localStorage.key(t);console.log(`  - ${e}`)}console.log(`
 Clearing localStorage...`),localStorage.clear(),console.log("   localStorage cleared"),console.log(`
 Clearing sessionStorage...`),sessionStorage.clear(),console.log("   sessionStorage cleared"),console.log(`
 Clearing cookies...`),document.cookie.split(";").forEach(t=>{document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),console.log("   Cookies cleared"),console.log(`
 Clearing IndexedDB...`),window.indexedDB&&window.indexedDB.databases().then(t=>{t.forEach(e=>{e.name&&(window.indexedDB.deleteDatabase(e.name),console.log(`   Deleted database: ${e.name}`))})}),console.log(`
================================`),console.log(" EMERGENCY CLEAN COMPLETE"),console.log("================================"),console.log(`
 Reloading page in 2 seconds...
`),setTimeout(()=>{window.location.reload()},2e3)}catch(t){console.error(" Error during emergency clean:",t),console.log(`
  Manual steps required:`),console.log("1. Open DevTools (F12)"),console.log("2. Go to Application tab"),console.log("3. Clear all storage manually"),console.log("4. Reload the page")}}typeof window<"u"&&(window.emergencyClearSession=oC,console.log(" Emergency session cleaner loaded!"),console.log(" Run: window.emergencyClearSession() if you have auth issues"));function K$(t){return!(!t||typeof t!="string"||!t.startsWith("eyJ")||t.split(".").length!==3)}function iC(t){try{const e=t.split(".");if(e.length!==3)return null;const n=e[1],s=atob(n.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(s)}catch(e){return console.error("[decodeJWTPayload] Failed:",e),null}}function G$(t){const e=iC(t);if(!e)return!1;const n=`https://${nn}.supabase.co/auth/v1`;return e.iss!==n?(console.warn("[validateTokenProject] Token issuer mismatch!"),console.warn("[validateTokenProject] Expected:",n),console.warn("[validateTokenProject] Got:",e.iss),!1):!0}function q$(t){const e=iC(t);if(!e||!e.exp)return!0;const n=Math.floor(Date.now()/1e3);return e.exp<n}async function aC(){const t=`sb-${nn}-auth-token`,e=localStorage.getItem(t);if(!e)return{isValid:!1,reason:"No session found in localStorage",action:"keep"};let n;try{n=JSON.parse(e)}catch{return{isValid:!1,reason:"Session data is corrupted (invalid JSON)",action:"clear"}}return n.access_token?K$(n.access_token)?G$(n.access_token)?q$(n.access_token)?{isValid:!1,reason:"Token is expired",action:"refresh"}:{isValid:!0,action:"keep"}:{isValid:!1,reason:"Token is from a different Supabase project",action:"clear"}:{isValid:!1,reason:"Token is not a valid JWT format",action:"clear"}:{isValid:!1,reason:"Session missing access_token",action:"clear"}}function gr(){console.log("[Session Recovery] Clearing all auth data from localStorage..."),SS(),Object.keys(localStorage).forEach(e=>{e!=="aurora_auth_error_count"&&(e.startsWith("sb-")||e.includes("auth")||e.includes("supabase"))&&(console.log("[Session Recovery] Removing:",e),localStorage.removeItem(e))}),console.log("[Session Recovery]  Auth session cleared")}async function lC(){console.log("[Session Recovery] ========== STARTING SESSION RECOVERY ==========");const t=await aC();if(console.log("[Session Recovery] Validation result:",t),t.action==="clear")return console.log("[Session Recovery] Session is invalid and cannot be recovered"),console.log("[Session Recovery] Reason:",t.reason),gr(),!1;if(t.action==="keep"&&t.isValid)return console.log("[Session Recovery] Session appears valid"),!0;if(t.action==="refresh"){console.log("[Session Recovery] Attempting to refresh expired session...");try{const e=Yt(),{data:{session:n},error:s}=await e.auth.refreshSession();return s?(console.error("[Session Recovery] Refresh failed:",s.message),(s.message.includes("Invalid Refresh Token")||s.message.includes("Auth session missing")||s.message.includes("invalid_grant")||s.message.includes("refresh_token_not_found"))&&(console.log("[Session Recovery] Terminal error detected - clearing session"),gr()),!1):n?(console.log("[Session Recovery]  Session refreshed successfully!"),bS(),!0):(console.log("[Session Recovery] Refresh succeeded but returned no session"),gr(),!1)}catch(e){return console.error("[Session Recovery] Unexpected error during refresh:",e),gr(),!1}}return!1}async function Au(){console.log("[Session Diagnosis] Starting diagnosis...");const t=await aC();return t.isValid?(console.log("[Session Diagnosis]  No issues found"),{fixed:!1,hadError:!1}):t.reason==="No session found in localStorage"?(console.log("[Session Diagnosis]   No session found (user is logged out) - this is normal"),{fixed:!1,hadError:!1}):(console.log("[Session Diagnosis]  Issue detected:",t.reason),{fixed:await lC(),hadError:!0,errorType:t.reason,action:t.action})}function Y$(){console.log("[EMERGENCY] Performing emergency session clear..."),localStorage.clear(),document.cookie.split(";").forEach(t=>{document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),console.log("[EMERGENCY]  All local data cleared"),console.log("[EMERGENCY] Please refresh the page")}async function J$(){console.log("[Session Recovery] Initializing...");const t=await Au();return t.hadError&&!t.fixed?(console.log("[Session Recovery] Session could not be recovered"),console.log("[Session Recovery] User must log in again")):t.fixed?console.log("[Session Recovery]  Session recovered successfully"):console.log("[Session Recovery]  Session is healthy"),t}async function X$(){console.log(`
`+"=".repeat(60)),console.log(" ONE-CLICK AUTH ERROR FIX"),console.log("=".repeat(60)+`
`),console.log("Step 1/4: Diagnosing session issues...");const t=await Au();if(!t.hadError){console.log(" No auth errors found! Your session is healthy.");return}if(console.log(" Auth error detected:",t.errorType),t.fixed){console.log(" Session was recovered automatically!"),console.log("You can continue using the app.");return}if(console.log(`
Step 2/4: Attempting session recovery...`),await lC()){console.log(" Session recovered successfully!"),console.log("Please refresh the page to continue.");return}console.log(" Session recovery failed."),console.log(`
Step 3/4: Clearing invalid auth data...`);try{await Yt().auth.signOut(),console.log(" Signed out successfully")}catch{console.log("  Sign out failed (this is expected for invalid sessions)")}gr(),console.log(" Auth data cleared"),console.log(`
Step 4/4: Preparing for fresh login...`),console.log(" All auth errors have been cleared!"),console.log(`
`+"=".repeat(60)),console.log(" FIX COMPLETE!"),console.log("=".repeat(60)),console.log(`
Next steps:`),console.log("1. Refresh this page (Cmd+R or Ctrl+R)"),console.log("2. You will see the login screen"),console.log("3. Log in with your credentials"),console.log("4. Everything should work normally now!"),console.log(`
`)}async function Q$(){const t=await Au();return t.hadError&&!t.fixed}async function Z$(){console.log(`Generating auth status report...
`);const t=await Au();let e="=".repeat(60)+`
`;return e+=` AUTH STATUS REPORT
`,e+="=".repeat(60)+`

`,t.hadError?t.fixed?(e+=` STATUS: Recovered
`,e+=`An issue was detected but has been fixed automatically.
`,e+=`Your session is now working properly.
`):(e+=` STATUS: Error
`,e+=`Error Type: ${t.errorType}
`,e+=`Action Needed: ${t.action}

`,e+=`Your session has an error that requires manual intervention.
`,e+=`Run fixAuthErrorsNow() to resolve this issue.
`):(e+=` STATUS: Healthy
`,e+=`No authentication errors detected.
`,e+=`Your session is valid and working properly.
`),e+=`
`+"=".repeat(60),e}function eF(){console.log(` QUICK FIX: Clearing auth data and reloading...
`),gr(),console.log(" Auth data cleared!"),console.log(` Reloading page in 2 seconds...
`),setTimeout(()=>{window.location.reload()},2e3)}function tF(){console.log(`  NUCLEAR FIX: Clearing ALL local data...
`),console.log("  WARNING: This will clear EVERYTHING in localStorage!"),console.log(`This should only be used as a last resort.
`),Y$(),console.log(` Complete!
`),console.log("Please refresh the page (Cmd+R or Ctrl+R)")}typeof window<"u"&&(window.fixAuthErrorsNow=X$,window.hasAuthErrors=Q$,window.getAuthStatusReport=Z$,window.quickFix=eF,window.nuclearFix=tF,console.log(`
`+"=".repeat(60)),console.log(" AUTH ERROR FIX UTILITIES LOADED"),console.log("=".repeat(60)),console.log(`
Available commands in console:`),console.log("   fixAuthErrorsNow()     - Complete fix (recommended)"),console.log("   quickFix()             - Fast clear & reload"),console.log("   getAuthStatusReport()  - Check current status"),console.log("   hasAuthErrors()        - Check if errors exist"),console.log("   nuclearFix()           - Clear EVERYTHING (last resort)"),console.log(`
`+"=".repeat(60)+`
`));function nF(){const[t,e]=w.useState(!0),[n,s]=w.useState("onboarding"),[i,a]=w.useState(null),[l,d]=w.useState(null),[p,h]=w.useState(!0),[m,g]=w.useState(!1),y=()=>{try{const fe=localStorage.getItem("aurora_auth_error_count");return fe?parseInt(fe,10):0}catch{return 0}},[b,S]=w.useState(y()),_=w.useRef(b);w.useEffect(()=>(window.clearAuroraSession=async()=>{console.log("[Manual Clear] Clearing session..."),await Yt().auth.signOut(),localStorage.clear(),console.log("[Manual Clear]  Session cleared! Reloading page..."),window.location.reload()},window.emergencyClearSession=oC,window.checkTokenCache=()=>{const Me=uM();return console.log(" Token Cache Info:",Me),Me},console.log(" AuroraLink Session Clearing Commands:"),console.log("  - window.clearAuroraSession() - Basic session clear"),console.log("  - window.emergencyClearSession() - Emergency full clear"),console.log("  - window.checkTokenCache() - Check token cache status"),(()=>{console.log("[Session Cleaner]  Scanning for wrong-project sessions...");const Me=nn;console.log("[Session Cleaner] Current project:",Me);for(let qe=0;qe<localStorage.length;qe++){const $e=localStorage.key(qe);if($e&&$e.startsWith("sb-")&&$e.includes("-auth-token")){const Fe=$e.match(/^sb-([^-]+)-auth-token$/);if(Fe){const Ve=Fe[1];Ve!==Me&&(console.warn("[Session Cleaner]  Found session from WRONG project:",Ve),console.warn("[Session Cleaner] Removing key:",$e),localStorage.removeItem($e))}}}console.log("[Session Cleaner]  Scan complete")})(),()=>{delete window.clearAuroraSession}),[]);const[C,j]=w.useState([]),[T,E]=w.useState(0),[N,P]=w.useState(0),[I,$]=w.useState(null),[M,V]=w.useState(""),[H,Q]=w.useState(null),[Z,ie]=w.useState(null),[he,be]=w.useState(null),[z,J]=w.useState(null),[R,W]=w.useState(null),[X,L]=w.useState(null),[O,G]=w.useState(!1),[q,Y]=w.useState(null),[ae,te]=w.useState(null),ue=w.useRef(null);w.useRef(null);const _e=w.useRef(null);w.useEffect(()=>{let fe;const Me=$e=>{try{const Fe=$e.split(".");if(Fe.length!==3)return null;const Ve=Fe[1],ht=atob(Ve.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(ht)}catch{return null}};return(async()=>{try{console.log("[Startup]  Validating existing session..."),console.log("[Startup] Current project ID:",nn);const $e=await J$();if($e.hadError&&!$e.fixed){console.log("[Startup] Session has unrecoverable errors - showing error boundary"),gr();const de=_.current+1;if(_.current=de,S(de),localStorage.setItem("aurora_auth_error_count",de.toString()),console.log("[Startup] Auth error count:",de),de>2){console.error("[Startup] Too many auth errors detected - skipping error screen, going directly to auth"),h(!1),s("auth");return}g(!0),h(!1);return}$e.fixed?console.log("[Startup]  Session was recovered automatically"):console.log("[Startup]  No session errors detected");const Fe=`sb-${nn}-auth-token`,Ve=localStorage.getItem(Fe);if(Ve)try{const de=JSON.parse(Ve);if(de?.access_token){if(console.log("[Startup] Found stored session token, validating..."),!de.access_token.startsWith("eyJ")){console.error("[Startup]  Invalid token format - clearing immediately"),localStorage.clear(),pe.error("Session Cleared",{description:"Invalid session detected. Please log in again.",duration:5e3});return}const Ae=Me(de.access_token);if(Ae){const Be=`https://${nn}.supabase.co/auth/v1`;if(console.log("[Startup] Token issuer:",Ae.iss),console.log("[Startup] Expected issuer:",Be),Ae.iss!==Be){console.error("[Startup]  TOKEN FROM DIFFERENT PROJECT DETECTED!"),console.error("[Startup] This token belongs to:",Ae.iss),console.error("[Startup] Current project:",Be),console.error("[Startup] Clearing mismatched session...");const et=_.current+1;if(_.current=et,S(et),localStorage.setItem("aurora_auth_error_count",et.toString()),gr(),et>2){console.error("[Startup] Too many auth errors - forcing auth screen"),h(!1),s("auth");return}g(!0),h(!1);return}console.log("[Startup]  Token project ID matches")}}}catch(de){console.error("[Startup] Error parsing stored session:",de),localStorage.clear();return}const ht=Yt(),{data:{session:Et},error:Mt}=await ht.auth.getSession();if(Et&&!Mt){console.log("[Startup] Supabase session found, attempting refresh...");const{error:de}=await ht.auth.refreshSession();de&&(de.message.includes("Invalid Refresh Token")||de.message.includes("Auth session missing")||de.message.includes("invalid_grant")||de.message.includes("refresh_token_not_found")||de.name==="AuthSessionMissingError")?(console.error("[Startup]  Session refresh failed - token is invalid"),console.error("[Startup] Error:",de.message),console.error("[Startup] Error name:",de.name),console.error("[Startup] Clearing invalid session..."),await ht.auth.signOut(),localStorage.clear(),pe.error("Session Invalid",{description:"Previous session was invalid. Please log in again.",duration:5e3})):de||console.log("[Startup]  Session refresh successful")}}catch($e){console.error("[Startup] Error validating session:",$e),localStorage.clear()}})().then(()=>{fe=setTimeout(()=>{e(!1),Ke()},2500)}),()=>{fe&&clearTimeout(fe)}},[]),w.useEffect(()=>{if(i&&n==="home"){const fe=async()=>{try{const qe=Yt(),{data:{session:$e},error:Fe}=await qe.auth.getSession();if(Fe||!$e){console.error("[Session Health] Session lost, logging out..."),pe.error("Session expired",{description:"Please log in again to continue."}),await ze();return}if(!$e.access_token||!$e.access_token.startsWith("eyJ")){console.error("[Session Health] Invalid token format, logging out..."),await ze();return}if($e.expires_at){const ht=$e.expires_at*1e3,Et=Date.now(),Mt=ht-Et;if(Mt<0){console.warn("[Session Health] Token expired, refreshing...");const{data:{session:de},error:Ae}=await qe.auth.refreshSession();Ae||!de?(console.error("[Session Health] Refresh failed, logging out..."),pe.error("Session expired",{description:"Please log in again to continue."}),await ze()):console.log("[Session Health]  Session refreshed successfully")}else if(Mt<3e5){console.log("[Session Health] Token expiring soon, refreshing proactively...");const{data:{session:de},error:Ae}=await qe.auth.refreshSession();!Ae&&de?console.log("[Session Health]  Session proactively refreshed"):console.warn("[Session Health] Proactive refresh failed, will retry later")}}const{error:Ve}=await qe.auth.getUser();if(Ve)if(console.error("[Session Health] Token validation failed:",Ve.message),console.error("[Session Health] Error name:",Ve.name),Ve.name==="AuthSessionMissingError"||Ve.message.includes("Auth session missing")){console.error("[Session Health] CRITICAL: Auth session missing error detected"),console.error("[Session Health] This means the token is from a different project or corrupted"),gr(),g(!0);return}else{console.warn("[Session Health] Attempting one-time session refresh...");const{error:ht}=await qe.auth.refreshSession();ht?(console.error("[Session Health] Refresh failed, logging out"),pe.error("Session Error",{description:"Could not refresh your session. Please log in again."}),await new Promise(Et=>setTimeout(Et,1e3)),await ze()):console.log("[Session Health]  Session refreshed successfully")}}catch(qe){console.error("[Session Health] Error checking session:",qe)}};fe();const Me=setInterval(fe,3e4);return()=>{clearInterval(Me)}}},[i,n]),w.useEffect(()=>{if(i&&n==="home"){(async()=>{try{const qe=Yt(),{data:{session:$e}}=await qe.auth.getSession();if($e?.access_token){const Fe=await _c.updateStatus(!0);Fe.success||console.error("[Presence] Failed to update status:",Fe.error)}else console.warn("[Presence] No valid session, skipping presence update")}catch(qe){console.error("[Presence] Error updating presence:",qe)}})();const Me=async()=>{try{const qe=Yt(),{data:{session:$e}}=await qe.auth.getSession();$e?.access_token&&(document.hidden?await _c.updateStatus(!1):await _c.updateStatus(!0))}catch(qe){console.error("[Presence] Error in visibility change:",qe)}};return document.addEventListener("visibilitychange",Me),()=>{document.removeEventListener("visibilitychange",Me),(async()=>{try{const $e=Yt(),{data:{session:Fe}}=await $e.auth.getSession();Fe?.access_token&&await _c.updateStatus(!1)}catch($e){console.error("[Presence] Error updating offline status:",$e)}})()}}},[i,n]);const Ke=async()=>{h(!0);try{const fe=Yt();console.log("[Auth] ========== CHECKING AUTH =========="),console.log("[Auth] Project ID:",nn);let{data:{session:Me},error:qe}=await fe.auth.getSession();if(qe){console.error("[Auth]  Session error:",qe),await fe.auth.signOut(),localStorage.clear(),h(!1);return}if(!Me){console.log("[Auth]   No session found - user needs to log in"),h(!1);return}if(!Me.access_token||!Me.user){console.error("[Auth]  Invalid session - missing token or user"),await fe.auth.signOut(),localStorage.clear(),h(!1);return}if(!Me.access_token.startsWith("eyJ")){console.error("[Auth]  Invalid token format - not a JWT"),console.error("[Auth]  This session is corrupted or from a different project"),await fe.auth.signOut(),localStorage.clear(),h(!1);return}try{const Ae=Me.access_token.split(".");if(Ae.length===3){const Be=JSON.parse(atob(Ae[1].replace(/-/g,"+").replace(/_/g,"/"))),et=`https://${nn}.supabase.co/auth/v1`;if(Be.iss!==et){console.error("[Auth]  TOKEN PROJECT MISMATCH!"),console.error("[Auth] Token issuer:",Be.iss),console.error("[Auth] Expected:",et),console.error("[Auth] This token is from a DIFFERENT Supabase project!"),await fe.auth.signOut(),localStorage.clear(),pe.error("Wrong Project",{description:"Session is from a different project. Please log in to this project.",duration:6e3}),h(!1);return}console.log("[Auth]  Token project ID verified")}}catch(Ae){console.error("[Auth] Error decoding token:",Ae),await fe.auth.signOut(),localStorage.clear(),h(!1);return}console.log("[Auth] Attempting to refresh session...");const{data:$e,error:Fe}=await fe.auth.refreshSession();if(Fe){if(console.error("[Auth]  Session refresh failed:",Fe.message),console.error("[Auth] Error name:",Fe.name),Fe.message.includes("Invalid Refresh Token")||Fe.message.includes("Auth session missing")||Fe.message.includes("invalid_grant")||Fe.message.includes("refresh_token_not_found")||Fe.name==="AuthSessionMissingError"){console.error("[Auth]  CRITICAL: Session is completely invalid or from different project"),console.error("[Auth] Clearing all session data and forcing fresh login..."),pe.error("Session Invalid",{description:"Your session is invalid. Please log in again.",duration:5e3}),await fe.auth.signOut(),localStorage.clear(),h(!1),s("auth");return}console.warn("[Auth]   Refresh failed but will try to use existing session")}else $e.session&&(console.log("[Auth]  Session refreshed successfully"),Me=$e.session);if(console.log("[Auth]  Session found:",{user_id:Me.user?.id,email:Me.user?.email,has_access_token:!!Me.access_token,token_format_valid:Me.access_token?.startsWith("eyJ"),expires_at:Me.expires_at?new Date(Me.expires_at*1e3).toLocaleString():"N/A"}),Me.expires_at){const Ae=Me.expires_at*1e3,Be=Date.now(),et=Math.floor((Ae-Be)/1e3);if(console.log(`[Auth] Token expires in ${et} seconds`),et<300){console.warn("[Auth]   Session expiring soon, refreshing...");const{data:Wt,error:at}=await fe.auth.refreshSession();if(at||!Wt.session){console.error("[Auth]  Failed to refresh session:",at),console.error("[Auth] User should log out and log back in"),pe.error("Session Expired",{description:"Please log out and log back in to continue."}),h(!1);return}else{console.log("[Auth]  Session refreshed successfully");const{data:{session:gt}}=await fe.auth.getSession();gt&&console.log("[Auth] Using refreshed session")}}}console.log("[Auth] Validating user token...");const{data:{user:Ve},error:ht}=await fe.auth.getUser();if(ht){console.error("[Auth]  Failed to validate user:",ht),console.error("[Auth] This usually means the token is invalid or expired"),pe.error("Authentication Error",{description:"Please log out and log back in."}),h(!1);return}if(!Ve){console.error("[Auth]  No user found despite having session"),h(!1);return}console.log("[Auth]  User validated:",Ve.email);const{data:{session:Et}}=await fe.auth.getSession(),Mt=Et?.access_token;if(!Mt){console.error("[Auth]  No access token available after validation"),h(!1);return}if(!Mt.startsWith("eyJ")){console.error("[Auth]  Invalid token format - not a JWT!"),console.error("[Auth] Token preview:",Mt.substring(0,20)),h(!1);return}console.log("[Auth]  Access token validated (JWT format correct)"),console.log("[Auth] Token length:",Mt.length);try{console.log("[Auth]  Fetching user profile from backend...");const Ae=await fetch(`https://${nn}.supabase.co/functions/v1/make-server-29f6739b/profile/${Ve.id}`,{headers:{Authorization:`Bearer ${Mt}`}});if(console.log("[Auth] Backend response status:",Ae.status),Ae.ok){const Be=await Ae.json();if(Be.user){console.log("[Auth]  Successfully loaded user profile from backend"),a(Be.user),s("home"),h(!1);return}else console.warn("[Auth]   Response OK but no user data in response")}else{const Be=await Ae.text();if(console.error("[Auth]  Backend returned error, status:",Ae.status),console.error("[Auth] Error response:",Be),Ae.status===401){console.warn("[Auth]   Backend authentication failed (401)"),console.warn("[Auth] This usually means the JWT token is invalid or from a different project"),console.log("[Auth] Attempting session refresh...");const{data:et,error:Wt}=await fe.auth.refreshSession();if(!Wt&&et.session?.access_token){console.log("[Auth]  Session refreshed, retrying profile fetch...");const at=await fetch(`https://${nn}.supabase.co/functions/v1/make-server-29f6739b/profile/${Ve.id}`,{headers:{Authorization:`Bearer ${et.session.access_token}`}});if(at.ok){const gt=await at.json();if(gt.user){console.log("[Auth]  Successfully loaded user profile after refresh"),a(gt.user),s("home"),h(!1);return}}else console.error("[Auth]  Retry also failed with status:",at.status)}else console.error("[Auth]  Session refresh failed:",Wt);console.error("[Auth]  All authentication attempts failed"),console.error("[Auth] Clearing corrupted session and showing error..."),await fe.auth.signOut(),localStorage.clear(),pe.error("Authentication Error",{description:"Your session could not be validated. Please log in again.",duration:5e3}),h(!1),s("auth");return}}}catch(Ae){console.error("[Auth]  Network error fetching profile:",Ae),pe.error("Connection Error",{description:"Could not connect to the server. Please check your internet connection.",duration:5e3})}console.log("[Auth]   Using fallback - creating user from auth metadata");const de={id:Ve.id,full_name:Ve.user_metadata?.full_name||"User",username:Ve.email?.split("@")[0]||"user",email:Ve.email,phone_number:Ve.user_metadata?.phone_number,is_online:!0};console.log("[Auth] Created fallback user:",de),a(de),s("home")}catch(fe){console.error("[Auth]  Unexpected error in checkAuth:",fe),fe instanceof Error&&(console.error("[Auth] Error message:",fe.message),console.error("[Auth] Error stack:",fe.stack))}finally{console.log("[Auth] ========== AUTH CHECK COMPLETE =========="),h(!1)}},ft=()=>{s("auth")},ge=async()=>{console.log("[App] ========== AUTH SUCCESS HANDLER =========="),console.log("[App] Auth success callback triggered"),_.current=0,S(0),localStorage.removeItem("aurora_auth_error_count");const fe=Yt(),Me=Date.now(),qe=1e4;let $e=null,Fe=0;for(;!$e&&Date.now()-Me<qe;){Fe++,console.log(`[App]  Attempt ${Fe} to get and validate session...`);const{data:{session:Ve},error:ht}=await fe.auth.getSession();if(ht){console.error("[App] Session error:",ht),await new Promise(de=>setTimeout(de,500));continue}if(!Ve){console.warn("[App] No session found, waiting 500ms..."),await new Promise(de=>setTimeout(de,500));continue}if(!Ve.access_token||!Ve.user){console.warn("[App] Session incomplete (no token or user), waiting..."),await new Promise(de=>setTimeout(de,500));continue}if(!Ve.access_token.startsWith("eyJ")){console.error("[App]  Invalid token format - not a JWT!"),console.error("[App] Token preview:",Ve.access_token.substring(0,50)),await new Promise(de=>setTimeout(de,500));continue}if(Ve.expires_at){const de=Ve.expires_at*1e3,Ae=Date.now();if(de<=Ae){console.warn("[App] Token is expired, refreshing...");const{data:Be,error:et}=await fe.auth.refreshSession();if(!et&&Be.session){console.log("[App]  Session refreshed"),await new Promise(Wt=>setTimeout(Wt,300));continue}else{console.error("[App] Failed to refresh session:",et),await new Promise(Wt=>setTimeout(Wt,500));continue}}}console.log("[App] Validating token with getUser()...");const{data:{user:Et},error:Mt}=await fe.auth.getUser();if(Mt){console.error("[App] Token validation failed:",Mt.message),console.warn("[App] Attempting to refresh session...");const{data:de,error:Ae}=await fe.auth.refreshSession();if(!Ae&&de.session){console.log("[App]  Session refreshed after validation failure"),await new Promise(Be=>setTimeout(Be,300));continue}else{console.error("[App] Failed to refresh after validation failure:",Ae),await new Promise(Be=>setTimeout(Be,500));continue}}if(!Et){console.error("[App] No user returned from getUser()"),await new Promise(de=>setTimeout(de,500));continue}$e=Ve,console.log(`[App]  Valid session obtained after ${Fe} attempts`),console.log("[App] Session details:",{user_id:Et.id,email:Et.email,token_length:Ve.access_token.length,expires_at:new Date(Ve.expires_at*1e3).toLocaleString()})}if(!$e){console.error("[App]  Failed to obtain valid session after timeout"),console.error("[App] User needs to try logging in again"),pe.error("Session Error",{description:"Could not establish session. Please try logging in again."});return}console.log("[App] Starting background token refresh..."),bS(),console.log("[App] Proceeding to load user data..."),await Ke()},ze=async()=>{await Yt().auth.signOut(),localStorage.clear(),om(),SS(),a(null),s("auth"),d(null),ie(null),J(null),console.log("[Logout] User logged out, storage cleared")},kt=fe=>{d(fe),s("conversation")},Pn=()=>{s("group-create")},Jt=()=>{s("settings")},It=()=>{d(null),s("home")},xn=fe=>{d(fe),s("conversation")},zt=fe=>{a(fe)},Wn=(fe,Me)=>{j(fe),E(Me),s("story-view")},oe=()=>{s("story-create")},Se=async()=>{s("home"),await new Promise(fe=>setTimeout(fe,300)),P(fe=>fe+1)},Le=()=>{s("home"),P(fe=>fe+1)},Ye=(fe,Me)=>{$(fe),V(Me||""),Q(l),s("profile-view")},Ct=()=>{s(H?"conversation":"home")},Xe=async fe=>{(await Tx.block(fe)).success?(pe.success("User blocked"),i&&a({...i,blocked_users:[...i.blocked_users||[],fe]})):pe.error("Failed to block user")},ot=async fe=>{(await Tx.unblock(fe)).success?(pe.success("User unblocked"),i&&a({...i,blocked_users:(i.blocked_users||[]).filter(qe=>qe!==fe)})):pe.error("Failed to unblock user")},Ge=async fe=>{(await di.delete(fe)).success?(pe.success("Chat deleted"),s("home"),d(null),Q(null),P(qe=>qe+1)):pe.error("Failed to delete chat")};w.useEffect(()=>{},[i,n,z,Z]);const Ze=async(fe,Me)=>{pe.info("Coming Soon! ",{description:`${Me==="video"?"Video":"Voice"} calling feature will be available soon. Stay tuned!`})},jt=async()=>{},ar=()=>{},lr=async()=>{J(null),pe.info("Coming Soon! ",{description:"Voice and video calling will be available soon. Stay tuned!"})},uo=async()=>{z&&(console.log("[Call] Rejecting call:",z.id),await Px.reject(z.id),J(null),pe("Call declined"))},Cs=async()=>{console.log("[Call] Ending call"),Z&&await Px.end(Z.id),_e.current&&(clearInterval(_e.current),_e.current=null),ue.current&&(ue.current.cleanup(),ue.current=null),ie(null),be(null),W(null),L(null),s("home"),pe("Call ended")};return t?u.jsx(UR,{onComplete:()=>e(!1)}):p?u.jsxs("div",{className:"h-screen w-full flex items-center justify-center bg-gradient-to-br from-background via-surface to-muted relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 opacity-20",children:[u.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-primary/30 rounded-full blur-3xl animate-pulse"}),u.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-accent/30 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),u.jsxs("div",{className:"relative flex flex-col items-center gap-6 z-10",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-primary to-accent shadow-2xl shadow-primary/30 flex items-center justify-center animate-pulse",children:u.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),u.jsx("div",{className:"absolute inset-0 animate-spin",style:{animationDuration:"3s"},children:u.jsx("div",{className:"w-full h-full rounded-2xl border-4 border-transparent border-t-primary border-r-accent"})})]}),u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h2",{className:"text-xl font-semibold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"AuroraLink"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Loading your messages..."})]}),u.jsx("div",{className:"flex gap-2",children:[0,1,2].map(fe=>u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse",style:{animationDelay:`${fe*.2}s`}},fe))})]})]}):u.jsxs("div",{className:"min-h-screen-safe bg-background text-foreground overflow-x-hidden w-full max-w-full touch-manipulation no-overscroll",children:[n==="onboarding"&&u.jsx(T5,{onComplete:ft}),n==="auth"&&u.jsx(Q4,{onAuthSuccess:ge}),n==="home"&&i&&u.jsx(fL,{currentUser:i,onSelectConversation:kt,onNewChat:Pn,onSettings:Jt,onLogout:ze,onViewStory:Wn,onCreateStory:oe},N),n==="conversation"&&i&&l&&u.jsx(b$,{conversationId:l,currentUser:i,onBack:It,onInitiateCall:Ze,onViewProfile:Ye,onDeleteChat:()=>Ge(l)}),n==="group-create"&&i&&u.jsx(k$,{currentUser:i,onBack:It,onConversationCreated:xn}),n==="settings"&&i&&u.jsx(R$,{currentUser:i,onBack:It,onUserUpdate:zt}),n==="story-view"&&i&&C.length>0&&u.jsx(I$,{userStoriesList:C,initialUserIndex:T,currentUser:i,onClose:Se,onRefresh:Se}),n==="story-create"&&i&&u.jsx(D$,{currentUser:i,onClose:It,onSuccess:Le}),n==="profile-view"&&i&&I&&u.jsx(U$,{user:I,currentUser:i,onBack:Ct,onSendMessage:()=>{H&&s("conversation")},onInitiateCall:fe=>Ze(I,fe),onBlock:()=>Xe(I.id),onUnblock:()=>ot(I.id),onDelete:H?()=>Ge(H):void 0,isBlocked:i.blocked_users?.includes(I.id),lastSeen:M}),n==="call"&&i&&Z&&he&&ue.current&&u.jsx(O$,{callType:Z.call_type,recipientUser:he,currentUser:i,isInitiator:Z.caller_id===i.id,onEndCall:Cs,onCallConnected:()=>console.log("[Call] Connected"),onCallFailed:fe=>{console.error("[Call] Failed:",fe),pe.error("Call failed",{description:fe}),Cs()},peerConnection:ue.current.getPeerConnection(),localStream:R,remoteStream:X}),z&&z.caller&&u.jsx(z$,{caller:z.caller,callType:z.call_type,onAccept:lr,onReject:uo}),O&&q&&u.jsx(W$,{open:O,callType:q,onGrantPermissions:jt,onCancel:ar}),u.jsx(H$,{show:m,onClearSession:async()=>{console.log("[Auth Error] ========== USER REQUESTED SESSION CLEAR ==========");try{await Yt().auth.signOut(),console.log("[Auth Error] Supabase sign out complete")}catch(fe){console.error("[Auth Error] Error during sign out:",fe)}gr(),console.log("[Auth Error] Session cleared"),_.current=0,S(0),localStorage.removeItem("aurora_auth_error_count"),console.log("[Auth Error] Auth error counter reset"),g(!1),console.log("[Auth Error] Auth error state reset"),pe.success("Session Cleared",{description:"Reloading application...",duration:1e3}),setTimeout(()=>{console.log("[Auth Error] Reloading page..."),window.location.reload()},1e3)}}),u.jsx($E,{})]})}cE.createRoot(document.getElementById("root")).render(u.jsx(nF,{}));
